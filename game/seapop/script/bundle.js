!function(i){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.m=i,__webpack_require__.c=r,__webpack_require__.d=function(e,t,i){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(i,r,function(e){return t[e]}.bind(null,r));return i},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=191)}([function(e,t,i){(function(i){e.exports=function r(a,s,l){function o(i,e){if(!s[i]){if(!a[i]){if(c)return c(i,!0);var t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}var n=s[i]={exports:{}};a[i][0].call(n.exports,function(e){var t=a[i][1][e];return o(t||e)},n,n.exports,r,a,s,l)}return s[i].exports}for(var c=!1,e=0;e<l.length;e++)o(l[e]);return o}({1:[function(e,t,i){var c={};t.exports=c;var h=e("../geometry/Vertices"),u=e("../geometry/Vector"),n=e("../core/Sleeping"),o=(e("../render/Render"),e("../core/Common")),p=e("../geometry/Bounds"),f=e("../geometry/Axes");!function(){c._inertiaScale=4,c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,c.create=function(e){var t={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:h.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},i=o.extend(t,e);return r(i,e),i},c.nextGroup=function(e){return e?c._nextNonCollidingGroupId--:c._nextCollidingGroupId++},c.nextCategory=function(){return c._nextCategory=c._nextCategory<<1,c._nextCategory};var r=function(e,t){t=t||{},c.set(e,{bounds:e.bounds||p.create(e.vertices),positionPrev:e.positionPrev||u.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),h.rotate(e.vertices,e.angle,e.position),f.rotate(e.axes,e.angle),p.update(e.bounds,e.vertices,e.velocity),c.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var i=e.isStatic?"#2e2b44":o.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);e.render.fillStyle=e.render.fillStyle||i,e.render.strokeStyle=e.render.strokeStyle||"#000",e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};c.set=function(e,t,i){var r;for(r in"string"==typeof t&&(r=t,(t={})[r]=i),t)if(i=t[r],t.hasOwnProperty(r))switch(r){case"isStatic":c.setStatic(e,i);break;case"isSleeping":n.set(e,i);break;case"mass":c.setMass(e,i);break;case"density":c.setDensity(e,i);break;case"inertia":c.setInertia(e,i);break;case"vertices":c.setVertices(e,i);break;case"position":c.setPosition(e,i);break;case"angle":c.setAngle(e,i);break;case"velocity":c.setVelocity(e,i);break;case"angularVelocity":c.setAngularVelocity(e,i);break;case"parts":c.setParts(e,i);break;default:e[r]=i}},c.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var r=e.parts[i];(r.isStatic=t)?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,delete r._original)}},c.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=t/6*i,e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},c.setDensity=function(e,t){c.setMass(e,t*e.area),e.density=t},c.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},c.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=h.create(t,e),e.axes=f.fromVertices(e.vertices),e.area=h.area(e.vertices),c.setMass(e,e.density*e.area);var i=h.centre(e.vertices);h.translate(e.vertices,i,-1),c.setInertia(e,c._inertiaScale*h.inertia(e.vertices,e.mass)),h.translate(e.vertices,e.position),p.update(e.bounds,e.vertices,e.velocity)},c.setParts=function(e,t,i){var r;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var n=t[r];n!==e&&(n.parent=e).parts.push(n)}if(1!==e.parts.length){if(i=void 0===i||i){var o=[];for(r=0;r<t.length;r++)o=o.concat(t[r].vertices);h.clockwiseSort(o);var a=h.hull(o),s=h.centre(a);c.setVertices(e,a),h.translate(e.vertices,s)}var l=c._totalProperties(e);e.area=l.area,(e.parent=e).position.x=l.centre.x,e.position.y=l.centre.y,e.positionPrev.x=l.centre.x,e.positionPrev.y=l.centre.y,c.setMass(e,l.mass),c.setInertia(e,l.inertia),c.setPosition(e,l.centre)}},c.setPosition=function(e,t){var i=u.sub(t,e.position);e.positionPrev.x+=i.x,e.positionPrev.y+=i.y;for(var r=0;r<e.parts.length;r++){var n=e.parts[r];n.position.x+=i.x,n.position.y+=i.y,h.translate(n.vertices,i),p.update(n.bounds,n.vertices,e.velocity)}},c.setAngle=function(e,t){var i=t-e.angle;e.anglePrev+=i;for(var r=0;r<e.parts.length;r++){var n=e.parts[r];n.angle+=i,h.rotate(n.vertices,i,e.position),f.rotate(n.axes,i),p.update(n.bounds,n.vertices,e.velocity),0<r&&u.rotateAbout(n.position,i,e.position,n.position)}},c.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=u.magnitude(e.velocity)},c.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},c.translate=function(e,t){c.setPosition(e,u.add(e.position,t))},c.rotate=function(e,t,i){if(i){var r=Math.cos(t),n=Math.sin(t),o=e.position.x-i.x,a=e.position.y-i.y;c.setPosition(e,{x:i.x+(o*r-a*n),y:i.y+(o*n+a*r)}),c.setAngle(e,e.angle+t)}else c.setAngle(e,e.angle+t)},c.scale=function(e,t,i,r){var n=0,o=0;r=r||e.position;for(var a=0;a<e.parts.length;a++){var s=e.parts[a];h.scale(s.vertices,t,i,r),s.axes=f.fromVertices(s.vertices),s.area=h.area(s.vertices),c.setMass(s,e.density*s.area),h.translate(s.vertices,{x:-s.position.x,y:-s.position.y}),c.setInertia(s,c._inertiaScale*h.inertia(s.vertices,s.mass)),h.translate(s.vertices,{x:s.position.x,y:s.position.y}),0<a&&(n+=s.area,o+=s.inertia),s.position.x=r.x+(s.position.x-r.x)*t,s.position.y=r.y+(s.position.y-r.y)*i,p.update(s.bounds,s.vertices,e.velocity)}1<e.parts.length&&(e.area=n,e.isStatic||(c.setMass(e,e.density*n),c.setInertia(e,o))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null)},c.update=function(e,t,i,r){var n=Math.pow(t*i*e.timeScale,2),o=1-e.frictionAir*i*e.timeScale,a=e.position.x-e.positionPrev.x,s=e.position.y-e.positionPrev.y;e.velocity.x=a*o*r+e.force.x/e.mass*n,e.velocity.y=s*o*r+e.force.y/e.mass*n,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*o*r+e.torque/e.inertia*n,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=u.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var l=0;l<e.parts.length;l++){var c=e.parts[l];h.translate(c.vertices,e.velocity),0<l&&(c.position.x+=e.velocity.x,c.position.y+=e.velocity.y),0!==e.angularVelocity&&(h.rotate(c.vertices,e.angularVelocity,e.position),f.rotate(c.axes,e.angularVelocity),0<l&&u.rotateAbout(c.position,e.angularVelocity,e.position,c.position)),p.update(c.bounds,c.vertices,e.velocity)}},c.applyForce=function(e,t,i){e.force.x+=i.x,e.force.y+=i.y;var r={x:t.x-e.position.x,y:t.y-e.position.y};e.torque+=r.x*i.y-r.y*i.x},c._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var r=e.parts[i],n=r.mass!==1/0?r.mass:1;t.mass+=n,t.area+=r.area,t.inertia+=r.inertia,t.centre=u.add(t.centre,u.mult(r.position,n))}return t.centre=u.div(t.centre,t.mass),t}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,i){var u={};t.exports=u;var a=e("../core/Events"),o=e("../core/Common"),s=e("../geometry/Bounds"),p=e("./Body");u.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},u.setModified=function(e,t,i,r){if(e.isModified=t,i&&e.parent&&u.setModified(e.parent,t,i,r),r)for(var n=0;n<e.composites.length;n++){var o=e.composites[n];u.setModified(o,t,i,r)}},u.add=function(e,t){var i=[].concat(t);a.trigger(e,"beforeAdd",{object:t});for(var r=0;r<i.length;r++){var n=i[r];switch(n.type){case"body":if(n.parent!==n){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(e,n);break;case"constraint":u.addConstraint(e,n);break;case"composite":u.addComposite(e,n);break;case"mouseConstraint":u.addConstraint(e,n.constraint)}}return a.trigger(e,"afterAdd",{object:t}),e},u.remove=function(e,t,i){var r=[].concat(t);a.trigger(e,"beforeRemove",{object:t});for(var n=0;n<r.length;n++){var o=r[n];switch(o.type){case"body":u.removeBody(e,o,i);break;case"constraint":u.removeConstraint(e,o,i);break;case"composite":u.removeComposite(e,o,i);break;case"mouseConstraint":u.removeConstraint(e,o.constraint)}}return a.trigger(e,"afterRemove",{object:t}),e},u.addComposite=function(e,t){return e.composites.push(t),t.parent=e,u.setModified(e,!0,!0,!1),e},u.removeComposite=function(e,t,i){var r=o.indexOf(e.composites,t);if(-1!==r&&(u.removeCompositeAt(e,r),u.setModified(e,!0,!0,!1)),i)for(var n=0;n<e.composites.length;n++)u.removeComposite(e.composites[n],t,!0);return e},u.removeCompositeAt=function(e,t){return e.composites.splice(t,1),u.setModified(e,!0,!0,!1),e},u.addBody=function(e,t){return e.bodies.push(t),u.setModified(e,!0,!0,!1),e},u.removeBody=function(e,t,i){var r=o.indexOf(e.bodies,t);if(-1!==r&&(u.removeBodyAt(e,r),u.setModified(e,!0,!0,!1)),i)for(var n=0;n<e.composites.length;n++)u.removeBody(e.composites[n],t,!0);return e},u.removeBodyAt=function(e,t){return e.bodies.splice(t,1),u.setModified(e,!0,!0,!1),e},u.addConstraint=function(e,t){return e.constraints.push(t),u.setModified(e,!0,!0,!1),e},u.removeConstraint=function(e,t,i){var r=o.indexOf(e.constraints,t);if(-1!==r&&u.removeConstraintAt(e,r),i)for(var n=0;n<e.composites.length;n++)u.removeConstraint(e.composites[n],t,!0);return e},u.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),u.setModified(e,!0,!0,!1),e},u.clear=function(e,t,i){if(i)for(var r=0;r<e.composites.length;r++)u.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,u.setModified(e,!0,!0,!1),e},u.allBodies=function(e){for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(u.allBodies(e.composites[i]));return t},u.allConstraints=function(e){for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(u.allConstraints(e.composites[i]));return t},u.allComposites=function(e){for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(u.allComposites(e.composites[i]));return t},u.get=function(e,t,i){var r,n;switch(i){case"body":r=u.allBodies(e);break;case"constraint":r=u.allConstraints(e);break;case"composite":r=u.allComposites(e).concat(e)}return r?0===(n=r.filter(function(e){return e.id.toString()===t.toString()})).length?null:n[0]:null},u.move=function(e,t,i){return u.remove(e,t),u.add(i,t),e},u.rebase=function(e){for(var t=u.allBodies(e).concat(u.allConstraints(e)).concat(u.allComposites(e)),i=0;i<t.length;i++)t[i].id=o.nextId();return u.setModified(e,!0,!0,!1),e},u.translate=function(e,t,i){for(var r=i?u.allBodies(e):e.bodies,n=0;n<r.length;n++)p.translate(r[n],t);return u.setModified(e,!0,!0,!1),e},u.rotate=function(e,t,i,r){for(var n=Math.cos(t),o=Math.sin(t),a=r?u.allBodies(e):e.bodies,s=0;s<a.length;s++){var l=a[s],c=l.position.x-i.x,h=l.position.y-i.y;p.setPosition(l,{x:i.x+(c*n-h*o),y:i.y+(c*o+h*n)}),p.rotate(l,t)}return u.setModified(e,!0,!0,!1),e},u.scale=function(e,t,i,r,n){for(var o=n?u.allBodies(e):e.bodies,a=0;a<o.length;a++){var s=o[a],l=s.position.x-r.x,c=s.position.y-r.y;p.setPosition(s,{x:r.x+l*t,y:r.y+c*i}),p.scale(s,t,i)}return u.setModified(e,!0,!0,!1),e},u.bounds=function(e){for(var t=u.allBodies(e),i=[],r=0;r<t.length;r+=1){var n=t[r];i.push(n.bounds.min,n.bounds.max)}return s.create(i)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,i){var r={};t.exports=r;var n=e("./Composite"),o=(e("../constraint/Constraint"),e("../core/Common"));r.create=function(e){var t=n.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return o.extend(t,i,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,i){var r={};(t.exports=r).create=function(e){return{id:r.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},r.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,i){var m={};t.exports=m;var g=e("./SAT"),y=e("./Pair"),v=e("../geometry/Bounds");m.collisions=function(e,t){for(var i=[],r=t.pairs.table,n=0;n<e.length;n++){var o=e[n][0],a=e[n][1];if((!o.isStatic&&!o.isSleeping||!a.isStatic&&!a.isSleeping)&&m.canCollide(o.collisionFilter,a.collisionFilter)&&v.overlaps(o.bounds,a.bounds))for(var s=1<o.parts.length?1:0;s<o.parts.length;s++)for(var l=o.parts[s],c=1<a.parts.length?1:0;c<a.parts.length;c++){var h=a.parts[c];if(l===o&&h===a||v.overlaps(l.bounds,h.bounds)){var u,p=y.id(l,h),f=r[p];u=f&&f.isActive?f.collision:null;var d=g.collides(l,h,u);d.collided&&i.push(d)}}}return i},m.canCollide=function(e,t){return e.group===t.group&&0!==e.group?0<e.group:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,i){var y={};t.exports=y;var s=e("./Pair"),r=e("./Detector"),l=e("../core/Common");y.create=function(e){var t={controller:y,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return l.extend(t,e)},y.update=function(e,t,i,r){var n,o,a,s,l,c=i.world,h=e.buckets,u=!1;for(n=0;n<t.length;n++){var p=t[n];if((!p.isSleeping||r)&&!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y)){var f=y._getRegion(e,p);if(!p.region||f.id!==p.region.id||r){p.region&&!r||(p.region=f);var d=y._regionUnion(f,p.region);for(o=d.startCol;o<=d.endCol;o++)for(a=d.startRow;a<=d.endRow;a++){l=y._getBucketId(o,a),s=h[l];var m=o>=f.startCol&&o<=f.endCol&&a>=f.startRow&&a<=f.endRow,g=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!m&&g&&g&&s&&y._bucketRemoveBody(e,s,p),(p.region===f||m&&!g||r)&&(s||(s=y._createBucket(h,l)),y._bucketAddBody(e,s,p))}p.region=f,u=!0}}}u&&(e.pairsList=y._createActivePairsList(e))},y.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},y._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),n=Math.min(e.startRow,t.startRow),o=Math.max(e.endRow,t.endRow);return y._createRegion(i,r,n,o)},y._getRegion=function(e,t){var i=t.bounds,r=Math.floor(i.min.x/e.bucketWidth),n=Math.floor(i.max.x/e.bucketWidth),o=Math.floor(i.min.y/e.bucketHeight),a=Math.floor(i.max.y/e.bucketHeight);return y._createRegion(r,n,o,a)},y._createRegion=function(e,t,i,r){return{id:e+","+t+","+i+","+r,startCol:e,endCol:t,startRow:i,endRow:r}},y._getBucketId=function(e,t){return"C"+e+"R"+t},y._createBucket=function(e,t){var i=e[t]=[];return i},y._bucketAddBody=function(e,t,i){for(var r=0;r<t.length;r++){var n=t[r];if(!(i.id===n.id||i.isStatic&&n.isStatic)){var o=s.id(i,n),a=e.pairs[o];a?a[2]+=1:e.pairs[o]=[i,n,1]}}t.push(i)},y._bucketRemoveBody=function(e,t,i){t.splice(l.indexOf(t,i),1);for(var r=0;r<t.length;r++){var n=t[r],o=s.id(i,n),a=e.pairs[o];a&&(a[2]-=1)}},y._createActivePairsList=function(e){var t,i,r=[];t=l.keys(e.pairs);for(var n=0;n<t.length;n++)0<(i=e.pairs[t[n]])[2]?r.push(i):delete e.pairs[t[n]];return r}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,i){var p={};t.exports=p;var f=e("./Contact");p.create=function(e,t){var i=e.bodyA,r=e.bodyB,n=e.parentA,o=e.parentB,a={id:p.id(i,r),bodyA:i,bodyB:r,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:n.inverseMass+o.inverseMass,friction:Math.min(n.friction,o.friction),frictionStatic:Math.max(n.frictionStatic,o.frictionStatic),restitution:Math.max(n.restitution,o.restitution),slop:Math.max(n.slop,o.slop)};return p.update(a,e,t),a},p.update=function(e,t,i){var r=e.contacts,n=t.supports,o=e.activeContacts,a=t.parentA,s=t.parentB;if(e.collision=t,e.inverseMass=a.inverseMass+s.inverseMass,e.friction=Math.min(a.friction,s.friction),e.frictionStatic=Math.max(a.frictionStatic,s.frictionStatic),e.restitution=Math.max(a.restitution,s.restitution),e.slop=Math.max(a.slop,s.slop),o.length=0,t.collided){for(var l=0;l<n.length;l++){var c=n[l],h=f.id(c),u=r[h];u?o.push(u):o.push(r[h]=f.create(c))}e.separation=t.depth,p.setActive(e,!0,i)}else!0===e.isActive&&p.setActive(e,!1,i)},p.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},p.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,i){var c={};t.exports=c;var f=e("./Pair"),d=e("../core/Common");c._pairMaxIdleLife=1e3,c.create=function(e){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},c.update=function(e,t,i){var r,n,o,a,s=e.list,l=e.table,c=e.collisionStart,h=e.collisionEnd,u=e.collisionActive,p=[];for(c.length=0,h.length=0,u.length=0,a=0;a<t.length;a++)(r=t[a]).collided&&(n=f.id(r.bodyA,r.bodyB),p.push(n),(o=l[n])?(o.isActive?u.push(o):c.push(o),f.update(o,r,i)):(o=f.create(r,i),l[n]=o,c.push(o),s.push(o)));for(a=0;a<s.length;a++)(o=s[a]).isActive&&-1===d.indexOf(p,o.id)&&(f.setActive(o,!1,i),h.push(o))},c.removeOld=function(e,t){var i,r,n,o,a=e.list,s=e.table,l=[];for(o=0;o<a.length;o++)i=a[o],(r=i.collision).bodyA.isSleeping||r.bodyB.isSleeping?i.timeUpdated=t:t-i.timeUpdated>c._pairMaxIdleLife&&l.push(o);for(o=0;o<l.length;o++)n=l[o]-o,i=a[n],delete s[i.id],a.splice(n,1)},c.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,i){var p={};t.exports=p;var f=e("../geometry/Vector"),l=e("./SAT"),c=e("../geometry/Bounds"),d=e("../factory/Bodies"),s=e("../geometry/Vertices");p.collides=function(e,t){for(var i=[],r=0;r<t.length;r++){var n=t[r];if(c.overlaps(n.bounds,e.bounds))for(var o=1===n.parts.length?0:1;o<n.parts.length;o++){var a=n.parts[o];if(c.overlaps(a.bounds,e.bounds)){var s=l.collides(a,e);if(s.collided){i.push(s);break}}}}return i},p.ray=function(e,t,i,r){r=r||1e-100;for(var n=f.angle(t,i),o=f.magnitude(f.sub(t,i)),a=.5*(i.x+t.x),s=.5*(i.y+t.y),l=d.rectangle(a,s,o,r,{angle:n}),c=p.collides(l,e),h=0;h<c.length;h+=1){var u=c[h];u.body=u.bodyB=u.bodyA}return c},p.region=function(e,t,i){for(var r=[],n=0;n<e.length;n++){var o=e[n],a=c.overlaps(o.bounds,t);(a&&!i||!a&&i)&&r.push(o)}return r},p.point=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r];if(c.contains(n.bounds,t))for(var o=1===n.parts.length?0:1;o<n.parts.length;o++){var a=n.parts[o];if(c.contains(a.bounds,t)&&s.contains(a.vertices,t)){i.push(n);break}}}return i}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,i){var Y={};t.exports=Y;var o=e("../geometry/Vertices"),j=e("../geometry/Vector"),L=e("../core/Common"),a=e("../geometry/Bounds");Y._restingThresh=4,Y._restingThreshTangent=6,Y._positionDampen=.9,Y._positionWarming=.8,Y._frictionNormalMultiplier=5,Y.preSolvePosition=function(e){var t,i,r;for(t=0;t<e.length;t++)(i=e[t]).isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},Y.solvePosition=function(e,t){var i,r,n,o,a,s,l,c,h,u=j._temp[0],p=j._temp[1],f=j._temp[2],d=j._temp[3];for(i=0;i<e.length;i++)(r=e[i]).isActive&&!r.isSensor&&(n=r.collision,o=n.parentA,a=n.parentB,s=n.normal,l=j.sub(j.add(a.positionImpulse,a.position,u),j.add(o.positionImpulse,j.sub(a.position,n.penetration,p),f),d),r.separation=j.dot(s,l));for(i=0;i<e.length;i++)(r=e[i]).isActive&&!r.isSensor&&(n=r.collision,o=n.parentA,a=n.parentB,s=n.normal,h=(r.separation-r.slop)*t,(o.isStatic||a.isStatic)&&(h*=2),o.isStatic||o.isSleeping||(c=Y._positionDampen/o.totalContacts,o.positionImpulse.x+=s.x*h*c,o.positionImpulse.y+=s.y*h*c),a.isStatic||a.isSleeping||(c=Y._positionDampen/a.totalContacts,a.positionImpulse.x-=s.x*h*c,a.positionImpulse.y-=s.y*h*c))},Y.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var i=e[t];if((i.totalContacts=0)!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var r=0;r<i.parts.length;r++){var n=i.parts[r];o.translate(n.vertices,i.positionImpulse),a.update(n.bounds,n.vertices,i.velocity),n.position.x+=i.positionImpulse.x,n.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,j.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=Y._positionWarming,i.positionImpulse.y*=Y._positionWarming)}}},Y.preSolveVelocity=function(e){var t,i,r,n,o,a,s,l,c,h,u,p,f,d,m=j._temp[0],g=j._temp[1];for(t=0;t<e.length;t++)if((r=e[t]).isActive&&!r.isSensor)for(n=r.activeContacts,o=r.collision,a=o.parentA,s=o.parentB,l=o.normal,c=o.tangent,i=0;i<n.length;i++)h=n[i],u=h.vertex,p=h.normalImpulse,f=h.tangentImpulse,0===p&&0===f||(m.x=l.x*p+c.x*f,m.y=l.y*p+c.y*f,a.isStatic||a.isSleeping||(d=j.sub(u,a.position,g),a.positionPrev.x+=m.x*a.inverseMass,a.positionPrev.y+=m.y*a.inverseMass,a.anglePrev+=j.cross(d,m)*a.inverseInertia),s.isStatic||s.isSleeping||(d=j.sub(u,s.position,g),s.positionPrev.x-=m.x*s.inverseMass,s.positionPrev.y-=m.y*s.inverseMass,s.anglePrev-=j.cross(d,m)*s.inverseInertia))},Y.solveVelocity=function(e,t){for(var i=t*t,r=j._temp[0],n=j._temp[1],o=j._temp[2],a=j._temp[3],s=j._temp[4],l=j._temp[5],c=0;c<e.length;c++){var h=e[c];if(h.isActive&&!h.isSensor){var u=h.collision,p=u.parentA,f=u.parentB,d=u.normal,m=u.tangent,g=h.activeContacts,y=1/g.length;p.velocity.x=p.position.x-p.positionPrev.x,p.velocity.y=p.position.y-p.positionPrev.y,f.velocity.x=f.position.x-f.positionPrev.x,f.velocity.y=f.position.y-f.positionPrev.y,p.angularVelocity=p.angle-p.anglePrev,f.angularVelocity=f.angle-f.anglePrev;for(var v=0;v<g.length;v++){var x=g[v],b=x.vertex,w=j.sub(b,p.position,n),_=j.sub(b,f.position,o),S=j.add(p.velocity,j.mult(j.perp(w),p.angularVelocity),a),k=j.add(f.velocity,j.mult(j.perp(_),f.angularVelocity),s),B=j.sub(S,k,l),C=j.dot(d,B),M=j.dot(m,B),G=Math.abs(M),T=L.sign(M),A=(1+h.restitution)*C,P=L.clamp(h.separation+C,0,1)*Y._frictionNormalMultiplier,W=M,z=1/0;G>h.friction*h.frictionStatic*P*i&&(z=G,W=L.clamp(h.friction*T*i,-z,z));var I=j.cross(w,d),E=j.cross(_,d),U=y/(p.inverseMass+f.inverseMass+p.inverseInertia*I*I+f.inverseInertia*E*E);if(A*=U,W*=U,C<0&&C*C>Y._restingThresh*i)x.normalImpulse=0;else{var R=x.normalImpulse;x.normalImpulse=Math.min(x.normalImpulse+A,0),A=x.normalImpulse-R}if(M*M>Y._restingThreshTangent*i)x.tangentImpulse=0;else{var O=x.tangentImpulse;x.tangentImpulse=L.clamp(x.tangentImpulse+W,-z,z),W=x.tangentImpulse-O}r.x=d.x*A+m.x*W,r.y=d.y*A+m.y*W,p.isStatic||p.isSleeping||(p.positionPrev.x+=r.x*p.inverseMass,p.positionPrev.y+=r.y*p.inverseMass,p.anglePrev+=j.cross(w,r)*p.inverseInertia),f.isStatic||f.isSleeping||(f.positionPrev.x-=r.x*f.inverseMass,f.positionPrev.y-=r.y*f.inverseMass,f.anglePrev-=j.cross(_,r)*f.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,i){var y={};t.exports=y;var v=e("../geometry/Vertices"),x=e("../geometry/Vector");y.collides=function(e,t,i){var r,n,o,a,s=!1;if(i){var l=e.parent,c=t.parent,h=l.speed*l.speed+l.angularSpeed*l.angularSpeed+c.speed*c.speed+c.angularSpeed*c.angularSpeed;s=i&&i.collided&&h<.2,a=i}else a={collided:!1,bodyA:e,bodyB:t};if(i&&s){var u=a.axisBody,p=u===e?t:e,f=[u.axes[i.axisNumber]];if(o=y._overlapAxes(u.vertices,p.vertices,f),a.reused=!0,o.overlap<=0)return a.collided=!1,a}else{if((r=y._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return a.collided=!1,a;if((n=y._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return a.collided=!1,a;r.overlap<n.overlap?(o=r,a.axisBody=e):(o=n,a.axisBody=t),a.axisNumber=o.axisNumber}a.bodyA=e.id<t.id?e:t,a.bodyB=e.id<t.id?t:e,a.collided=!0,a.depth=o.overlap,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent,e=a.bodyA,t=a.bodyB,x.dot(o.axis,x.sub(t.position,e.position))<0?a.normal={x:o.axis.x,y:o.axis.y}:a.normal={x:-o.axis.x,y:-o.axis.y},a.tangent=x.perp(a.normal),a.penetration=a.penetration||{},a.penetration.x=a.normal.x*a.depth,a.penetration.y=a.normal.y*a.depth;var d=y._findSupports(e,t,a.normal),m=[];if(v.contains(e.vertices,d[0])&&m.push(d[0]),v.contains(e.vertices,d[1])&&m.push(d[1]),m.length<2){var g=y._findSupports(t,e,x.neg(a.normal));v.contains(t.vertices,g[0])&&m.push(g[0]),m.length<2&&v.contains(t.vertices,g[1])&&m.push(g[1])}return m.length<1&&(m=[d[0]]),a.supports=m,a},y._overlapAxes=function(e,t,i){for(var r,n,o=x._temp[0],a=x._temp[1],s={overlap:Number.MAX_VALUE},l=0;l<i.length;l++){if(n=i[l],y._projectToAxis(o,e,n),y._projectToAxis(a,t,n),(r=Math.min(o.max-a.min,a.max-o.min))<=0)return s.overlap=r,s;r<s.overlap&&(s.overlap=r,s.axis=n,s.axisNumber=l)}return s},y._projectToAxis=function(e,t,i){for(var r=x.dot(t[0],i),n=r,o=1;o<t.length;o+=1){var a=x.dot(t[o],i);n<a?n=a:a<r&&(r=a)}e.min=r,e.max=n},y._findSupports=function(e,t,i){for(var r,n,o,a,s=Number.MAX_VALUE,l=x._temp[0],c=t.vertices,h=e.position,u=0;u<c.length;u++)n=c[u],l.x=n.x-h.x,l.y=n.y-h.y,(r=-x.dot(i,l))<s&&(s=r,o=n);var p=0<=o.index-1?o.index-1:c.length-1;n=c[p],l.x=n.x-h.x,l.y=n.y-h.y,s=-x.dot(i,l),a=n;var f=(o.index+1)%c.length;return n=c[f],l.x=n.x-h.x,l.y=n.y-h.y,(r=-x.dot(i,l))<s&&(a=n),[o,a]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,i){var _={};t.exports=_;var a=e("../geometry/Vertices"),S=e("../geometry/Vector"),s=e("../core/Sleeping"),l=e("../geometry/Bounds"),c=e("../geometry/Axes"),h=e("../core/Common");_._warming=.4,_._torqueDampen=1,_._minLength=1e-6,_.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?S.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?S.add(t.bodyB.position,t.pointB):t.pointB,n=S.magnitude(S.sub(i,r));t.length=void 0!==t.length?t.length:n,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(0<t.length?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&.1<t.stiffness?(o.type="pin",o.anchors=!1):t.stiffness<.9&&(o.type="spring"),t.render=h.extend(o,t.render),t},_.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],r=i.constraintImpulse;i.isStatic||0===r.x&&0===r.y&&0===r.angle||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},_.solveAll=function(e,t){for(var i=0;i<e.length;i+=1){var r=e[i],n=!r.bodyA||r.bodyA&&r.bodyA.isStatic,o=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(n||o)&&_.solve(e[i],t)}for(i=0;i<e.length;i+=1)r=e[i],n=!r.bodyA||r.bodyA&&r.bodyA.isStatic,o=!r.bodyB||r.bodyB&&r.bodyB.isStatic,n||o||_.solve(e[i],t)},_.solve=function(e,t){var i=e.bodyA,r=e.bodyB,n=e.pointA,o=e.pointB;if(i||r){i&&!i.isStatic&&(S.rotate(n,i.angle-e.angleA,n),e.angleA=i.angle),r&&!r.isStatic&&(S.rotate(o,r.angle-e.angleB,o),e.angleB=r.angle);var a=n,s=o;if(i&&(a=S.add(i.position,n)),r&&(s=S.add(r.position,o)),a&&s){var l=S.sub(a,s),c=S.magnitude(l);c<_._minLength&&(c=_._minLength);var h,u,p,f,d,m=(c-e.length)/c,g=e.stiffness<1?e.stiffness*t:e.stiffness,y=S.mult(l,m*g),v=(i?i.inverseMass:0)+(r?r.inverseMass:0),x=(i?i.inverseInertia:0)+(r?r.inverseInertia:0),b=v+x;if(e.damping){var w=S.create();p=S.div(l,c),d=S.sub(r&&S.sub(r.position,r.positionPrev)||w,i&&S.sub(i.position,i.positionPrev)||w),f=S.dot(p,d)}i&&!i.isStatic&&(u=i.inverseMass/v,i.constraintImpulse.x-=y.x*u,i.constraintImpulse.y-=y.y*u,i.position.x-=y.x*u,i.position.y-=y.y*u,e.damping&&(i.positionPrev.x-=e.damping*p.x*f*u,i.positionPrev.y-=e.damping*p.y*f*u),h=S.cross(n,y)/b*_._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=h,i.angle-=h),r&&!r.isStatic&&(u=r.inverseMass/v,r.constraintImpulse.x+=y.x*u,r.constraintImpulse.y+=y.y*u,r.position.x+=y.x*u,r.position.y+=y.y*u,e.damping&&(r.positionPrev.x+=e.damping*p.x*f*u,r.positionPrev.y+=e.damping*p.y*f*u),h=S.cross(o,y)/b*_._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=h,r.angle+=h)}}},_.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=i.constraintImpulse;if(!(i.isStatic||0===r.x&&0===r.y&&0===r.angle)){s.set(i,!1);for(var n=0;n<i.parts.length;n++){var o=i.parts[n];a.translate(o.vertices,r),0<n&&(o.position.x+=r.x,o.position.y+=r.y),0!==r.angle&&(a.rotate(o.vertices,r.angle,i.position),c.rotate(o.axes,r.angle),0<n&&S.rotateAbout(o.position,r.angle,i.position,o.position)),l.update(o.bounds,o.vertices,i.velocity)}r.angle*=_._warming,r.x*=_._warming,r.y*=_._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,i){var a={};t.exports=a;var l=e("../geometry/Vertices"),c=e("../core/Sleeping"),s=e("../core/Mouse"),h=e("../core/Events"),u=e("../collision/Detector"),p=e("./Constraint"),f=e("../body/Composite"),d=e("../core/Common"),m=e("../geometry/Bounds");a.create=function(t,e){var i=(t?t.mouse:null)||(e?e.mouse:null);i||(t&&t.render&&t.render.canvas?i=s.create(t.render.canvas):e&&e.element?i=s.create(e.element):(i=s.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var r=p.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),n={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:r,collisionFilter:{category:1,mask:4294967295,group:0}},o=d.extend(n,e);return h.on(t,"beforeUpdate",function(){var e=f.allBodies(t.world);a.update(o,e),a._triggerEvents(o)}),o},a.update=function(e,t){var i=e.mouse,r=e.constraint,n=e.body;if(0===i.button){if(r.bodyB)c.set(r.bodyB,!1),r.pointA=i.position;else for(var o=0;o<t.length;o++)if(n=t[o],m.contains(n.bounds,i.position)&&u.canCollide(n.collisionFilter,e.collisionFilter))for(var a=1<n.parts.length?1:0;a<n.parts.length;a++){var s=n.parts[a];if(l.contains(s.vertices,i.position)){r.pointA=i.position,r.bodyB=e.body=n,r.pointB={x:i.position.x-n.position.x,y:i.position.y-n.position.y},r.angleB=n.angle,c.set(n,!1),h.trigger(e,"startdrag",{mouse:i,body:n});break}}}else r.bodyB=e.body=null,r.pointB=null,n&&h.trigger(e,"enddrag",{mouse:i,body:n})},a._triggerEvents=function(e){var t=e.mouse,i=t.sourceEvents;i.mousemove&&h.trigger(e,"mousemove",{mouse:t}),i.mousedown&&h.trigger(e,"mousedown",{mouse:t}),i.mouseup&&h.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(n,e,t){(function(r){var l={};e.exports=l,function(){l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l.extend=function(e,t){var i,r;r="boolean"==typeof t?(i=2,t):(i=1,!0);for(var n=i;n<arguments.length;n++){var o=arguments[n];if(o)for(var a in o)r&&o[a]&&o[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=o[a]:(e[a]=e[a]||{},l.extend(e[a],r,o[a])):e[a]=o[a]}return e},l.clone=function(e,t){return l.extend({},t,e)},l.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},l.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),r=0;r<i.length;r++)t.push(e[i[r]]);return t}for(var n in e)t.push(e[n]);return t},l.get=function(e,t,i,r){t=t.split(".").slice(i,r);for(var n=0;n<t.length;n+=1)e=e[t[n]];return e},l.set=function(e,t,i,r,n){var o=t.split(".").slice(r,n);return l.get(e,t,0,-1)[o[o.length-1]]=i},l.shuffle=function(e){for(var t=e.length-1;0<t;t--){var i=Math.floor(l.random()*(t+1)),r=e[t];e[t]=e[i],e[i]=r}return e},l.choose=function(e){return e[Math.floor(l.random()*e.length)]},l.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},l.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l.isFunction=function(e){return"function"==typeof e},l.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},l.isString=function(e){return"[object String]"===toString.call(e)},l.clamp=function(e,t,i){return e<t?t:i<e?i:e},l.sign=function(e){return e<0?-1:1},l.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-l._nowStartTime},l.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+i()*(t-e)};var i=function(){return l._seed=(9301*l._seed+49297)%233280,l._seed/233280};l.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},l.logLevel=1,l.log=function(){console&&0<l.logLevel&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&0<l.logLevel&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&0<l.logLevel&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.nextId=function(){return l._nextId++},l.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},l.map=function(e,t){if(e.map)return e.map(t);for(var i=[],r=0;r<e.length;r+=1)i.push(t(e[r]));return i},l.topologicalSort=function(e){var t=[],i=[],r=[];for(var n in e)i[n]||r[n]||l._topologicalSort(n,i,r,e,t);return t},l._topologicalSort=function(e,t,i,r,n){var o=r[e]||[];i[e]=!0;for(var a=0;a<o.length;a+=1){var s=o[a];i[s]||t[s]||l._topologicalSort(s,t,i,r,n)}i[e]=!1,t[e]=!0,n.push(e)},l.chain=function(){for(var o=[],e=0;e<arguments.length;e+=1){var t=arguments[e];t._chained?o.push.apply(o,t._chained):o.push(t)}var i=function(){for(var e,t=new Array(arguments.length),i=0,r=arguments.length;i<r;i++)t[i]=arguments[i];for(i=0;i<o.length;i+=1){var n=o[i].apply(e,t);void 0!==n&&(e=n)}return e};return i._chained=o,i},l.chainPathBefore=function(e,t,i){return l.set(e,t,l.chain(i,l.get(e,t)))},l.chainPathAfter=function(e,t,i){return l.set(e,t,l.chain(l.get(e,t),i))},l._requireGlobal=function(e,t){var i="undefined"!=typeof window?window[e]:void 0!==r?r[e]:null;return i||n(t)}}()}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,i){var d={};t.exports=d;var o=e("../body/World"),m=e("./Sleeping"),g=e("../collision/Resolver"),a=e("../render/Render"),y=e("../collision/Pairs"),s=(e("./Metrics"),e("../collision/Grid")),v=e("./Events"),x=e("../body/Composite"),b=e("../constraint/Constraint"),l=e("./Common"),c=e("../body/Body");d.create=function(e,t){t=l.isElement(e)?t:e,e=l.isElement(e)?e:null,t=t||{},(e||t.render)&&l.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:s}},r=l.extend(i,t);if(e||r.render){var n={element:e,controller:a};r.render=l.extend(n,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=t.world||o.create(r.world),r.pairs=y.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r},d.update=function(e,t,i){t=t||1e3/60,i=i||1;var r,n=e.world,o=e.timing,a=e.broadphase,s=[];o.timestamp+=t*o.timeScale;var l={timestamp:o.timestamp};v.trigger(e,"beforeUpdate",l);var c=x.allBodies(n),h=x.allConstraints(n);for(e.enableSleeping&&m.update(c,o.timeScale),d._bodiesApplyGravity(c,n.gravity),d._bodiesUpdate(c,t,o.timeScale,i,n.bounds),b.preSolveAll(c),r=0;r<e.constraintIterations;r++)b.solveAll(h,o.timeScale);b.postSolveAll(c),s=a.controller?(n.isModified&&a.controller.clear(a),a.controller.update(a,c,e,n.isModified),a.pairsList):c,n.isModified&&x.setModified(n,!1,!1,!0);var u=a.detector(s,e),p=e.pairs,f=o.timestamp;for(y.update(p,u,f),y.removeOld(p,f),e.enableSleeping&&m.afterCollisions(p.list,o.timeScale),0<p.collisionStart.length&&v.trigger(e,"collisionStart",{pairs:p.collisionStart}),g.preSolvePosition(p.list),r=0;r<e.positionIterations;r++)g.solvePosition(p.list,o.timeScale);for(g.postSolvePosition(c),b.preSolveAll(c),r=0;r<e.constraintIterations;r++)b.solveAll(h,o.timeScale);for(b.postSolveAll(c),g.preSolveVelocity(p.list),r=0;r<e.velocityIterations;r++)g.solveVelocity(p.list,o.timeScale);return 0<p.collisionActive.length&&v.trigger(e,"collisionActive",{pairs:p.collisionActive}),0<p.collisionEnd.length&&v.trigger(e,"collisionEnd",{pairs:p.collisionEnd}),d._bodiesClearForces(c),v.trigger(e,"afterUpdate",l),e},d.merge=function(e,t){if(l.extend(e,t),t.world){e.world=t.world,d.clear(e);for(var i=x.allBodies(e.world),r=0;r<i.length;r++){var n=i[r];m.set(n,!1),n.id=l.nextId()}}},d.clear=function(e){var t=e.world;y.clear(e.pairs);var i=e.broadphase;if(i.controller){var r=x.allBodies(t);i.controller.clear(i),i.controller.update(i,r,e,!0)}},d._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.force.x=0,i.force.y=0,i.torque=0}},d._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==i)for(var r=0;r<e.length;r++){var n=e[r];n.isStatic||n.isSleeping||(n.force.y+=n.mass*t.y*i,n.force.x+=n.mass*t.x*i)}},d._bodiesUpdate=function(e,t,i,r,n){for(var o=0;o<e.length;o++){var a=e[o];a.isStatic||a.isSleeping||c.update(a,t,i,r)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,i){var r={};t.exports=r;var c=e("./Common");r.on=function(e,t,i){for(var r,n=t.split(" "),o=0;o<n.length;o++)r=n[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(i);return i},r.off=function(e,t,i){if(t){"function"==typeof t&&(i=t,t=c.keys(e.events).join(" "));for(var r=t.split(" "),n=0;n<r.length;n++){var o=e.events[r[n]],a=[];if(i&&o)for(var s=0;s<o.length;s++)o[s]!==i&&a.push(o[s]);e.events[r[n]]=a}}else e.events={}},r.trigger=function(e,t,i){var r,n,o,a;if(e.events){i||(i={}),r=t.split(" ");for(var s=0;s<r.length;s++)if(n=r[s],o=e.events[n]){(a=c.clone(i,!1)).name=n,a.source=e;for(var l=0;l<o.length;l++)o[l].apply(e,[a])}}}},{"./Common":14}],17:[function(e,t,i){var r={};t.exports=r;var n=e("./Plugin"),o=e("./Common");r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){n.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(r,e,t)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,i){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,i){var n={};t.exports=n;var o=e("../core/Common");n.create=function(e){var r={};return e||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),r.element=e||document.body,r.absolute={x:0,y:0},r.position={x:0,y:0},r.mousedownPosition={x:0,y:0},r.mouseupPosition={x:0,y:0},r.offset={x:0,y:0},r.scale={x:1,y:1},r.wheelDelta=0,r.button=-1,r.pixelRatio=r.element.getAttribute("data-pixel-ratio")||1,r.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},r.mousemove=function(e){var t=n._getRelativeMousePosition(e,r.element,r.pixelRatio),i=e.changedTouches;i&&(r.button=0,e.preventDefault()),r.absolute.x=t.x,r.absolute.y=t.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.sourceEvents.mousemove=e},r.mousedown=function(e){var t=n._getRelativeMousePosition(e,r.element,r.pixelRatio),i=e.changedTouches;i?(r.button=0,e.preventDefault()):r.button=e.button,r.absolute.x=t.x,r.absolute.y=t.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mousedownPosition.x=r.position.x,r.mousedownPosition.y=r.position.y,r.sourceEvents.mousedown=e},r.mouseup=function(e){var t=n._getRelativeMousePosition(e,r.element,r.pixelRatio),i=e.changedTouches;i&&e.preventDefault(),r.button=-1,r.absolute.x=t.x,r.absolute.y=t.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mouseupPosition.x=r.position.x,r.mouseupPosition.y=r.position.y,r.sourceEvents.mouseup=e},r.mousewheel=function(e){r.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},n.setElement(r,r.element),r},n.setElement=function(e,t){(e.element=t).addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},n.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},n.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},n.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},n._getRelativeMousePosition=function(e,t,i){var r,n,o=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,c=e.changedTouches;return n=c?(r=c[0].pageX-o.left-s,c[0].pageY-o.top-l):(r=e.pageX-o.left-s,e.pageY-o.top-l),{x:r/(t.clientWidth/(t.width||t.clientWidth)*i),y:n/(t.clientHeight/(t.height||t.clientHeight)*i)}}},{"../core/Common":14}],20:[function(e,t,i){var s={};t.exports=s;var l=e("./Common");s._registry={},s.register=function(e){if(s.isPlugin(e)||l.warn("Plugin.register:",s.toString(e),"does not implement all required fields."),e.name in s._registry){var t=s._registry[e.name],i=s.versionParse(e.version).number,r=s.versionParse(t.version).number;r<i?(l.warn("Plugin.register:",s.toString(t),"was upgraded to",s.toString(e)),s._registry[e.name]=e):i<r?l.warn("Plugin.register:",s.toString(t),"can not be downgraded to",s.toString(e)):e!==t&&l.warn("Plugin.register:",s.toString(e),"is already registered to different plugin object")}else s._registry[e.name]=e;return e},s.resolve=function(e){return s._registry[s.dependencyParse(e).name]},s.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},s.isPlugin=function(e){return e&&e.name&&e.version&&e.install},s.isUsed=function(e,t){return-1<e.used.indexOf(t)},s.isFor=function(e,t){var i=e.for&&s.dependencyParse(e.for);return!e.for||t.name===i.name&&s.versionSatisfies(t.version,i.range)},s.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var i=s.dependencies(e),r=l.topologicalSort(i),n=[],o=0;o<r.length;o+=1)if(r[o]!==e.name){var a=s.resolve(r[o]);a?s.isUsed(e,a.name)||(s.isFor(a,e)||(l.warn("Plugin.use:",s.toString(a),"is for",a.for,"but installed on",s.toString(e)+"."),a._warned=!0),a.install?a.install(e):(l.warn("Plugin.use:",s.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(n.push("🔶 "+s.toString(a)),delete a._warned):n.push("✅ "+s.toString(a)),e.used.push(a.name)):n.push("❌ "+r[o])}0<n.length&&l.info(n.join("  "))}else l.warn("Plugin.use:",s.toString(e),"does not specify any dependencies to install.")},s.dependencies=function(r,e){var n=s.dependencyParse(r),t=n.name;if(!(t in(e=e||{}))){r=s.resolve(r)||r,e[t]=l.map(r.uses||[],function(e){s.isPlugin(e)&&s.register(e);var t=s.dependencyParse(e),i=s.resolve(e);return i&&!s.versionSatisfies(i.version,t.range)?(l.warn("Plugin.dependencies:",s.toString(i),"does not satisfy",s.toString(t),"used by",s.toString(n)+"."),i._warned=!0,r._warned=!0):i||(l.warn("Plugin.dependencies:",s.toString(e),"used by",s.toString(n),"could not be resolved."),r._warned=!0),t.name});for(var i=0;i<e[t].length;i+=1)s.dependencies(e[t][i],e);return e}},s.dependencyParse=function(e){return l.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||l.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},s.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||l.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var i=isNaN(Number(e[0])),r=i?e.substr(1):e,n=l.map(r.split("."),function(e){return Number(e)});return{isRange:i,version:r,range:e,operator:i?e[0]:"",parts:n,prerelease:t[1],number:1e8*n[0]+1e4*n[1]+n[2]}},s.versionSatisfies=function(e,t){t=t||"*";var i=s.versionParse(t),r=i.parts,n=s.versionParse(e),o=n.parts;if(i.isRange){if("*"===i.operator||"*"===e)return!0;if("~"===i.operator)return o[0]===r[0]&&o[1]===r[1]&&o[2]>=r[2];if("^"===i.operator)return 0<r[0]?o[0]===r[0]&&n.number>=i.number:0<r[1]?o[1]===r[1]&&o[2]>=r[2]:o[2]===r[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,i){var n={};t.exports=n;var s=e("./Events"),l=e("./Engine"),o=e("./Common");!function(){var r,t,i;"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r||(r=function(e){i=setTimeout(function(){e(o.now())},1e3/60)},t=function(){clearTimeout(i)}),n.create=function(e){var t=o.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},n.run=function(t,i){return void 0!==t.positionIterations&&(i=t,t=n.create()),function render(e){t.frameRequestId=r(render),e&&t.enabled&&n.tick(t,i,e)}(),t},n.tick=function(e,t,i){var r,n=t.timing,o=1,a={timestamp:n.timestamp};s.trigger(e,"beforeTick",a),s.trigger(t,"beforeTick",a),e.isFixed?r=e.delta:(r=i-e.timePrev||e.delta,e.timePrev=i,e.deltaHistory.push(r),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),r=(r=(r=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:r)>e.deltaMax?e.deltaMax:r,o=r/e.delta,e.delta=r),0!==e.timeScalePrev&&(o*=n.timeScale/e.timeScalePrev),0===n.timeScale&&(o=0),e.timeScalePrev=n.timeScale,e.correction=o,e.frameCounter+=1,1e3<=i-e.counterTimestamp&&(e.fps=e.frameCounter*((i-e.counterTimestamp)/1e3),e.counterTimestamp=i,e.frameCounter=0),s.trigger(e,"tick",a),s.trigger(t,"tick",a),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),s.trigger(e,"beforeUpdate",a),l.update(t,r,o),s.trigger(e,"afterUpdate",a),t.render&&t.render.controller&&(s.trigger(e,"beforeRender",a),s.trigger(t,"beforeRender",a),t.render.controller.world(t.render),s.trigger(e,"afterRender",a),s.trigger(t,"afterRender",a)),s.trigger(e,"afterTick",a),s.trigger(t,"afterTick",a)},n.stop=function(e){t(e.frameRequestId)},n.start=function(e,t){n.run(e,t)}}()},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,i){var h={};t.exports=h;var r=e("./Events");h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(e,t){for(var i=t*t*t,r=0;r<e.length;r++){var n=e[r],o=n.speed*n.speed+n.angularSpeed*n.angularSpeed;if(0===n.force.x&&0===n.force.y){var a=Math.min(n.motion,o),s=Math.max(n.motion,o);n.motion=h._minBias*a+(1-h._minBias)*s,0<n.sleepThreshold&&n.motion<h._motionSleepThreshold*i?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&h.set(n,!0)):0<n.sleepCounter&&(n.sleepCounter-=1)}else h.set(n,!1)}},h.afterCollisions=function(e,t){for(var i=t*t*t,r=0;r<e.length;r++){var n=e[r];if(n.isActive){var o=n.collision,a=o.bodyA.parent,s=o.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:s,c=l===a?s:a;!l.isStatic&&c.motion>h._motionWakeThreshold*i&&h.set(l,!1)}}}},h.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||r.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&r.trigger(e,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,i){var d={};t.exports=d;var C,M=e("../geometry/Vertices"),G=e("../core/Common"),T=e("../body/Body"),A=e("../geometry/Bounds"),P=e("../geometry/Vector");d.rectangle=function(e,t,i,r,n){n=n||{};var o={label:"Rectangle Body",position:{x:e,y:t},vertices:M.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(n.chamfer){var a=n.chamfer;o.vertices=M.chamfer(o.vertices,a.radius,a.quality,a.qualityMin,a.qualityMax),delete n.chamfer}return T.create(G.extend({},o,n))},d.trapezoid=function(e,t,i,r,n,o){o=o||{};var a,s=(1-2*(n*=.5))*i,l=i*n,c=l+s,h=c+l;a=n<.5?"L 0 0 L "+l+" "+-r+" L "+c+" "+-r+" L "+h+" 0":"L 0 0 L "+c+" "+-r+" L "+h+" 0";var u={label:"Trapezoid Body",position:{x:e,y:t},vertices:M.fromPath(a)};if(o.chamfer){var p=o.chamfer;u.vertices=M.chamfer(u.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete o.chamfer}return T.create(G.extend({},u,o))},d.circle=function(e,t,i,r,n){r=r||{};var o={label:"Circle Body",circleRadius:i};n=n||25;var a=Math.ceil(Math.max(10,Math.min(n,i)));return a%2==1&&(a+=1),d.polygon(e,t,a,i,G.extend({},o,r))},d.polygon=function(e,t,i,r,n){if(n=n||{},i<3)return d.circle(e,t,r,n);for(var o=2*Math.PI/i,a="",s=.5*o,l=0;l<i;l+=1){var c=s+l*o,h=Math.cos(c)*r,u=Math.sin(c)*r;a+="L "+h.toFixed(3)+" "+u.toFixed(3)+" "}var p={label:"Polygon Body",position:{x:e,y:t},vertices:M.fromPath(a)};if(n.chamfer){var f=n.chamfer;p.vertices=M.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete n.chamfer}return T.create(G.extend({},p,n))},d.fromVertices=function(e,t,i,r,n,o,a){var s,l,c,h,u,p,f,d,m;for(C||(C=G._requireGlobal("decomp","poly-decomp")),r=r||{},l=[],n=void 0!==n&&n,o=void 0!==o?o:.01,a=void 0!==a?a:10,C||G.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),G.isArray(i[0])||(i=[i]),d=0;d<i.length;d+=1)if(h=i[d],(c=M.isConvex(h))||!C)h=c?M.clockwiseSort(h):M.hull(h),l.push({position:{x:e,y:t},vertices:h});else{var g=h.map(function(e){return[e.x,e.y]});C.makeCCW(g),!1!==o&&C.removeCollinearPoints(g,o);var y=C.quickDecomp(g);for(u=0;u<y.length;u++){var v=y[u],x=v.map(function(e){return{x:e[0],y:e[1]}});0<a&&M.area(x)<a||l.push({position:M.centre(x),vertices:x})}}for(u=0;u<l.length;u++)l[u]=T.create(G.extend(l[u],r));if(n)for(u=0;u<l.length;u++){var b=l[u];for(p=u+1;p<l.length;p++){var w=l[p];if(A.overlaps(b.bounds,w.bounds)){var _=b.vertices,S=w.vertices;for(f=0;f<b.vertices.length;f++)for(m=0;m<w.vertices.length;m++){var k=P.magnitudeSquared(P.sub(_[(f+1)%_.length],S[m])),B=P.magnitudeSquared(P.sub(_[f],S[(m+1)%S.length]));k<5&&B<5&&(_[f].isInternal=!0,S[m].isInternal=!0)}}}}return 1<l.length?(s=T.create(G.extend({parts:l.slice(0)},r)),T.setPosition(s,{x:e,y:t}),s):l[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,i){var g={};t.exports=g;var v=e("../body/Composite"),y=e("../constraint/Constraint"),x=e("../core/Common"),b=e("../body/Body"),d=e("./Bodies");g.stack=function(e,t,i,r,n,o,a){for(var s,l=v.create({label:"Stack"}),c=e,h=t,u=0,p=0;p<r;p++){for(var f=0,d=0;d<i;d++){var m=a(c,h,d,p,s,u);if(m){var g=m.bounds.max.y-m.bounds.min.y,y=m.bounds.max.x-m.bounds.min.x;f<g&&(f=g),b.translate(m,{x:.5*y,y:.5*g}),c=m.bounds.max.x+n,v.addBody(l,m),s=m,u+=1}else c+=n}h+=f+o,c=e}return l},g.chain=function(e,t,i,r,n,o){for(var a=e.bodies,s=1;s<a.length;s++){var l=a[s-1],c=a[s],h=l.bounds.max.y-l.bounds.min.y,u=l.bounds.max.x-l.bounds.min.x,p=c.bounds.max.y-c.bounds.min.y,f=c.bounds.max.x-c.bounds.min.x,d={bodyA:l,pointA:{x:u*t,y:h*i},bodyB:c,pointB:{x:f*r,y:p*n}},m=x.extend(d,o);v.addConstraint(e,y.create(m))}return e.label+=" Chain",e},g.mesh=function(e,t,i,r,n){var o,a,s,l,c,h=e.bodies;for(o=0;o<i;o++){for(a=1;a<t;a++)s=h[a-1+o*t],l=h[a+o*t],v.addConstraint(e,y.create(x.extend({bodyA:s,bodyB:l},n)));if(0<o)for(a=0;a<t;a++)s=h[a+(o-1)*t],l=h[a+o*t],v.addConstraint(e,y.create(x.extend({bodyA:s,bodyB:l},n))),r&&0<a&&(c=h[a-1+(o-1)*t],v.addConstraint(e,y.create(x.extend({bodyA:c,bodyB:l},n)))),r&&a<t-1&&(c=h[a+1+(o-1)*t],v.addConstraint(e,y.create(x.extend({bodyA:c,bodyB:l},n))))}return e.label+=" Mesh",e},g.pyramid=function(u,e,p,f,d,t,m){return g.stack(u,e,p,f,d,t,function(e,t,i,r,n,o){var a=Math.min(f,Math.ceil(p/2)),s=n?n.bounds.max.x-n.bounds.min.x:0;if(!(a<r)){var l=r=a-r,c=p-1-r;if(!(i<l||c<i)){1===o&&b.translate(n,{x:(i+(p%2==1?1:-1))*s,y:0});var h=n?i*s:0;return m(u+h+i*d,t,i,r,n,o)}}})},g.newtonsCradle=function(e,t,i,r,n){for(var o=v.create({label:"Newtons Cradle"}),a=0;a<i;a++){var s=d.circle(e+a*(1.9*r),t+n,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),l=y.create({pointA:{x:e+a*(1.9*r),y:t},bodyB:s});v.addBody(o,s),v.addConstraint(o,l)}return o},g.car=function(e,t,i,r,n){var o=b.nextGroup(!0),a=.5*-i+20,s=.5*i-20,l=v.create({label:"Car"}),c=d.rectangle(e,t,i,r,{collisionFilter:{group:o},chamfer:{radius:.5*r},density:2e-4}),h=d.circle(e+a,t+0,n,{collisionFilter:{group:o},friction:.8}),u=d.circle(e+s,t+0,n,{collisionFilter:{group:o},friction:.8}),p=y.create({bodyB:c,pointB:{x:a,y:0},bodyA:h,stiffness:1,length:0}),f=y.create({bodyB:c,pointB:{x:s,y:0},bodyA:u,stiffness:1,length:0});return v.addBody(l,c),v.addBody(l,h),v.addBody(l,u),v.addConstraint(l,p),v.addConstraint(l,f),l},g.softBody=function(e,t,i,r,n,o,a,s,l,c){l=x.extend({inertia:1/0},l),c=x.extend({stiffness:.2,render:{type:"line",anchors:!1}},c);var h=g.stack(e,t,i,r,n,o,function(e,t){return d.circle(e,t,s,l)});return g.mesh(h,i,r,a,c),h.label="Soft Body",h}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,i){var r={};t.exports=r;var a=e("../geometry/Vector"),s=e("../core/Common");r.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var r=(i+1)%e.length,n=a.normalise({x:e[r].y-e[i].y,y:e[i].x-e[r].x}),o=0===n.y?1/0:n.x/n.y;o=o.toFixed(3).toString(),t[o]=n}return s.values(t)},r.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),r=Math.sin(t),n=0;n<e.length;n++){var o,a=e[n];o=a.x*i-a.y*r,a.y=a.x*r+a.y*i,a.x=o}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,i){var r={};(t.exports=r).create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&r.update(t,e),t},r.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var n=t[r];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}i&&(0<i.x?e.max.x+=i.x:e.min.x+=i.x,0<i.y?e.max.y+=i.y:e.min.y+=i.y)},r.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},r.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},r.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},r.shift=function(e,t){var i=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+r}},{}],27:[function(e,t,i){var b={};t.exports=b,e("../geometry/Bounds");var w=e("../core/Common");b.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||w.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,n,o,a,s,l,c,h,u,p,f,d=[],m=0,g=0,y=0;t=t||15;var v=function(e,t,i){var r=i%2==1&&1<i;if(!h||e!=h.x||t!=h.y){f=h&&r?(p=h.x,h.y):p=0;var n={x:p+e,y:f+t};!r&&h||(h=n),d.push(n),g=p+e,y=f+t}},x=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":g=e.x,y=e.y;break;case"H":g=e.x;break;case"V":y=e.y}v(g,y,e.pathSegType)}};for(b._svgPathToAbsolute(e),n=e.getTotalLength(),s=[],i=0;i<e.pathSegList.numberOfItems;i+=1)s.push(e.pathSegList.getItem(i));for(l=s.concat();m<n;){if(u=e.getPathSegAtLength(m),(a=s[u])!=c){for(;l.length&&l[0]!=a;)x(l.shift());c=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(m),v(o.x,o.y,0)}m+=t}for(i=0,r=l.length;i<r;++i)x(l[i]);return d},b._svgPathToAbsolute=function(e){for(var t,i,r,n,o,a,s=e.pathSegList,l=0,c=0,h=s.numberOfItems,u=0;u<h;++u){var p=s.getItem(u),f=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(r=l+p.x1),"x2"in p&&(o=l+p.x2),"y1"in p&&(n=c+p.y1),"y2"in p&&(a=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),f){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,c),u);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,c),u);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),u);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),u);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,r,n,o,a),u);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,o,a),u);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,r,n),u);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),u);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),u);break;case"z":case"Z":l=t,c=i}"M"!=f&&"m"!=f||(t=l,i=c)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,i){var r={};(t.exports=r).create=function(e,t){return{x:e||0,y:t||0}},r.clone=function(e){return{x:e.x,y:e.y}},r.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},r.rotate=function(e,t,i){var r=Math.cos(t),n=Math.sin(t);i||(i={});var o=e.x*r-e.y*n;return i.y=e.x*n+e.y*r,i.x=o,i},r.rotateAbout=function(e,t,i,r){var n=Math.cos(t),o=Math.sin(t);r||(r={});var a=i.x+((e.x-i.x)*n-(e.y-i.y)*o);return r.y=i.y+((e.x-i.x)*o+(e.y-i.y)*n),r.x=a,r},r.normalise=function(e){var t=r.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.cross=function(e,t){return e.x*t.y-e.y*t.x},r.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},r.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},r.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},r.mult=function(e,t){return{x:e.x*t,y:e.y*t}},r.div=function(e,t){return{x:e.x/t,y:e.y/t}},r.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},r.neg=function(e){return{x:-e.x,y:-e.y}},r.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]},{}],29:[function(e,t,i){var s={};t.exports=s;var w=e("../geometry/Vector"),_=e("../core/Common");s.create=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r],o={x:n.x,y:n.y,index:r,body:t,isInternal:!1};i.push(o)}return i},s.fromPath=function(e,t){var r=[];return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(e,t,i){r.push({x:parseFloat(t),y:parseFloat(i)})}),s.create(r,t)},s.centre=function(e){for(var t,i,r,n=s.area(e,!0),o={x:0,y:0},a=0;a<e.length;a++)r=(a+1)%e.length,t=w.cross(e[a],e[r]),i=w.mult(w.add(e[a],e[r]),t),o=w.add(o,i);return w.div(o,6*n)},s.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return w.div(t,e.length)},s.area=function(e,t){for(var i=0,r=e.length-1,n=0;n<e.length;n++)i+=(e[r].x-e[n].x)*(e[r].y+e[n].y),r=n;return t?i/2:Math.abs(i)/2},s.inertia=function(e,t){for(var i,r,n=0,o=0,a=e,s=0;s<a.length;s++)r=(s+1)%a.length,i=Math.abs(w.cross(a[r],a[s])),n+=i*(w.dot(a[r],a[r])+w.dot(a[r],a[s])+w.dot(a[s],a[s])),o+=i;return t/6*(n/o)},s.translate=function(e,t,i){var r;if(i)for(r=0;r<e.length;r++)e[r].x+=t.x*i,e[r].y+=t.y*i;else for(r=0;r<e.length;r++)e[r].x+=t.x,e[r].y+=t.y;return e},s.rotate=function(e,t,i){if(0!==t){for(var r=Math.cos(t),n=Math.sin(t),o=0;o<e.length;o++){var a=e[o],s=a.x-i.x,l=a.y-i.y;a.x=i.x+(s*r-l*n),a.y=i.y+(s*n+l*r)}return e}},s.contains=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=e[(i+1)%e.length];if(0<(t.x-r.x)*(n.y-r.y)+(t.y-r.y)*(r.x-n.x))return!1}return!0},s.scale=function(e,t,i,r){if(1===t&&1===i)return e;var n,o;r=r||s.centre(e);for(var a=0;a<e.length;a++)n=e[a],o=w.sub(n,r),e[a].x=r.x+o.x*t,e[a].y=r.y+o.y*i;return e},s.chamfer=function(e,t,i,r,n){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,r=r||2,n=n||14;for(var o=[],a=0;a<e.length;a++){var s=e[0<=a-1?a-1:e.length-1],l=e[a],c=e[(a+1)%e.length],h=t[a<t.length?a:t.length-1];if(0!==h){var u=w.normalise({x:l.y-s.y,y:s.x-l.x}),p=w.normalise({x:c.y-l.y,y:l.x-c.x}),f=Math.sqrt(2*Math.pow(h,2)),d=w.mult(_.clone(u),h),m=w.normalise(w.mult(w.add(u,p),.5)),g=w.sub(l,w.mult(m,f)),y=i;-1===i&&(y=1.75*Math.pow(h,.32)),(y=_.clamp(y,r,n))%2==1&&(y+=1);for(var v=Math.acos(w.dot(u,p)),x=v/y,b=0;b<y;b++)o.push(w.add(w.rotate(d,x*b),g))}else o.push(l)}return o},s.clockwiseSort=function(e){var i=s.mean(e);return e.sort(function(e,t){return w.angle(i,e)-w.angle(i,t)}),e},s.isConvex=function(e){var t,i,r,n,o=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(r=(t+2)%a,n=(e[i=(t+1)%a].x-e[t].x)*(e[r].y-e[i].y),(n-=(e[i].y-e[t].y)*(e[r].x-e[i].x))<0?o|=1:0<n&&(o|=2),3===o)return!1;return 0!==o||null},s.hull=function(e){var t,i,r=[],n=[];for((e=e.slice(0)).sort(function(e,t){var i=e.x-t.x;return 0!=i?i:e.y-t.y}),i=0;i<e.length;i+=1){for(t=e[i];2<=n.length&&w.cross3(n[n.length-2],n[n.length-1],t)<=0;)n.pop();n.push(t)}for(i=e.length-1;0<=i;i-=1){for(t=e[i];2<=r.length&&w.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),n.pop(),r.concat(n)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,i){var r=t.exports=e("../core/Matter");r.Body=e("../body/Body"),r.Composite=e("../body/Composite"),r.World=e("../body/World"),r.Contact=e("../collision/Contact"),r.Detector=e("../collision/Detector"),r.Grid=e("../collision/Grid"),r.Pairs=e("../collision/Pairs"),r.Pair=e("../collision/Pair"),r.Query=e("../collision/Query"),r.Resolver=e("../collision/Resolver"),r.SAT=e("../collision/SAT"),r.Constraint=e("../constraint/Constraint"),r.MouseConstraint=e("../constraint/MouseConstraint"),r.Common=e("../core/Common"),r.Engine=e("../core/Engine"),r.Events=e("../core/Events"),r.Mouse=e("../core/Mouse"),r.Runner=e("../core/Runner"),r.Sleeping=e("../core/Sleeping"),r.Plugin=e("../core/Plugin"),r.Bodies=e("../factory/Bodies"),r.Composites=e("../factory/Composites"),r.Axes=e("../geometry/Axes"),r.Bounds=e("../geometry/Bounds"),r.Svg=e("../geometry/Svg"),r.Vector=e("../geometry/Vector"),r.Vertices=e("../geometry/Vertices"),r.Render=e("../render/Render"),r.RenderPixi=e("../render/RenderPixi"),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,r.Engine.run=r.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,i){var b={};t.exports=b;var y=e("../core/Common"),w=e("../body/Composite"),_=e("../geometry/Bounds"),S=e("../core/Events"),k=e("../collision/Grid"),B=e("../geometry/Vector"),C=e("../core/Mouse");!function(){var i,t;"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(y.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),b.create=function(e){var t={controller:b,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=y.extend(t,e);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=e.mouse,i.engine=e.engine,i.canvas=i.canvas||r(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},1!==i.options.pixelRatio&&b.setPixelRatio(i,i.options.pixelRatio),y.isElement(i.element)?i.element.appendChild(i.canvas):i.canvas.parentNode||y.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),i},b.run=function(t){!function loop(e){t.frameRequestId=i(loop),b.world(t)}()},b.stop=function(e){t(e.frameRequestId)},b.setPixelRatio=function(e,t){var i=e.options,r=e.canvas;"auto"===t&&(t=n(r)),i.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=i.width*t,r.height=i.height*t,r.style.width=i.width+"px",r.style.height=i.height+"px",e.context.scale(t,t)},b.lookAt=function(e,t,i,r){r=void 0===r||r,t=y.isArray(t)?t:[t],i=i||{x:0,y:0};for(var n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<t.length;o+=1){var a=t[o],s=a.bounds?a.bounds.min:a.min||a.position||a,l=a.bounds?a.bounds.max:a.max||a.position||a;s&&l&&(s.x<n.min.x&&(n.min.x=s.x),l.x>n.max.x&&(n.max.x=l.x),s.y<n.min.y&&(n.min.y=s.y),l.y>n.max.y&&(n.max.y=l.y))}var c=n.max.x-n.min.x+2*i.x,h=n.max.y-n.min.y+2*i.y,u=e.canvas.height,p=e.canvas.width,f=p/u,d=c/h,m=1,g=1;f<d?g=d/f:m=f/d,e.options.hasBounds=!0,e.bounds.min.x=n.min.x,e.bounds.max.x=n.min.x+c*m,e.bounds.min.y=n.min.y,e.bounds.max.y=n.min.y+h*g,r&&(e.bounds.min.x+=.5*c-c*m*.5,e.bounds.max.x+=.5*c-c*m*.5,e.bounds.min.y+=.5*h-h*g*.5,e.bounds.max.y+=.5*h-h*g*.5),e.bounds.min.x-=i.x,e.bounds.max.x-=i.x,e.bounds.min.y-=i.y,e.bounds.max.y-=i.y,e.mouse&&(C.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),C.setOffset(e.mouse,e.bounds.min))},b.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,n=i/e.options.height;e.context.scale(1/r,1/n),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},b.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},b.world=function(e){var t,i=e.engine,r=i.world,n=e.canvas,o=e.context,a=e.options,s=w.allBodies(r),l=w.allConstraints(r),c=a.wireframes?a.wireframeBackground:a.background,h=[],u=[],p={timestamp:i.timing.timestamp};if(S.trigger(e,"beforeRender",p),e.currentBackground!==c&&x(e,c),o.globalCompositeOperation="source-in",o.fillStyle="transparent",o.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="source-over",a.hasBounds){for(t=0;t<s.length;t++){var f=s[t];_.overlaps(f.bounds,e.bounds)&&h.push(f)}for(t=0;t<l.length;t++){var d=l[t],m=d.bodyA,g=d.bodyB,y=d.pointA,v=d.pointB;m&&(y=B.add(m.position,d.pointA)),g&&(v=B.add(g.position,d.pointB)),y&&v&&(_.contains(e.bounds,y)||_.contains(e.bounds,v))&&u.push(d)}b.startViewTransform(e),e.mouse&&(C.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),C.setOffset(e.mouse,e.bounds.min))}else u=l,h=s;!a.wireframes||i.enableSleeping&&a.showSleeping?b.bodies(e,h,o):(a.showConvexHulls&&b.bodyConvexHulls(e,h,o),b.bodyWireframes(e,h,o)),a.showBounds&&b.bodyBounds(e,h,o),(a.showAxes||a.showAngleIndicator)&&b.bodyAxes(e,h,o),a.showPositions&&b.bodyPositions(e,h,o),a.showVelocity&&b.bodyVelocity(e,h,o),a.showIds&&b.bodyIds(e,h,o),a.showSeparations&&b.separations(e,i.pairs.list,o),a.showCollisions&&b.collisions(e,i.pairs.list,o),a.showVertexNumbers&&b.vertexNumbers(e,h,o),a.showMousePosition&&b.mousePosition(e,e.mouse,o),b.constraints(u,o),a.showBroadphase&&i.broadphase.controller===k&&b.grid(e,i.broadphase,o),a.showDebug&&b.debug(e,o),a.hasBounds&&b.endViewTransform(e),S.trigger(e,"afterRender",p)},b.debug=function(e,t){var i=t,r=e.engine,n=r.world,o=r.metrics,a=e.options;if(w.allBodies(n),500<=r.timing.timestamp-(e.debugTimestamp||0)){var s="";o.timing&&(s+="fps: "+Math.round(o.timing.fps)+"    "),e.debugString=s,e.debugTimestamp=r.timing.timestamp}if(e.debugString){i.font="12px Arial",a.wireframes?i.fillStyle="rgba(255,255,255,0.5)":i.fillStyle="rgba(0,0,0,0.5)";for(var l=e.debugString.split("\n"),c=0;c<l.length;c++)i.fillText(l[c],50,50+18*c)}},b.constraints=function(e,t){for(var i=t,r=0;r<e.length;r++){var n=e[r];if(n.render.visible&&n.pointA&&n.pointB){var o,a,s=n.bodyA,l=n.bodyB;if(o=s?B.add(s.position,n.pointA):n.pointA,"pin"===n.render.type)i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.closePath();else{if(a=l?B.add(l.position,n.pointB):n.pointB,i.beginPath(),i.moveTo(o.x,o.y),"spring"===n.render.type)for(var c,h=B.sub(a,o),u=B.perp(B.normalise(h)),p=Math.ceil(y.clamp(n.length/5,12,20)),f=1;f<p;f+=1)c=f%2==0?1:-1,i.lineTo(o.x+h.x*(f/p)+u.x*c*4,o.y+h.y*(f/p)+u.y*c*4);i.lineTo(a.x,a.y)}n.render.lineWidth&&(i.lineWidth=n.render.lineWidth,i.strokeStyle=n.render.strokeStyle,i.stroke()),n.render.anchors&&(i.fillStyle=n.render.strokeStyle,i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.arc(a.x,a.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},b.bodyShadows=function(e,t,i){for(var r=i,n=(e.engine,0);n<t.length;n++){var o=t[n];if(o.render.visible){if(o.circleRadius)r.beginPath(),r.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI),r.closePath();else{r.beginPath(),r.moveTo(o.vertices[0].x,o.vertices[0].y);for(var a=1;a<o.vertices.length;a++)r.lineTo(o.vertices[a].x,o.vertices[a].y);r.closePath()}var s=o.position.x-.5*e.options.width,l=o.position.y-.2*e.options.height,c=Math.abs(s)+Math.abs(l);r.shadowColor="rgba(0,0,0,0.15)",r.shadowOffsetX=.05*s,r.shadowOffsetY=.05*l,r.shadowBlur=1+12*Math.min(1,c/1e3),r.fill(),r.shadowColor=null,r.shadowOffsetX=null,r.shadowOffsetY=null,r.shadowBlur=null}}},b.bodies=function(e,t,i){var r,n,o,a,s=i,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=1<r.parts.length?1:0;a<r.parts.length;a++)if((n=r.parts[a]).render.visible){if(l.showSleeping&&r.isSleeping?s.globalAlpha=.5*n.render.opacity:1!==n.render.opacity&&(s.globalAlpha=n.render.opacity),n.render.sprite&&n.render.sprite.texture&&!l.wireframes){var h=n.render.sprite,u=f(e,h.texture);s.translate(n.position.x,n.position.y),s.rotate(n.angle),s.drawImage(u,u.width*-h.xOffset*h.xScale,u.height*-h.yOffset*h.yScale,u.width*h.xScale,u.height*h.yScale),s.rotate(-n.angle),s.translate(-n.position.x,-n.position.y)}else{if(n.circleRadius)s.beginPath(),s.arc(n.position.x,n.position.y,n.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(n.vertices[0].x,n.vertices[0].y);for(var p=1;p<n.vertices.length;p++)!n.vertices[p-1].isInternal||c?s.lineTo(n.vertices[p].x,n.vertices[p].y):s.moveTo(n.vertices[p].x,n.vertices[p].y),n.vertices[p].isInternal&&!c&&s.moveTo(n.vertices[(p+1)%n.vertices.length].x,n.vertices[(p+1)%n.vertices.length].y);s.lineTo(n.vertices[0].x,n.vertices[0].y),s.closePath()}l.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb",s.stroke()):(s.fillStyle=n.render.fillStyle,n.render.lineWidth&&(s.lineWidth=n.render.lineWidth,s.strokeStyle=n.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},b.bodyWireframes=function(e,t,i){var r,n,o,a,s,l=i,c=e.options.showInternalEdges;for(l.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=1<r.parts.length?1:0;s<r.parts.length;s++){for(n=r.parts[s],l.moveTo(n.vertices[0].x,n.vertices[0].y),a=1;a<n.vertices.length;a++)!n.vertices[a-1].isInternal||c?l.lineTo(n.vertices[a].x,n.vertices[a].y):l.moveTo(n.vertices[a].x,n.vertices[a].y),n.vertices[a].isInternal&&!c&&l.moveTo(n.vertices[(a+1)%n.vertices.length].x,n.vertices[(a+1)%n.vertices.length].y);l.lineTo(n.vertices[0].x,n.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},b.bodyConvexHulls=function(e,t,i){var r,n,o,a=i;for(a.beginPath(),n=0;n<t.length;n++)if((r=t[n]).render.visible&&1!==r.parts.length){for(a.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)a.lineTo(r.vertices[o].x,r.vertices[o].y);a.lineTo(r.vertices[0].x,r.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},b.vertexNumbers=function(e,t,i){var r,n,o,a=i;for(r=0;r<t.length;r++){var s=t[r].parts;for(o=1<s.length?1:0;o<s.length;o++){var l=s[o];for(n=0;n<l.vertices.length;n++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(r+"_"+n,l.position.x+.8*(l.vertices[n].x-l.position.x),l.position.y+.8*(l.vertices[n].y-l.position.y))}}},b.mousePosition=function(e,t,i){var r=i;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},b.bodyBounds=function(e,t,i){var r=i,n=(e.engine,e.options);r.beginPath();for(var o=0;o<t.length;o++){var a=t[o];if(a.render.visible)for(var s=t[o].parts,l=1<s.length?1:0;l<s.length;l++){var c=s[l];r.rect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}}n.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},b.bodyAxes=function(e,t,i){var r,n,o,a,s=i,l=(e.engine,e.options);for(s.beginPath(),n=0;n<t.length;n++){var c=t[n],h=c.parts;if(c.render.visible)if(l.showAxes)for(o=1<h.length?1:0;o<h.length;o++)for(r=h[o],a=0;a<r.axes.length;a++){var u=r.axes[a];s.moveTo(r.position.x,r.position.y),s.lineTo(r.position.x+20*u.x,r.position.y+20*u.y)}else for(o=1<h.length?1:0;o<h.length;o++)for(r=h[o],a=0;a<r.axes.length;a++)s.moveTo(r.position.x,r.position.y),s.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},b.bodyPositions=function(e,t,i){var r,n,o,a,s=i,l=(e.engine,e.options);for(s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=0;a<r.parts.length;a++)n=r.parts[a],s.arc(n.position.x,n.position.y,3,0,2*Math.PI,!1),s.closePath();for(l.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),o=0;o<t.length;o++)(r=t[o]).render.visible&&(s.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},b.bodyVelocity=function(e,t,i){var r=i;r.beginPath();for(var n=0;n<t.length;n++){var o=t[n];o.render.visible&&(r.moveTo(o.position.x,o.position.y),r.lineTo(o.position.x+2*(o.position.x-o.positionPrev.x),o.position.y+2*(o.position.y-o.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},b.bodyIds=function(e,t,i){var r,n,o=i;for(r=0;r<t.length;r++)if(t[r].render.visible){var a=t[r].parts;for(n=1<a.length?1:0;n<a.length;n++){var s=a[n];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(s.id,s.position.x+10,s.position.y-10)}}},b.collisions=function(e,t,i){var r,n,o,a,s=i,l=e.options;for(s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive)for(n=r.collision,a=0;a<r.activeContacts.length;a++){var c=r.activeContacts[a],h=c.vertex;s.rect(h.x-1.5,h.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive&&(n=r.collision,0<r.activeContacts.length)){var u=r.activeContacts[0].vertex.x,p=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(u=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,p=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),n.bodyB===n.supports[0].body||!0===n.bodyA.isStatic?s.moveTo(u-8*n.normal.x,p-8*n.normal.y):s.moveTo(u+8*n.normal.x,p+8*n.normal.y),s.lineTo(u,p)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},b.separations=function(e,t,i){var r,n,o,a,s,l=i,c=e.options;for(l.beginPath(),s=0;s<t.length;s++)if((r=t[s]).isActive){n=r.collision,o=n.bodyA,a=n.bodyB;var h=1;a.isStatic||o.isStatic||(h=.5),a.isStatic&&(h=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-n.penetration.x*h,a.position.y-n.penetration.y*h),h=1,a.isStatic||o.isStatic||(h=.5),o.isStatic&&(h=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+n.penetration.x*h,o.position.y+n.penetration.y*h)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},b.grid=function(e,t,i){var r=i,n=e.options;n.wireframes?r.strokeStyle="rgba(255,180,0,0.1)":r.strokeStyle="rgba(255,180,0,0.5)",r.beginPath();for(var o=y.keys(t.buckets),a=0;a<o.length;a++){var s=o[a];if(!(t.buckets[s].length<2)){var l=s.split(/C|R/);r.rect(.5+parseInt(l[1],10)*t.bucketWidth,.5+parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}r.lineWidth=1,r.stroke()},b.inspector=function(e,t){e.engine;var i,r=e.selected,n=e.render,o=n.options;if(o.hasBounds){var a=n.bounds.max.x-n.bounds.min.x,s=n.bounds.max.y-n.bounds.min.y,l=a/n.options.width,c=s/n.options.height;t.scale(1/l,1/c),t.translate(-n.bounds.min.x,-n.bounds.min.y)}for(var h=0;h<r.length;h++){var u=r[h].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),u.type){case"body":i=u.bounds,t.beginPath(),t.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=u.pointA;u.bodyA&&(p=u.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",i=e.selectBounds,t.beginPath(),t.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)};var r=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},n=function(e){var t=e.getContext("2d"),i=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/r},f=function(e,t){var i=e.textures[t];return i||((i=e.textures[t]=new Image).src=t,i)},x=function(e,t){var i=t;/(jpg|gif|png)$/.test(t)&&(i="url("+t+")"),e.canvas.style.background=i,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,i){var b={};t.exports=b;var w=e("../geometry/Bounds"),_=e("../body/Composite"),f=e("../core/Common"),n=e("../core/Events"),S=e("../geometry/Vector");!function(){var i,t;"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(f.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),b.create=function(e){f.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:b,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},i=f.extend(t,e),r=!i.options.wireframes&&"transparent"===i.options.background;return i.pixiOptions=i.pixiOptions||{view:i.canvas,transparent:r,antialias:!0,backgroundColor:e.background},i.mouse=e.mouse,i.engine=e.engine,i.renderer=i.renderer||new PIXI.WebGLRenderer(i.options.width,i.options.height,i.pixiOptions),i.container=i.container||new PIXI.Container,i.spriteContainer=i.spriteContainer||new PIXI.Container,i.canvas=i.canvas||i.renderer.view,i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.options.width,y:i.options.height}},n.on(i.engine,"beforeUpdate",function(){b.clear(i)}),i.textures={},i.sprites={},i.primitives={},i.container.addChild(i.spriteContainer),f.isElement(i.element)?i.element.appendChild(i.canvas):f.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),i.canvas.oncontextmenu=function(){return!1},i.canvas.onselectstart=function(){return!1},i},b.run=function(t){!function loop(e){t.frameRequestId=i(loop),b.world(t)}()},b.stop=function(e){t(e.frameRequestId)},b.clear=function(e){for(var t=e.container,i=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;i.children[0];)i.removeChild(i.children[0]);var r=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},(e.sprites["bg-0"]=r)&&t.addChildAt(r,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},b.setBackground=function(e,t){if(e.currentBackground!==t){var i=t.indexOf&&-1!==t.indexOf("#"),r=e.sprites["bg-0"];if(i){var n=f.colorToNumber(t);e.renderer.backgroundColor=n,r&&e.container.removeChild(r)}else if(!r){var o=a(e,t);(r=e.sprites["bg-0"]=new PIXI.Sprite(o)).position.x=0,r.position.y=0,e.container.addChildAt(r,0)}e.currentBackground=t}},b.world=function(e){var t,i=e.engine,r=i.world,n=e.renderer,o=e.container,a=e.options,s=_.allBodies(r),l=_.allConstraints(r),c=[];a.wireframes?b.setBackground(e,a.wireframeBackground):b.setBackground(e,a.background);var h=e.bounds.max.x-e.bounds.min.x,u=e.bounds.max.y-e.bounds.min.y,p=h/e.options.width,f=u/e.options.height;if(a.hasBounds){for(t=0;t<s.length;t++){var d=s[t];d.render.sprite.visible=w.overlaps(d.bounds,e.bounds)}for(t=0;t<l.length;t++){var m=l[t],g=m.bodyA,y=m.bodyB,v=m.pointA,x=m.pointB;g&&(v=S.add(g.position,m.pointA)),y&&(x=S.add(y.position,m.pointB)),v&&x&&(w.contains(e.bounds,v)||w.contains(e.bounds,x))&&c.push(m)}o.scale.set(1/p,1/f),o.position.set(-e.bounds.min.x*(1/p),-e.bounds.min.y*(1/f))}else c=l;for(t=0;t<s.length;t++)b.body(e,s[t]);for(t=0;t<c.length;t++)b.constraint(e,c[t]);n.render(o)},b.constraint=function(e,t){e.engine;var i=t.bodyA,r=t.bodyB,n=t.pointA,o=t.pointB,a=e.container,s=t.render,l="c-"+t.id,c=e.primitives[l];c||(c=e.primitives[l]=new PIXI.Graphics),s.visible&&t.pointA&&t.pointB?(-1===f.indexOf(a.children,c)&&a.addChild(c),c.clear(),c.beginFill(0,0),c.lineStyle(s.lineWidth,f.colorToNumber(s.strokeStyle),1),i?c.moveTo(i.position.x+n.x,i.position.y+n.y):c.moveTo(n.x,n.y),r?c.lineTo(r.position.x+o.x,r.position.y+o.y):c.lineTo(o.x,o.y),c.endFill()):c.clear()},b.body=function(e,t){e.engine;var i=t.render;if(i.visible)if(i.sprite&&i.sprite.texture){var r="b-"+t.id,n=e.sprites[r],o=e.spriteContainer;n||(n=e.sprites[r]=c(e,t)),-1===f.indexOf(o.children,n)&&o.addChild(n),n.position.x=t.position.x,n.position.y=t.position.y,n.rotation=t.angle,n.scale.x=i.sprite.xScale||1,n.scale.y=i.sprite.yScale||1}else{var a="b-"+t.id,s=e.primitives[a],l=e.container;s||((s=e.primitives[a]=h(e,t)).initialAngle=t.angle),-1===f.indexOf(l.children,s)&&l.addChild(s),s.position.x=t.position.x,s.position.y=t.position.y,s.rotation=t.angle-s.initialAngle}};var c=function(e,t){var i=t.render,r=i.sprite.texture,n=a(e,r),o=new PIXI.Sprite(n);return o.anchor.x=t.render.sprite.xOffset,o.anchor.y=t.render.sprite.yOffset,o},h=function(e,t){var i,r=t.render,n=e.options,o=new PIXI.Graphics,a=f.colorToNumber(r.fillStyle),s=f.colorToNumber(r.strokeStyle),l=f.colorToNumber(r.strokeStyle),c=f.colorToNumber("#bbb"),h=f.colorToNumber("#CD5C5C");o.clear();for(var u=1<t.parts.length?1:0;u<t.parts.length;u++){i=t.parts[u],n.wireframes?(o.beginFill(0,0),o.lineStyle(1,c,1)):(o.beginFill(a,1),o.lineStyle(r.lineWidth,s,1)),o.moveTo(i.vertices[0].x-t.position.x,i.vertices[0].y-t.position.y);for(var p=1;p<i.vertices.length;p++)o.lineTo(i.vertices[p].x-t.position.x,i.vertices[p].y-t.position.y);o.lineTo(i.vertices[0].x-t.position.x,i.vertices[0].y-t.position.y),o.endFill(),(n.showAngleIndicator||n.showAxes)&&(o.beginFill(0,0),n.wireframes?o.lineStyle(1,h,1):o.lineStyle(1,l),o.moveTo(i.position.x-t.position.x,i.position.y-t.position.y),o.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2-t.position.x,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2-t.position.y),o.endFill())}return o},a=function(e,t){var i=e.textures[t];return i||(i=e.textures[t]=PIXI.Texture.fromImage(t)),i}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}).call(this,i(3))},function(i,e,t){(function(t){!function(e,t){"use strict";i.exports?i.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())}(this,function(){"use strict";var e={};function validateBase64(e){if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,i=unescape(encodeURIComponent(e)),r=new Uint8Array(i.length);for(t=0;t<i.length;t++)r[t]=i.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,i=[];for(t=0;t<e.length;t++)i.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(i.join("")))},"undefined"==typeof atob?void 0!==t.from?(e.encodeBase64=function(e){return t.from(e).toString("base64")},e.decodeBase64=function(e){return validateBase64(e),new Uint8Array(Array.prototype.slice.call(t.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new t(e).toString("base64")},e.decodeBase64=function(e){return validateBase64(e),new Uint8Array(Array.prototype.slice.call(new t(e,"base64"),0))}):(e.encodeBase64=function(e){var t,i=[],r=e.length;for(t=0;t<r;t++)i.push(String.fromCharCode(e[t]));return btoa(i.join(""))},e.decodeBase64=function(e){validateBase64(e);var t,i=atob(e),r=new Uint8Array(i.length);for(t=0;t<i.length;t++)r[t]=i.charCodeAt(t);return r}),e})}).call(this,t(23).Buffer)},function(e,t,b){!function(o){"use strict";var m=function(e){var t,i=new Float64Array(16);if(e)for(t=0;t<e.length;t++)i[t]=e[t];return i},a=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var c=m(),h=m([1]),g=m([56129,1]),u=m([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=m([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),r=m([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),s=m([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=m([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(e,t,i,r){e[t]=i>>24&255,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function vn(e,t,i,r,n){var o,a=0;for(o=0;o<n;o++)a|=e[t+o]^i[r+o];return(1&a-1>>>8)-1}function crypto_verify_16(e,t,i,r){return vn(e,t,i,r,16)}function crypto_verify_32(e,t,i,r){return vn(e,t,i,r,32)}function crypto_core_salsa20(e,t,i,r){!function core_salsa20(e,t,i,r){for(var n,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,l=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,c=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,p=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&i[16]|(255&i[17])<<8|(255&i[18])<<16|(255&i[19])<<24,y=255&i[20]|(255&i[21])<<8|(255&i[22])<<16|(255&i[23])<<24,v=255&i[24]|(255&i[25])<<8|(255&i[26])<<16|(255&i[27])<<24,x=255&i[28]|(255&i[29])<<8|(255&i[30])<<16|(255&i[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,_=a,S=s,k=l,B=c,C=h,M=u,G=p,T=f,A=d,P=m,W=g,z=y,I=v,E=x,U=b,R=0;R<20;R+=2)w^=(n=(z^=(n=(T^=(n=(B^=(n=w+z|0)<<7|n>>>25)+w|0)<<9|n>>>23)+B|0)<<13|n>>>19)+T|0)<<18|n>>>14,C^=(n=(_^=(n=(I^=(n=(A^=(n=C+_|0)<<7|n>>>25)+C|0)<<9|n>>>23)+A|0)<<13|n>>>19)+I|0)<<18|n>>>14,P^=(n=(M^=(n=(S^=(n=(E^=(n=P+M|0)<<7|n>>>25)+P|0)<<9|n>>>23)+E|0)<<13|n>>>19)+S|0)<<18|n>>>14,U^=(n=(W^=(n=(G^=(n=(k^=(n=U+W|0)<<7|n>>>25)+U|0)<<9|n>>>23)+k|0)<<13|n>>>19)+G|0)<<18|n>>>14,w^=(n=(k^=(n=(S^=(n=(_^=(n=w+k|0)<<7|n>>>25)+w|0)<<9|n>>>23)+_|0)<<13|n>>>19)+S|0)<<18|n>>>14,C^=(n=(B^=(n=(G^=(n=(M^=(n=C+B|0)<<7|n>>>25)+C|0)<<9|n>>>23)+M|0)<<13|n>>>19)+G|0)<<18|n>>>14,P^=(n=(A^=(n=(T^=(n=(W^=(n=P+A|0)<<7|n>>>25)+P|0)<<9|n>>>23)+W|0)<<13|n>>>19)+T|0)<<18|n>>>14,U^=(n=(E^=(n=(I^=(n=(z^=(n=U+E|0)<<7|n>>>25)+U|0)<<9|n>>>23)+z|0)<<13|n>>>19)+I|0)<<18|n>>>14;w=w+o|0,_=_+a|0,S=S+s|0,k=k+l|0,B=B+c|0,C=C+h|0,M=M+u|0,G=G+p|0,T=T+f|0,A=A+d|0,P=P+m|0,W=W+g|0,z=z+y|0,I=I+v|0,E=E+x|0,U=U+b|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=B>>>0&255,e[17]=B>>>8&255,e[18]=B>>>16&255,e[19]=B>>>24&255,e[20]=C>>>0&255,e[21]=C>>>8&255,e[22]=C>>>16&255,e[23]=C>>>24&255,e[24]=M>>>0&255,e[25]=M>>>8&255,e[26]=M>>>16&255,e[27]=M>>>24&255,e[28]=G>>>0&255,e[29]=G>>>8&255,e[30]=G>>>16&255,e[31]=G>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=A>>>0&255,e[37]=A>>>8&255,e[38]=A>>>16&255,e[39]=A>>>24&255,e[40]=P>>>0&255,e[41]=P>>>8&255,e[42]=P>>>16&255,e[43]=P>>>24&255,e[44]=W>>>0&255,e[45]=W>>>8&255,e[46]=W>>>16&255,e[47]=W>>>24&255,e[48]=z>>>0&255,e[49]=z>>>8&255,e[50]=z>>>16&255,e[51]=z>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=E>>>0&255,e[57]=E>>>8&255,e[58]=E>>>16&255,e[59]=E>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,i,r)}function crypto_core_hsalsa20(e,t,i,r){!function core_hsalsa20(e,t,i,r){for(var n,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,l=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,c=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,p=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&i[16]|(255&i[17])<<8|(255&i[18])<<16|(255&i[19])<<24,y=255&i[20]|(255&i[21])<<8|(255&i[22])<<16|(255&i[23])<<24,v=255&i[24]|(255&i[25])<<8|(255&i[26])<<16|(255&i[27])<<24,x=255&i[28]|(255&i[29])<<8|(255&i[30])<<16|(255&i[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)o^=(n=(y^=(n=(f^=(n=(c^=(n=o+y|0)<<7|n>>>25)+o|0)<<9|n>>>23)+c|0)<<13|n>>>19)+f|0)<<18|n>>>14,h^=(n=(a^=(n=(v^=(n=(d^=(n=h+a|0)<<7|n>>>25)+h|0)<<9|n>>>23)+d|0)<<13|n>>>19)+v|0)<<18|n>>>14,m^=(n=(u^=(n=(s^=(n=(x^=(n=m+u|0)<<7|n>>>25)+m|0)<<9|n>>>23)+x|0)<<13|n>>>19)+s|0)<<18|n>>>14,b^=(n=(g^=(n=(p^=(n=(l^=(n=b+g|0)<<7|n>>>25)+b|0)<<9|n>>>23)+l|0)<<13|n>>>19)+p|0)<<18|n>>>14,o^=(n=(l^=(n=(s^=(n=(a^=(n=o+l|0)<<7|n>>>25)+o|0)<<9|n>>>23)+a|0)<<13|n>>>19)+s|0)<<18|n>>>14,h^=(n=(c^=(n=(p^=(n=(u^=(n=h+c|0)<<7|n>>>25)+h|0)<<9|n>>>23)+u|0)<<13|n>>>19)+p|0)<<18|n>>>14,m^=(n=(d^=(n=(f^=(n=(g^=(n=m+d|0)<<7|n>>>25)+m|0)<<9|n>>>23)+g|0)<<13|n>>>19)+f|0)<<18|n>>>14,b^=(n=(x^=(n=(v^=(n=(y^=(n=b+x|0)<<7|n>>>25)+b|0)<<9|n>>>23)+y|0)<<13|n>>>19)+v|0)<<18|n>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=p>>>0&255,e[21]=p>>>8&255,e[22]=p>>>16&255,e[23]=p>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,i,r)}var d=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(e,t,i,r,n,o,a){var s,l,c=new Uint8Array(16),h=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=o[l];for(;64<=n;){for(crypto_core_salsa20(h,c,a,d),l=0;l<64;l++)e[t+l]=i[r+l]^h[l];for(s=1,l=8;l<16;l++)s=s+(255&c[l])|0,c[l]=255&s,s>>>=8;n-=64,t+=64,r+=64}if(0<n)for(crypto_core_salsa20(h,c,a,d),l=0;l<n;l++)e[t+l]=i[r+l]^h[l];return 0}function crypto_stream_salsa20(e,t,i,r,n){var o,a,s=new Uint8Array(16),l=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;64<=i;){for(crypto_core_salsa20(l,s,n,d),a=0;a<64;a++)e[t+a]=l[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;i-=64,t+=64}if(0<i)for(crypto_core_salsa20(l,s,n,d),a=0;a<i;a++)e[t+a]=l[a];return 0}function crypto_stream(e,t,i,r,n){var o=new Uint8Array(32);crypto_core_hsalsa20(o,r,n,d);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return crypto_stream_salsa20(e,t,i,a,o)}function crypto_stream_xor(e,t,i,r,n,o,a){var s=new Uint8Array(32);crypto_core_hsalsa20(s,o,a,d);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=o[c+16];return crypto_stream_salsa20_xor(e,t,i,r,n,l,s)}var l=function(e){var t,i,r,n,o,a,s,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,t=255&e[this.fin=0]|(255&e[1])<<8,this.r[0]=8191&t,i=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|i<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(i>>>10|r<<6),n=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|n<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(n>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),l=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function crypto_onetimeauth(e,t,i,r,n,o){var a=new l(o);return a.update(i,r,n),a.finish(e,t),0}function crypto_onetimeauth_verify(e,t,i,r,n,o){var a=new Uint8Array(16);return crypto_onetimeauth(a,0,i,r,n,o),crypto_verify_16(e,t,a,0)}function crypto_secretbox(e,t,i,r,n){var o;if(i<32)return-1;for(crypto_stream_xor(e,0,t,0,i,r,n),crypto_onetimeauth(e,16,e,32,i-32,e),o=0;o<16;o++)e[o]=0;return 0}function crypto_secretbox_open(e,t,i,r,n){var o,a=new Uint8Array(32);if(i<32)return-1;if(crypto_stream(a,0,32,r,n),0!==crypto_onetimeauth_verify(t,16,t,32,i-32,a))return-1;for(crypto_stream_xor(e,0,t,0,i,r,n),o=0;o<32;o++)e[o]=0;return 0}function set25519(e,t){var i;for(i=0;i<16;i++)e[i]=0|t[i]}function car25519(e){var t,i,r=1;for(t=0;t<16;t++)i=e[t]+r+65535,r=Math.floor(i/65536),e[t]=i-65536*r;e[0]+=r-1+37*(r-1)}function sel25519(e,t,i){for(var r,n=~(i-1),o=0;o<16;o++)r=n&(e[o]^t[o]),e[o]^=r,t[o]^=r}function pack25519(e,t){var i,r,n,o=m(),a=m();for(i=0;i<16;i++)a[i]=t[i];for(car25519(a),car25519(a),car25519(a),r=0;r<2;r++){for(o[0]=a[0]-65517,i=1;i<15;i++)o[i]=a[i]-65535-(o[i-1]>>16&1),o[i-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),n=o[15]>>16&1,o[14]&=65535,sel25519(a,o,1-n)}for(i=0;i<16;i++)e[2*i]=255&a[i],e[2*i+1]=a[i]>>8}function neq25519(e,t){var i=new Uint8Array(32),r=new Uint8Array(32);return pack25519(i,e),pack25519(r,t),crypto_verify_32(i,0,r,0)}function par25519(e){var t=new Uint8Array(32);return pack25519(t,e),1&t[0]}function unpack25519(e,t){var i;for(i=0;i<16;i++)e[i]=t[2*i]+(t[2*i+1]<<8);e[15]&=32767}function A(e,t,i){for(var r=0;r<16;r++)e[r]=t[r]+i[r]}function Z(e,t,i){for(var r=0;r<16;r++)e[r]=t[r]-i[r]}function M(e,t,i){var r,n,o=0,a=0,s=0,l=0,c=0,h=0,u=0,p=0,f=0,d=0,m=0,g=0,y=0,v=0,x=0,b=0,w=0,_=0,S=0,k=0,B=0,C=0,M=0,G=0,T=0,A=0,P=0,W=0,z=0,I=0,E=0,U=i[0],R=i[1],O=i[2],Y=i[3],j=i[4],L=i[5],F=i[6],D=i[7],N=i[8],X=i[9],V=i[10],q=i[11],H=i[12],$=i[13],K=i[14],Z=i[15];o+=(r=t[0])*U,a+=r*R,s+=r*O,l+=r*Y,c+=r*j,h+=r*L,u+=r*F,p+=r*D,f+=r*N,d+=r*X,m+=r*V,g+=r*q,y+=r*H,v+=r*$,x+=r*K,b+=r*Z,a+=(r=t[1])*U,s+=r*R,l+=r*O,c+=r*Y,h+=r*j,u+=r*L,p+=r*F,f+=r*D,d+=r*N,m+=r*X,g+=r*V,y+=r*q,v+=r*H,x+=r*$,b+=r*K,w+=r*Z,s+=(r=t[2])*U,l+=r*R,c+=r*O,h+=r*Y,u+=r*j,p+=r*L,f+=r*F,d+=r*D,m+=r*N,g+=r*X,y+=r*V,v+=r*q,x+=r*H,b+=r*$,w+=r*K,_+=r*Z,l+=(r=t[3])*U,c+=r*R,h+=r*O,u+=r*Y,p+=r*j,f+=r*L,d+=r*F,m+=r*D,g+=r*N,y+=r*X,v+=r*V,x+=r*q,b+=r*H,w+=r*$,_+=r*K,S+=r*Z,c+=(r=t[4])*U,h+=r*R,u+=r*O,p+=r*Y,f+=r*j,d+=r*L,m+=r*F,g+=r*D,y+=r*N,v+=r*X,x+=r*V,b+=r*q,w+=r*H,_+=r*$,S+=r*K,k+=r*Z,h+=(r=t[5])*U,u+=r*R,p+=r*O,f+=r*Y,d+=r*j,m+=r*L,g+=r*F,y+=r*D,v+=r*N,x+=r*X,b+=r*V,w+=r*q,_+=r*H,S+=r*$,k+=r*K,B+=r*Z,u+=(r=t[6])*U,p+=r*R,f+=r*O,d+=r*Y,m+=r*j,g+=r*L,y+=r*F,v+=r*D,x+=r*N,b+=r*X,w+=r*V,_+=r*q,S+=r*H,k+=r*$,B+=r*K,C+=r*Z,p+=(r=t[7])*U,f+=r*R,d+=r*O,m+=r*Y,g+=r*j,y+=r*L,v+=r*F,x+=r*D,b+=r*N,w+=r*X,_+=r*V,S+=r*q,k+=r*H,B+=r*$,C+=r*K,M+=r*Z,f+=(r=t[8])*U,d+=r*R,m+=r*O,g+=r*Y,y+=r*j,v+=r*L,x+=r*F,b+=r*D,w+=r*N,_+=r*X,S+=r*V,k+=r*q,B+=r*H,C+=r*$,M+=r*K,G+=r*Z,d+=(r=t[9])*U,m+=r*R,g+=r*O,y+=r*Y,v+=r*j,x+=r*L,b+=r*F,w+=r*D,_+=r*N,S+=r*X,k+=r*V,B+=r*q,C+=r*H,M+=r*$,G+=r*K,T+=r*Z,m+=(r=t[10])*U,g+=r*R,y+=r*O,v+=r*Y,x+=r*j,b+=r*L,w+=r*F,_+=r*D,S+=r*N,k+=r*X,B+=r*V,C+=r*q,M+=r*H,G+=r*$,T+=r*K,A+=r*Z,g+=(r=t[11])*U,y+=r*R,v+=r*O,x+=r*Y,b+=r*j,w+=r*L,_+=r*F,S+=r*D,k+=r*N,B+=r*X,C+=r*V,M+=r*q,G+=r*H,T+=r*$,A+=r*K,P+=r*Z,y+=(r=t[12])*U,v+=r*R,x+=r*O,b+=r*Y,w+=r*j,_+=r*L,S+=r*F,k+=r*D,B+=r*N,C+=r*X,M+=r*V,G+=r*q,T+=r*H,A+=r*$,P+=r*K,W+=r*Z,v+=(r=t[13])*U,x+=r*R,b+=r*O,w+=r*Y,_+=r*j,S+=r*L,k+=r*F,B+=r*D,C+=r*N,M+=r*X,G+=r*V,T+=r*q,A+=r*H,P+=r*$,W+=r*K,z+=r*Z,x+=(r=t[14])*U,b+=r*R,w+=r*O,_+=r*Y,S+=r*j,k+=r*L,B+=r*F,C+=r*D,M+=r*N,G+=r*X,T+=r*V,A+=r*q,P+=r*H,W+=r*$,z+=r*K,I+=r*Z,b+=(r=t[15])*U,a+=38*(_+=r*O),s+=38*(S+=r*Y),l+=38*(k+=r*j),c+=38*(B+=r*L),h+=38*(C+=r*F),u+=38*(M+=r*D),p+=38*(G+=r*N),f+=38*(T+=r*X),d+=38*(A+=r*V),m+=38*(P+=r*q),g+=38*(W+=r*H),y+=38*(z+=r*$),v+=38*(I+=r*K),x+=38*(E+=r*Z),o=(r=(o+=38*(w+=r*R))+(n=1)+65535)-65536*(n=Math.floor(r/65536)),a=(r=a+n+65535)-65536*(n=Math.floor(r/65536)),s=(r=s+n+65535)-65536*(n=Math.floor(r/65536)),l=(r=l+n+65535)-65536*(n=Math.floor(r/65536)),c=(r=c+n+65535)-65536*(n=Math.floor(r/65536)),h=(r=h+n+65535)-65536*(n=Math.floor(r/65536)),u=(r=u+n+65535)-65536*(n=Math.floor(r/65536)),p=(r=p+n+65535)-65536*(n=Math.floor(r/65536)),f=(r=f+n+65535)-65536*(n=Math.floor(r/65536)),d=(r=d+n+65535)-65536*(n=Math.floor(r/65536)),m=(r=m+n+65535)-65536*(n=Math.floor(r/65536)),g=(r=g+n+65535)-65536*(n=Math.floor(r/65536)),y=(r=y+n+65535)-65536*(n=Math.floor(r/65536)),v=(r=v+n+65535)-65536*(n=Math.floor(r/65536)),x=(r=x+n+65535)-65536*(n=Math.floor(r/65536)),b=(r=b+n+65535)-65536*(n=Math.floor(r/65536)),o=(r=(o+=n-1+37*(n-1))+(n=1)+65535)-65536*(n=Math.floor(r/65536)),a=(r=a+n+65535)-65536*(n=Math.floor(r/65536)),s=(r=s+n+65535)-65536*(n=Math.floor(r/65536)),l=(r=l+n+65535)-65536*(n=Math.floor(r/65536)),c=(r=c+n+65535)-65536*(n=Math.floor(r/65536)),h=(r=h+n+65535)-65536*(n=Math.floor(r/65536)),u=(r=u+n+65535)-65536*(n=Math.floor(r/65536)),p=(r=p+n+65535)-65536*(n=Math.floor(r/65536)),f=(r=f+n+65535)-65536*(n=Math.floor(r/65536)),d=(r=d+n+65535)-65536*(n=Math.floor(r/65536)),m=(r=m+n+65535)-65536*(n=Math.floor(r/65536)),g=(r=g+n+65535)-65536*(n=Math.floor(r/65536)),y=(r=y+n+65535)-65536*(n=Math.floor(r/65536)),v=(r=v+n+65535)-65536*(n=Math.floor(r/65536)),x=(r=x+n+65535)-65536*(n=Math.floor(r/65536)),b=(r=b+n+65535)-65536*(n=Math.floor(r/65536)),o+=n-1+37*(n-1),e[0]=o,e[1]=a,e[2]=s,e[3]=l,e[4]=c,e[5]=h,e[6]=u,e[7]=p,e[8]=f,e[9]=d,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=x,e[15]=b}function S(e,t){M(e,t,t)}function inv25519(e,t){var i,r=m();for(i=0;i<16;i++)r[i]=t[i];for(i=253;0<=i;i--)S(r,r),2!==i&&4!==i&&M(r,r,t);for(i=0;i<16;i++)e[i]=r[i]}function crypto_scalarmult(e,t,i){var r,n,o=new Uint8Array(32),a=new Float64Array(80),s=m(),l=m(),c=m(),h=m(),u=m(),p=m();for(n=0;n<31;n++)o[n]=t[n];for(o[31]=127&t[31]|64,o[0]&=248,unpack25519(a,i),n=0;n<16;n++)l[n]=a[n],h[n]=s[n]=c[n]=0;for(s[0]=h[0]=1,n=254;0<=n;--n)sel25519(s,l,r=o[n>>>3]>>>(7&n)&1),sel25519(c,h,r),A(u,s,c),Z(s,s,c),A(c,l,h),Z(l,l,h),S(h,u),S(p,s),M(s,c,s),M(c,l,u),A(u,s,c),Z(s,s,c),S(l,s),Z(c,h,p),M(s,c,g),A(s,s,h),M(c,c,s),M(s,h,p),M(h,l,a),S(l,u),sel25519(s,l,r),sel25519(c,h,r);for(n=0;n<16;n++)a[n+16]=s[n],a[n+32]=c[n],a[n+48]=l[n],a[n+64]=h[n];var f=a.subarray(32),d=a.subarray(16);return inv25519(f,f),M(d,d,f),pack25519(e,d),0}function crypto_scalarmult_base(e,t){return crypto_scalarmult(e,t,i)}function crypto_box_keypair(e,t){return a(t,32),crypto_scalarmult_base(e,t)}function crypto_box_beforenm(e,t,i){var r=new Uint8Array(32);return crypto_scalarmult(r,i,t),crypto_core_hsalsa20(e,n,r,d)}l.prototype.blocks=function(e,t,i){for(var r,n,o,a,s,l,c,h,u,p,f,d,m,g,y,v,x,b,w,_=this.fin?0:2048,S=this.h[0],k=this.h[1],B=this.h[2],C=this.h[3],M=this.h[4],G=this.h[5],T=this.h[6],A=this.h[7],P=this.h[8],W=this.h[9],z=this.r[0],I=this.r[1],E=this.r[2],U=this.r[3],R=this.r[4],O=this.r[5],Y=this.r[6],j=this.r[7],L=this.r[8],F=this.r[9];16<=i;)p=u=0,p+=(S+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*z,p+=(k+=8191&(r>>>13|(n=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),p+=(B+=8191&(n>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*L),p+=(C+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*j),u=(p+=(M+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*Y))>>>13,p&=8191,p+=(G+=s>>>1&8191)*(5*O),p+=(T+=8191&(s>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*R),p+=(A+=8191&(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),p+=(P+=8191&(c>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*E),f=u+=(p+=(W+=h>>>5|_)*(5*I))>>>13,f+=S*I,f+=k*z,f+=B*(5*F),f+=C*(5*L),u=(f+=M*(5*j))>>>13,f&=8191,f+=G*(5*Y),f+=T*(5*O),f+=A*(5*R),f+=P*(5*U),u+=(f+=W*(5*E))>>>13,f&=8191,d=u,d+=S*E,d+=k*I,d+=B*z,d+=C*(5*F),u=(d+=M*(5*L))>>>13,d&=8191,d+=G*(5*j),d+=T*(5*Y),d+=A*(5*O),d+=P*(5*R),m=u+=(d+=W*(5*U))>>>13,m+=S*U,m+=k*E,m+=B*I,m+=C*z,u=(m+=M*(5*F))>>>13,m&=8191,m+=G*(5*L),m+=T*(5*j),m+=A*(5*Y),m+=P*(5*O),g=u+=(m+=W*(5*R))>>>13,g+=S*R,g+=k*U,g+=B*E,g+=C*I,u=(g+=M*z)>>>13,g&=8191,g+=G*(5*F),g+=T*(5*L),g+=A*(5*j),g+=P*(5*Y),y=u+=(g+=W*(5*O))>>>13,y+=S*O,y+=k*R,y+=B*U,y+=C*E,u=(y+=M*I)>>>13,y&=8191,y+=G*z,y+=T*(5*F),y+=A*(5*L),y+=P*(5*j),v=u+=(y+=W*(5*Y))>>>13,v+=S*Y,v+=k*O,v+=B*R,v+=C*U,u=(v+=M*E)>>>13,v&=8191,v+=G*I,v+=T*z,v+=A*(5*F),v+=P*(5*L),x=u+=(v+=W*(5*j))>>>13,x+=S*j,x+=k*Y,x+=B*O,x+=C*R,u=(x+=M*U)>>>13,x&=8191,x+=G*E,x+=T*I,x+=A*z,x+=P*(5*F),b=u+=(x+=W*(5*L))>>>13,b+=S*L,b+=k*j,b+=B*Y,b+=C*O,u=(b+=M*R)>>>13,b&=8191,b+=G*U,b+=T*E,b+=A*I,b+=P*z,w=u+=(b+=W*(5*F))>>>13,w+=S*F,w+=k*L,w+=B*j,w+=C*Y,u=(w+=M*O)>>>13,w&=8191,w+=G*R,w+=T*U,w+=A*E,w+=P*I,S=p=8191&(u=(u=((u+=(w+=W*z)>>>13)<<2)+u|0)+(p&=8191)|0),k=f+=u>>>=13,B=d&=8191,C=m&=8191,M=g&=8191,G=y&=8191,T=v&=8191,A=x&=8191,P=b&=8191,W=w&=8191,t+=16,i-=16;this.h[0]=S,this.h[1]=k,this.h[2]=B,this.h[3]=C,this.h[4]=M,this.h[5]=G,this.h[6]=T,this.h[7]=A,this.h[8]=P,this.h[9]=W},l.prototype.finish=function(e,t){var i,r,n,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=i,i=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*i,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,a[0]=this.h[0]+5,i=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+i,i=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^i)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),n=this.h[0]+this.pad[0],this.h[0]=65535&n,o=1;o<8;o++)n=(this.h[o]+this.pad[o]|0)+(n>>>16)|0,this.h[o]=65535&n;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},l.prototype.update=function(e,t,i){var r,n;if(this.leftover){for(i<(n=16-this.leftover)&&(n=i),r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];if(i-=n,t+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(16<=i&&(n=i-i%16,this.blocks(e,t,n),t+=n,i-=n),i){for(r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=i}};var y=crypto_secretbox,v=crypto_secretbox_open;var $=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(e,t,i,r){for(var n,o,a,s,l,c,h,u,p,f,d,m,g,y,v,x,b,w,_,S,k,B,C,M,G,T,A=new Int32Array(16),P=new Int32Array(16),W=e[0],z=e[1],I=e[2],E=e[3],U=e[4],R=e[5],O=e[6],Y=e[7],j=t[0],L=t[1],F=t[2],D=t[3],N=t[4],X=t[5],V=t[6],q=t[7],H=0;128<=r;){for(_=0;_<16;_++)S=8*_+H,A[_]=i[S+0]<<24|i[S+1]<<16|i[S+2]<<8|i[S+3],P[_]=i[S+4]<<24|i[S+5]<<16|i[S+6]<<8|i[S+7];for(_=0;_<80;_++)if(n=W,o=z,a=I,s=E,p=j,f=L,d=F,m=D,C=65535&(B=q),M=B>>>16,G=65535&(k=Y),T=k>>>16,C+=65535&(B=((g=N)>>>14|(l=U)<<18)^(N>>>18|U<<14)^(U>>>9|N<<23)),M+=B>>>16,G+=65535&(k=(U>>>14|N<<18)^(U>>>18|N<<14)^(N>>>9|U<<23)),T+=k>>>16,C+=65535&(B=N&(y=X)^~N&(v=V)),M+=B>>>16,G+=65535&(k=U&(c=R)^~U&(h=O)),T+=k>>>16,k=$[2*_],C+=65535&(B=$[2*_+1]),M+=B>>>16,G+=65535&k,T+=k>>>16,k=A[_%16],M+=(B=P[_%16])>>>16,G+=65535&k,T+=k>>>16,G+=(M+=(C+=65535&B)>>>16)>>>16,C=65535&(B=w=65535&C|M<<16),M=B>>>16,G=65535&(k=b=65535&G|(T+=G>>>16)<<16),T=k>>>16,C+=65535&(B=(j>>>28|W<<4)^(W>>>2|j<<30)^(W>>>7|j<<25)),M+=B>>>16,G+=65535&(k=(W>>>28|j<<4)^(j>>>2|W<<30)^(j>>>7|W<<25)),T+=k>>>16,M+=(B=j&L^j&F^L&F)>>>16,G+=65535&(k=W&z^W&I^z&I),T+=k>>>16,u=65535&(G+=(M+=(C+=65535&B)>>>16)>>>16)|(T+=G>>>16)<<16,x=65535&C|M<<16,C=65535&(B=m),M=B>>>16,G=65535&(k=s),T=k>>>16,M+=(B=w)>>>16,G+=65535&(k=b),T+=k>>>16,z=n,I=o,E=a,U=s=65535&(G+=(M+=(C+=65535&B)>>>16)>>>16)|(T+=G>>>16)<<16,R=l,O=c,Y=h,W=u,L=p,F=f,D=d,N=m=65535&C|M<<16,X=g,V=y,q=v,j=x,_%16==15)for(S=0;S<16;S++)k=A[S],C=65535&(B=P[S]),M=B>>>16,G=65535&k,T=k>>>16,k=A[(S+9)%16],C+=65535&(B=P[(S+9)%16]),M+=B>>>16,G+=65535&k,T+=k>>>16,b=A[(S+1)%16],C+=65535&(B=((w=P[(S+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),M+=B>>>16,G+=65535&(k=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),T+=k>>>16,b=A[(S+14)%16],M+=(B=((w=P[(S+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,G+=65535&(k=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,A[S]=65535&G|T<<16,P[S]=65535&C|M<<16;C=65535&(B=j),M=B>>>16,G=65535&(k=W),T=k>>>16,k=e[0],M+=(B=t[0])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[0]=W=65535&G|T<<16,t[0]=j=65535&C|M<<16,C=65535&(B=L),M=B>>>16,G=65535&(k=z),T=k>>>16,k=e[1],M+=(B=t[1])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[1]=z=65535&G|T<<16,t[1]=L=65535&C|M<<16,C=65535&(B=F),M=B>>>16,G=65535&(k=I),T=k>>>16,k=e[2],M+=(B=t[2])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[2]=I=65535&G|T<<16,t[2]=F=65535&C|M<<16,C=65535&(B=D),M=B>>>16,G=65535&(k=E),T=k>>>16,k=e[3],M+=(B=t[3])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[3]=E=65535&G|T<<16,t[3]=D=65535&C|M<<16,C=65535&(B=N),M=B>>>16,G=65535&(k=U),T=k>>>16,k=e[4],M+=(B=t[4])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[4]=U=65535&G|T<<16,t[4]=N=65535&C|M<<16,C=65535&(B=X),M=B>>>16,G=65535&(k=R),T=k>>>16,k=e[5],M+=(B=t[5])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[5]=R=65535&G|T<<16,t[5]=X=65535&C|M<<16,C=65535&(B=V),M=B>>>16,G=65535&(k=O),T=k>>>16,k=e[6],M+=(B=t[6])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[6]=O=65535&G|T<<16,t[6]=V=65535&C|M<<16,C=65535&(B=q),M=B>>>16,G=65535&(k=Y),T=k>>>16,k=e[7],M+=(B=t[7])>>>16,G+=65535&k,T+=k>>>16,T+=(G+=(M+=(C+=65535&B)>>>16)>>>16)>>>16,e[7]=Y=65535&G|T<<16,t[7]=q=65535&C|M<<16,H+=128,r-=128}return r}function crypto_hash(e,t,i){var r,n=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=i;for(n[0]=1779033703,n[1]=3144134277,n[2]=1013904242,n[3]=2773480762,n[4]=1359893119,n[5]=2600822924,n[6]=528734635,n[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,crypto_hashblocks_hl(n,o,t,i),i%=128,r=0;r<i;r++)a[r]=t[s-i+r];for(a[i]=128,a[(i=256-128*(i<112?1:0))-9]=0,ts64(a,i-8,s/536870912|0,s<<3),crypto_hashblocks_hl(n,o,a,i),r=0;r<8;r++)ts64(e,8*r,n[r],o[r]);return 0}function add(e,t){var i=m(),r=m(),n=m(),o=m(),a=m(),s=m(),l=m(),c=m(),h=m();Z(i,e[1],e[0]),Z(h,t[1],t[0]),M(i,i,h),A(r,e[0],e[1]),A(h,t[0],t[1]),M(r,r,h),M(n,e[3],t[3]),M(n,n,p),M(o,e[2],t[2]),A(o,o,o),Z(a,r,i),Z(s,o,n),A(l,o,n),A(c,r,i),M(e[0],a,s),M(e[1],c,l),M(e[2],l,s),M(e[3],a,c)}function cswap(e,t,i){var r;for(r=0;r<4;r++)sel25519(e[r],t[r],i)}function pack(e,t){var i=m(),r=m(),n=m();inv25519(n,t[2]),M(i,t[0],n),M(r,t[1],n),pack25519(e,r),e[31]^=par25519(i)<<7}function scalarmult(e,t,i){var r,n;for(set25519(e[0],c),set25519(e[1],h),set25519(e[2],h),set25519(e[3],c),n=255;0<=n;--n)cswap(e,t,r=i[n/8|0]>>(7&n)&1),add(t,e),add(e,e),cswap(e,t,r)}function scalarbase(e,t){var i=[m(),m(),m(),m()];set25519(i[0],r),set25519(i[1],s),set25519(i[2],h),M(i[3],r,s),scalarmult(e,i,t)}function crypto_sign_keypair(e,t,i){var r,n=new Uint8Array(64),o=[m(),m(),m(),m()];for(i||a(t,32),crypto_hash(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,scalarbase(o,n),pack(e,o),r=0;r<32;r++)t[r+32]=e[r];return 0}var x=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(e,t){var i,r,n,o;for(r=63;32<=r;--r){for(i=0,n=r-32,o=r-12;n<o;++n)t[n]+=i-16*t[r]*x[n-(r-32)],i=t[n]+128>>8,t[n]-=256*i;t[n]+=i,t[r]=0}for(n=i=0;n<32;n++)t[n]+=i-(t[31]>>4)*x[n],i=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=i*x[n];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function reduce(e){var t,i=new Float64Array(64);for(t=0;t<64;t++)i[t]=e[t];for(t=0;t<64;t++)e[t]=0;modL(e,i)}function crypto_sign(e,t,i,r){var n,o,a=new Uint8Array(64),s=new Uint8Array(64),l=new Uint8Array(64),c=new Float64Array(64),h=[m(),m(),m(),m()];crypto_hash(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var u=i+64;for(n=0;n<i;n++)e[64+n]=t[n];for(n=0;n<32;n++)e[32+n]=a[32+n];for(crypto_hash(l,e.subarray(32),i+32),reduce(l),scalarbase(h,l),pack(e,h),n=32;n<64;n++)e[n]=r[n];for(crypto_hash(s,e,i+64),reduce(s),n=0;n<64;n++)c[n]=0;for(n=0;n<32;n++)c[n]=l[n];for(n=0;n<32;n++)for(o=0;o<32;o++)c[n+o]+=s[n]*a[o];return modL(e.subarray(32),c),u}function unpackneg(e,t){var i=m(),r=m(),n=m(),o=m(),a=m(),s=m(),l=m();return set25519(e[2],h),unpack25519(e[1],t),S(n,e[1]),M(o,n,u),Z(n,n,e[2]),A(o,e[2],o),S(a,o),S(s,a),M(l,s,a),M(i,l,n),M(i,i,o),function pow2523(e,t){var i,r=m();for(i=0;i<16;i++)r[i]=t[i];for(i=250;0<=i;i--)S(r,r),1!==i&&M(r,r,t);for(i=0;i<16;i++)e[i]=r[i]}(i,i),M(i,i,n),M(i,i,o),M(i,i,o),M(e[0],i,o),S(r,e[0]),M(r,r,o),neq25519(r,n)&&M(e[0],e[0],f),S(r,e[0]),M(r,r,o),neq25519(r,n)?-1:(par25519(e[0])===t[31]>>7&&Z(e[0],c,e[0]),M(e[3],e[0],e[1]),0)}function crypto_sign_open(e,t,i,r){var n,o=new Uint8Array(32),a=new Uint8Array(64),s=[m(),m(),m(),m()],l=[m(),m(),m(),m()];if(-1,i<64)return-1;if(unpackneg(l,r))return-1;for(n=0;n<i;n++)e[n]=t[n];for(n=0;n<32;n++)e[n+32]=r[n];if(crypto_hash(a,e,i),reduce(a),scalarmult(s,l,a),scalarbase(l,t.subarray(32)),add(s,l),pack(o,s),i-=64,crypto_verify_32(t,0,o,0)){for(n=0;n<i;n++)e[n]=0;return-1}for(n=0;n<i;n++)e[n]=t[n+64];return i}function checkLengths(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function checkArrayTypes(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function cleanup(e){for(var t=0;t<e.length;t++)e[t]=0}o.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:y,crypto_box:function crypto_box(e,t,i,r,n,o){var a=new Uint8Array(32);return crypto_box_beforenm(a,n,o),y(e,t,i,r,a)},crypto_box_open:function crypto_box_open(e,t,i,r,n,o){var a=new Uint8Array(32);return crypto_box_beforenm(a,n,o),v(e,t,i,r,a)},crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},o.randomBytes=function(e){var t=new Uint8Array(e);return a(t,e),t},o.secretbox=function(e,t,i){checkArrayTypes(e,t,i),checkLengths(i,t);for(var r=new Uint8Array(32+e.length),n=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return crypto_secretbox(n,r,r.length,t,i),n.subarray(16)},o.secretbox.open=function(e,t,i){checkArrayTypes(e,t,i),checkLengths(i,t);for(var r=new Uint8Array(16+e.length),n=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+16]=e[o];return r.length<32?null:0!==crypto_secretbox_open(n,r,r.length,t,i)?null:n.subarray(32)},o.secretbox.keyLength=32,o.secretbox.nonceLength=24,o.secretbox.overheadLength=16,o.scalarMult=function(e,t){if(checkArrayTypes(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var i=new Uint8Array(32);return crypto_scalarmult(i,e,t),i},o.scalarMult.base=function(e){if(checkArrayTypes(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return crypto_scalarmult_base(t,e),t},o.scalarMult.scalarLength=32,o.scalarMult.groupElementLength=32,o.box=function(e,t,i,r){var n=o.box.before(i,r);return o.secretbox(e,t,n)},o.box.before=function(e,t){checkArrayTypes(e,t),function checkBoxLengths(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var i=new Uint8Array(32);return crypto_box_beforenm(i,e,t),i},o.box.after=o.secretbox,o.box.open=function(e,t,i,r){var n=o.box.before(i,r);return o.secretbox.open(e,t,n)},o.box.open.after=o.secretbox.open,o.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return crypto_box_keypair(e,t),{publicKey:e,secretKey:t}},o.box.keyPair.fromSecretKey=function(e){if(checkArrayTypes(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return crypto_scalarmult_base(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},o.box.publicKeyLength=32,o.box.secretKeyLength=32,o.box.sharedKeyLength=32,o.box.nonceLength=24,o.box.overheadLength=o.secretbox.overheadLength,o.sign=function(e,t){if(checkArrayTypes(e,t),64!==t.length)throw new Error("bad secret key size");var i=new Uint8Array(64+e.length);return crypto_sign(i,e,e.length,t),i},o.sign.open=function(e,t){if(checkArrayTypes(e,t),32!==t.length)throw new Error("bad public key size");var i=new Uint8Array(e.length),r=crypto_sign_open(i,e,e.length,t);if(r<0)return null;for(var n=new Uint8Array(r),o=0;o<n.length;o++)n[o]=i[o];return n},o.sign.detached=function(e,t){for(var i=o.sign(e,t),r=new Uint8Array(64),n=0;n<r.length;n++)r[n]=i[n];return r},o.sign.detached.verify=function(e,t,i){if(checkArrayTypes(e,t,i),64!==t.length)throw new Error("bad signature size");if(32!==i.length)throw new Error("bad public key size");var r,n=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(r=0;r<64;r++)n[r]=t[r];for(r=0;r<e.length;r++)n[r+64]=e[r];return 0<=crypto_sign_open(o,n,n.length,i)},o.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return crypto_sign_keypair(e,t),{publicKey:e,secretKey:t}},o.sign.keyPair.fromSecretKey=function(e){if(checkArrayTypes(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),i=0;i<t.length;i++)t[i]=e[32+i];return{publicKey:t,secretKey:new Uint8Array(e)}},o.sign.keyPair.fromSeed=function(e){if(checkArrayTypes(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),i=new Uint8Array(64),r=0;r<32;r++)i[r]=e[r];return crypto_sign_keypair(t,i,!0),{publicKey:t,secretKey:i}},o.sign.publicKeyLength=32,o.sign.secretKeyLength=64,o.sign.seedLength=32,o.sign.signatureLength=64,o.hash=function(e){checkArrayTypes(e);var t=new Uint8Array(64);return crypto_hash(t,e,e.length),t},o.hash.hashLength=64,o.verify=function(e,t){return checkArrayTypes(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===vn(e,0,t,0,e.length))},o.setPRNG=function(e){a=e},function(){var n="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(n&&n.getRandomValues){o.setPRNG(function(e,t){var i,r=new Uint8Array(t);for(i=0;i<t;i+=65536)n.getRandomValues(r.subarray(i,i+Math.min(t-i,65536)));for(i=0;i<t;i++)e[i]=r[i];cleanup(r)})}else(n=b(22))&&n.randomBytes&&o.setPRNG(function(e,t){var i,r=n.randomBytes(t);for(i=0;i<t;i++)e[i]=r[i];cleanup(r)})}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(r,e,n){!function(){"use strict";var p=Math.abs,t=Math.min,s=Math.max,g=Math.cos,y=Math.sin,o=Math.acos,f=Math.sqrt,a=Math.PI,l={x:0,y:0,z:0},B=n(5),b=n(27),C=function(e){var t=e&&e.forEach?e:[].slice.call(arguments),i=!1;if("object"==typeof t[0]){i=t.length;var r=[];t.forEach(function(t){["x","y","z"].forEach(function(e){void 0!==t[e]&&r.push(t[e])})}),t=r}var n=!1,o=t.length;if(i){if(4<i){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");n=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");for(var a=!n&&(9===o||12===o)||e&&e[0]&&void 0!==e[0].z,s=[],l=0,c=(this._3d=a)?3:2;l<o;l+=c){var h={x:t[l],y:t[l+1]};a&&(h.z=t[l+2]),s.push(h)}this.order=s.length-1,this.points=s;var u=["x","y"];a&&u.push("z"),this.dims=u,this.dimlen=u.length,function(e){for(var t=e.order,i=e.points,r=B.align(i,{p1:i[0],p2:i[t]}),n=0;n<r.length;n++)if(1e-4<p(r[n].y))return e._linear=!1;e._linear=!0}(this),this._t1=0,this._t2=1,this.update()},i=n(28);function getABC(e,t,i,r,n){void 0===n&&(n=.5);var o=B.projectionratio(n,e),a=1-o,s={x:o*t.x+a*r.x,y:o*t.y+a*r.y},l=B.abcratio(n,e);return{A:{x:i.x+(i.x-s.x)/l,y:i.y+(i.y-s.y)/l},B:i,C:s}}C.SVGtoBeziers=function(e){return i(C,e)},C.quadraticFromPoints=function(e,t,i,r){if(void 0===r&&(r=.5),0===r)return new C(t,t,i);if(1===r)return new C(e,t,t);var n=getABC(2,e,t,i,r);return new C(e,n.A,i)},C.cubicFromPoints=function(e,t,i,r,n){void 0===r&&(r=.5);var o=getABC(3,e,t,i,r);void 0===n&&(n=B.dist(t,o.C));var a=n*(1-r)/r,s=B.dist(e,i),l=(i.x-e.x)/s,c=(i.y-e.y)/s,h=n*l,u=n*c,p=a*l,f=a*c,d=t.x-h,m=t.y-u,g=t.x+p,y=t.y+f,v=o.A,x=v.x+(d-v.x)/(1-r),b=v.y+(m-v.y)/(1-r),w=v.x+(g-v.x)/r,_=v.y+(y-v.y)/r,S={x:e.x+(x-e.x)/r,y:e.y+(b-e.y)/r},k={x:i.x+(w-i.x)/(1-r),y:i.y+(_-i.y)/(1-r)};return new C(e,S,k,i)};var e=function(){return B};C.getUtils=e,C.PolyBezier=b,C.prototype={getUtils:e,valueOf:function(){return this.toString()},toString:function(){return B.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,i=["M",t[0].x,t[0].y,2===this.order?"Q":"C"],r=1,n=t.length;r<n;r++)i.push(t[r].x),i.push(t[r].y);return i.join(" ")},setRatios:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]},update:function(){this._lut=[],this.dpoints=B.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var e=this.points,t=B.angle(e[0],e[this.order],e[1]);this.clockwise=0<t},length:function(){return B.length(this.derivative.bind(this))},_lut:[],getLUT:function(e){if(e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut},on:function(e,t){t=t||5;for(var i,r=this.getLUT(),n=[],o=0,a=0;a<r.length;a++)i=r[a],B.dist(i,e)<t&&(n.push(i),o+=a/r.length);return!!n.length&&o/n.length},project:function(e){var t=this.getLUT(),i=t.length-1,r=B.closest(t,e),n=r.mdist,o=r.mpos;if(0===o||o===i){var a=o/i,s=this.compute(a);return s.t=a,s.d=n,s}var l,c,h,u=(o+1)/i,p=.1/i;for(n+=1,l=a=(o-1)/i;a<u+p;a+=p)c=this.compute(a),(h=B.dist(e,c))<n&&(n=h,l=a);return(c=this.compute(l)).t=l,c.d=n,c},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){return this.ratios?B.computeWithRatios(e,this.points,this.ratios,this._3d):B.compute(e,this.points,this._3d,this.ratios)},raise:function(){for(var e,t,i=this.points,r=[i[0]],n=i.length,o=1;o<n;o++)e=i[o],t=i[o-1],r[o]={x:(n-o)/n*e.x+o/n*t.x,y:(n-o)/n*e.y+o/n*t.y};return r[n]=i[n-1],new C(r)},derivative:function(e){var t,i,r=1-e,n=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],l],t=r,i=e),3===this.order&&(t=r*r,i=r*e*2,n=e*e);var a={x:t*o[0].x+i*o[1].x+n*o[2].x,y:t*o[0].y+i*o[1].y+n*o[2].y};return this._3d&&(a.z=t*o[0].z+i*o[1].z+n*o[2].z),a},curvature:function(e){return B.curvature(e,this.points,this._3d)},inflections:function(){return B.inflections(this.points)},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),i=f(t.x*t.x+t.y*t.y);return{x:-t.y/i,y:t.x/i}},__normal3:function(e){var t=this.derivative(e),i=this.derivative(e+.01),r=f(t.x*t.x+t.y*t.y+t.z*t.z),n=f(i.x*i.x+i.y*i.y+i.z*i.z);t.x/=r,t.y/=r,t.z/=r,i.x/=n,i.y/=n,i.z/=n;var o={x:i.y*t.z-i.z*t.y,y:i.z*t.x-i.x*t.z,z:i.x*t.y-i.y*t.x},a=f(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}},hull:function(e){var t,i=this.points,r=[],n=[],o=0,a=0,s=0;for(n[o++]=i[0],n[o++]=i[1],n[o++]=i[2],3===this.order&&(n[o++]=i[3]);1<i.length;){for(r=[],a=0,s=i.length-1;a<s;a++)t=B.lerp(e,i[a],i[a+1]),n[o++]=t,r.push(t);i=r}return n},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var i=this.hull(e),r={left:2===this.order?new C([i[0],i[3],i[5]]):new C([i[0],i[4],i[7],i[9]]),right:2===this.order?new C([i[5],i[4],i[2]]):new C([i[9],i[8],i[6],i[3]]),span:i};return r.left._t1=B.map(0,0,1,this._t1,this._t2),r.left._t2=B.map(e,0,1,this._t1,this._t2),r.right._t1=B.map(e,0,1,this._t1,this._t2),r.right._t2=B.map(1,0,1,this._t1,this._t2),t?(t=B.map(t,e,1,0,1),r.right.split(t).left):r},extrema:function(){var e,i,t=this.dims,r={},n=[];return t.forEach(function(t){i=function(e){return e[t]},e=this.dpoints[0].map(i),r[t]=B.droots(e),3===this.order&&(e=this.dpoints[1].map(i),r[t]=r[t].concat(B.droots(e))),r[t]=r[t].filter(function(e){return 0<=e&&e<=1}),n=n.concat(r[t].sort(B.numberSort))}.bind(this)),n=n.sort(B.numberSort).filter(function(e,t){return n.indexOf(e)===t}),r.values=n,r},bbox:function(){var t=this.extrema(),i={};return this.dims.forEach(function(e){i[e]=B.getminmax(this,e,t[e])}.bind(this)),i},overlaps:function(e){var t=this.bbox(),i=e.bbox();return B.bboxoverlap(t,i)},offset:function(i,e){if(void 0!==e){var t=this.get(i),r=this.normal(i),n={c:t,n:r,x:t.x+r.x*e,y:t.y+r.y*e};return this._3d&&(n.z=t.z+r.z*e),n}if(this._linear){var o=this.normal(0),a=this.points.map(function(e){var t={x:e.x+i*o.x,y:e.y+i*o.y};return e.z&&r.z&&(t.z=e.z+i*o.z),t});return[new C(a)]}return this.reduce().map(function(e){return e.scale(i)})},simple:function(){if(3===this.order){var e=B.angle(this.points[0],this.points[3],this.points[1]),t=B.angle(this.points[0],this.points[3],this.points[2]);if(0<e&&t<0||e<0&&0<t)return!1}var i=this.normal(0),r=this.normal(1),n=i.x*r.x+i.y*r.y;return this._3d&&(n+=i.z*r.z),p(o(n))<a/3},reduce:function(){var e,t,i=0,r=0,n=[],o=[],a=this.extrema().values;for(-1===a.indexOf(0)&&(a=[0].concat(a)),-1===a.indexOf(1)&&a.push(1),i=a[0],e=1;e<a.length;e++)r=a[e],(t=this.split(i,r))._t1=i,t._t2=r,n.push(t),i=r;return n.forEach(function(e){for(r=i=0;r<=1;)for(r=i+.01;r<=1.01;r+=.01)if(!(t=e.split(i,r)).simple()){if(p(i-(r-=.01))<.01)return[];(t=e.split(i,r))._t1=B.map(i,0,1,e._t1,e._t2),t._t2=B.map(r,0,1,e._t1,e._t2),o.push(t),i=r;break}i<1&&((t=e.split(i,1))._t1=B.map(i,0,1,e._t1,e._t2),t._t2=e._t2,o.push(t))}),o},scale:function(o){var a=this.order,s=!1;if("function"==typeof o&&(s=o),s&&2===a)return this.raise().scale(s);var l=this.clockwise,i=s?s(0):o,r=s?s(1):o,n=[this.offset(0,10),this.offset(1,10)],c=B.lli4(n[0],n[0].c,n[1],n[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");var h=this.points,u=[];return[0,1].forEach(function(e){var t=u[e*a]=B.copy(h[e*a]);t.x+=(e?r:i)*n[e].n.x,t.y+=(e?r:i)*n[e].n.y}.bind(this)),[0,1].forEach(s?function(e){if(2!==this.order||!e){var t=h[e+1],i={x:t.x-c.x,y:t.y-c.y},r=s?s((e+1)/a):o;s&&!l&&(r=-r);var n=f(i.x*i.x+i.y*i.y);i.x/=n,i.y/=n,u[e+1]={x:t.x+r*i.x,y:t.y+r*i.y}}}.bind(this):function(e){if(2!==this.order||!e){var t=u[e*a],i=this.derivative(e),r={x:t.x+i.x,y:t.y+i.y};u[e+1]=B.lli4(t,r,c,h[e+1])}}.bind(this)),new C(u)},outline:function(t,i,r,n){i=void 0===i?t:i;var o,e=this.reduce(),a=e.length,s=[],l=[],c=0,h=this.length(),u=void 0!==r&&void 0!==n;function linearDistanceFunction(n,o,a,s,l){return function(e){var t=s/a,i=(s+l)/a,r=o-n;return B.map(e,0,1,n+t*r,n+i*r)}}e.forEach(function(e){x=e.length(),u?(s.push(e.scale(linearDistanceFunction(t,r,h,c,x))),l.push(e.scale(linearDistanceFunction(-i,-n,h,c,x)))):(s.push(e.scale(t)),l.push(e.scale(-i))),c+=x}),l=l.map(function(e){return(o=e.points)[3]?e.points=[o[3],o[2],o[1],o[0]]:e.points=[o[2],o[1],o[0]],e}).reverse();var p=s[0].points[0],f=s[a-1].points[s[a-1].points.length-1],d=l[a-1].points[l[a-1].points.length-1],m=l[0].points[0],g=B.makeline(d,p),y=B.makeline(f,m),v=[g].concat(s).concat([y]).concat(l),x=v.length;return new b(v)},outlineshapes:function(e,t,i){t=t||e;for(var r=this.outline(e,t).curves,n=[],o=1,a=r.length;o<a/2;o++){var s=B.makeshape(r[o],r[a-o],i);s.startcap.virtual=1<o,s.endcap.virtual=o<a/2-1,n.push(s)}return n},intersects:function(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof C&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)},lineIntersects:function(e){var i=t(e.p1.x,e.p2.x),r=t(e.p1.y,e.p2.y),n=s(e.p1.x,e.p2.x),o=s(e.p1.y,e.p2.y),a=this;return B.roots(this.points,e).filter(function(e){var t=a.get(e);return B.between(t.x,i,n)&&B.between(t.y,r,o)})},selfintersects:function(e){var t,i,r,n,o=this.reduce(),a=o.length-2,s=[];for(t=0;t<a;t++)r=o.slice(t,t+1),n=o.slice(t+2),i=this.curveintersects(r,n,e),s=s.concat(i);return s},curveintersects:function(e,i,r){var n=[];e.forEach(function(t){i.forEach(function(e){t.overlaps(e)&&n.push({left:t,right:e})})});var o=[];return n.forEach(function(e){var t=B.pairiteration(e.left,e.right,r);0<t.length&&(o=o.concat(t))}),o},arcs:function(e){e=e||.5;return this._iterate(e,[])},_error:function(e,t,i,r){var n=(r-i)/4,o=this.get(i+n),a=this.get(r-n),s=B.dist(e,t),l=B.dist(e,o),c=B.dist(e,a);return p(l-s)+p(c-s)},_iterate:function(e,t){var i,r=0,n=1;do{i=0,n=1;var o,a,s,l,c,h=this.get(r),u=!1,p=!1,f=n,d=1;do{if(p=u,l=s,f=(r+n)/2,0,o=this.get(f),a=this.get(n),(s=B.getccenter(h,o,a)).interval={start:r,end:n},u=this._error(s,h,r,n)<=e,(c=p&&!u)||(d=n),u){if(1<=n){if(s.interval.end=d=1,l=s,1<n){var m={x:s.x+s.r*g(s.e),y:s.y+s.r*y(s.e)};s.e+=B.angle({x:s.x,y:s.y},m,this.get(1))}break}n+=(n-r)/2}else n=f}while(!c&&i++<100);if(100<=i)break;l=l||s,t.push(l),r=d}while(n<1);return t}},r.exports=C}()},function(t,e,u){!function(){"use strict";var v=Math.abs,C=Math.cos,B=Math.sin,M=Math.acos,G=Math.atan2,T=Math.sqrt,x=Math.pow,A=function(e){return e<0?-x(-e,1/3):x(e,1/3)},e=Math.PI,P=2*e,W=e/2,c=Number.MAX_SAFE_INTEGER||9007199254740991,h=Number.MIN_SAFE_INTEGER||-9007199254740991,m={x:0,y:0,z:0},z={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var i=t(e),r=i.x*i.x+i.y*i.y;return void 0!==i.z&&(r+=i.z*i.z),T(r)},compute:function(e,t,i){if(0===e)return t[0];var r=t.length-1;if(1===e)return t[r];var n=t,o=1-e;if(0==r)return t[0];if(1==r)return p={x:o*n[0].x+e*n[1].x,y:o*n[0].y+e*n[1].y},i&&(p.z=o*n[0].z+e*n[1].z),p;if(r<4){var a,s,l,c=o*o,h=e*e,u=0;2==r?(n=[n[0],n[1],n[2],m],a=c,s=o*e*2,l=h):3==r&&(a=c*o,s=c*e*3,l=o*h*3,u=e*h);var p={x:a*n[0].x+s*n[1].x+l*n[2].x+u*n[3].x,y:a*n[0].y+s*n[1].y+l*n[2].y+u*n[3].y};return i&&(p.z=a*n[0].z+s*n[1].z+l*n[2].z+u*n[3].z),p}for(var f=JSON.parse(JSON.stringify(t));1<f.length;){for(var d=0;d<f.length-1;d++)f[d]={x:f[d].x+(f[d+1].x-f[d].x)*e,y:f[d].y+(f[d+1].y-f[d].y)*e},void 0!==f[d].z&&(f[d]=f[d].z+(f[d+1].z-f[d].z)*e);f.splice(f.length-1,1)}return f[0]},computeWithRatios:function(e,t,i,r){var n,o=1-e,a=i,s=t,l=a[0],c=a[1],h=a[2],u=a[3];return l*=o,c*=e,2===s.length?(n=l+c,{x:(l*s[0].x+c*s[1].x)/n,y:(l*s[0].y+c*s[1].y)/n,z:!!r&&(l*s[0].z+c*s[1].z)/n}):(l*=o,c*=2*o,h*=e*e,3===s.length?(n=l+c+h,{x:(l*s[0].x+c*s[1].x+h*s[2].x)/n,y:(l*s[0].y+c*s[1].y+h*s[2].y)/n,z:!!r&&(l*s[0].z+c*s[1].z+h*s[2].z)/n}):(l*=o,c*=1.5*o,h*=3*o,u*=e*e*e,4===s.length?(n=l+c+h+u,{x:(l*s[0].x+c*s[1].x+h*s[2].x+u*s[3].x)/n,y:(l*s[0].y+c*s[1].y+h*s[2].y+u*s[3].y)/n,z:!!r&&(l*s[0].z+c*s[1].z+h*s[2].z+u*s[3].z)/n}):void 0))},derive:function(e,t){for(var i=[],r=e,n=r.length,o=n-1;1<n;n--,o--){for(var a,s=[],l=0;l<o;l++)a={x:o*(r[l+1].x-r[l].x),y:o*(r[l+1].y-r[l].y)},t&&(a.z=o*(r[l+1].z-r[l].z)),s.push(a);i.push(s),r=s}return i},between:function(e,t,i){return t<=e&&e<=i||z.approximately(e,t)||z.approximately(e,i)},approximately:function(e,t,i){return v(e-t)<=(i||1e-6)},length:function(e){var t,i,r=0,n=z.Tvalues.length;for(t=0;t<n;t++)i=.5*z.Tvalues[t]+.5,r+=z.Cvalues[t]*z.arcfn(i,e);return.5*r},map:function(e,t,i,r,n){return r+(n-r)*((e-t)/(i-t))},lerp:function(e,t,i){var r={x:t.x+e*(i.x-t.x),y:t.y+e*(i.y-t.y)};return t.z&&i.z&&(r.z=t.z+e*(i.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(z.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,i){var r=t.x-e.x,n=t.y-e.y,o=i.x-e.x,a=i.y-e.y;return G(r*a-n*o,r*o+n*a)},round:function(e,t){var i=""+e,r=i.indexOf(".");return parseFloat(i.substring(0,r+1+t))},dist:function(e,t){var i=e.x-t.x,r=e.y-t.y;return T(i*i+r*r)},closest:function(e,i){var r,n,o=x(2,63);return e.forEach(function(e,t){(n=z.dist(i,e))<o&&(o=n,r=t)}),{mdist:o,mpos:r}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var i=x(e,t)+x(1-e,t);return v((i-1)/i)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var i=x(1-e,t);return i/(x(e,t)+i)},lli8:function(e,t,i,r,n,o,a,s){var l=(e-i)*(o-s)-(t-r)*(n-a);return 0!=l&&{x:((e*r-t*i)*(n-a)-(e-i)*(n*s-o*a))/l,y:((e*r-t*i)*(o-s)-(t-r)*(n*s-o*a))/l}},lli4:function(e,t,i,r){var n=e.x,o=e.y,a=t.x,s=t.y,l=i.x,c=i.y,h=r.x,u=r.y;return z.lli8(n,o,a,s,l,c,h,u)},lli:function(e,t){return z.lli4(e,e.c,t,t.c)},makeline:function(e,t){var i=u(4),r=e.x,n=e.y,o=t.x,a=t.y,s=(o-r)/3,l=(a-n)/3;return new i(r,n,r+s,n+l,r+2*s,n+2*l,o,a)},findbbox:function(e){var i=c,r=c,n=h,o=h;return e.forEach(function(e){var t=e.bbox();i>t.x.min&&(i=t.x.min),r>t.y.min&&(r=t.y.min),n<t.x.max&&(n=t.x.max),o<t.y.max&&(o=t.y.max)}),{x:{min:i,mid:(i+n)/2,max:n,size:n-i},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(r,e,n,t,o){if(!z.bboxoverlap(e,t))return[];var a=[],i=[r.startcap,r.forward,r.back,r.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return i.forEach(function(i){i.virtual||s.forEach(function(e){if(!e.virtual){var t=i.intersects(e,o);0<t.length&&(t.c1=i,t.c2=e,t.s1=r,t.s2=n,a.push(t))}})}),a},makeshape:function(e,t,i){var r=t.points.length,n=e.points.length,o=z.makeline(t.points[r-1],e.points[0]),a=z.makeline(e.points[n-1],t.points[0]),s={startcap:o,forward:e,back:t,endcap:a,bbox:z.findbbox([o,e,t,a])},l=z;return s.intersections=function(e){return l.shapeintersections(s,s.bbox,e,e.bbox,i)},s},getminmax:function(e,t,i){if(!i)return{min:0,max:0};var r,n,o=c,a=h;-1===i.indexOf(0)&&(i=[0].concat(i)),-1===i.indexOf(1)&&i.push(1);for(var s=0,l=i.length;s<l;s++)r=i[s],(n=e.get(r))[t]<o&&(o=n[t]),n[t]>a&&(a=n[t]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(e,t){var i=t.p1.x,r=t.p1.y,n=-G(t.p2.y-r,t.p2.x-i);return e.map(function(e){return{x:(e.x-i)*C(n)-(e.y-r)*B(n),y:(e.x-i)*B(n)+(e.y-r)*C(n)}})},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var i=e.length-1,r=z.align(e,t),n=function(e){return 0<=e&&e<=1};if(2==i){if(0===(h=(u=r[0].y)-2*(p=r[1].y)+(f=r[2].y)))return p!==f&&0===h?[(2*p-f)/(2*p-2*f)].filter(n):[];var o=-T(p*p-u*f),a=-u+p;return[-(o+a)/h,-(-o+a)/h].filter(n)}var s=r[0].y,l=r[1].y,c=r[2].y,h=3*l-s-3*c+r[3].y,u=3*s-6*l+3*c,p=-3*s+3*l,f=s;if(z.approximately(h,0)){if(z.approximately(u,0))return z.approximately(p,0)?[]:[-f/p].filter(n);var d=2*u;return[((m=T(p*p-4*u*f))-p)/d,(-p-m)/d].filter(n)}var m,g,y=(r=(3*(p/=h)-(u/=h)*u)/3)/3,v=(m=(2*u*u*u-9*u*p+27*(f/=h))/27)/2,x=v*v+y*y*y;if(x<0){var b=-r/3,w=T(b*b*b),_=-m/(2*w),S=M(_<-1?-1:1<_?1:_),k=2*A(w);return[k*C(S/3)-u/3,k*C((S+P)/3)-u/3,k*C((S+2*P)/3)-u/3].filter(n)}if(0==x)return[2*(g=v<0?A(-v):-A(v))-u/3,-g-u/3].filter(n);var B=T(x);return[(g=A(-v+B))-A(v+B)-u/3].filter(n)},droots:function(e){if(3===e.length){var t=e[0],i=e[1],r=e[2],n=t-2*i+r;if(0===n)return i!==r&&0===n?[(2*i-r)/(2*(i-r))]:[];var o=-T(i*i-t*r),a=-t+i;return[-(o+a)/n,-(-o+a)/n]}if(2===e.length)return(t=e[0])!==(i=e[1])?[t/(t-i)]:[]},curvature:function(e,t,i,r){var n,o,a,s,l,c,h=z.derive(t),u=h[0],p=h[1],f=z.compute(e,u),d=z.compute(e,p),m=f.x*f.x+f.y*f.y;if(o=i?(n=T(x(f.y*d.z-d.y*f.z,2)+x(f.z*d.x-d.z*f.x,2)+x(f.x*d.y-d.x*f.y,2)),x(m+f.z*f.z,2/3)):(n=f.x*d.y-f.y*d.x,x(m,2/3)),0===n||0===o)return{k:0,r:0};if(l=n/o,c=o/n,!r){var g=z.curvature(e-.001,t,i,!0).k,y=z.curvature(e+.001,t,i,!0).k;s=(y-l+(l-g))/2,a=(v(y-l)+v(l-g))/2}return{k:l,r:c,dk:s,adk:a}},inflections:function(e){if(e.length<4)return[];var t=z.align(e,{p1:e[0],p2:e.slice(-1)[0]}),i=t[2].x*t[1].y,r=t[3].x*t[1].y,n=t[1].x*t[2].y,o=18*(-3*i+2*r+3*n-(u=t[3].x*t[2].y)),a=18*(3*i-r-3*n),s=18*(n-i);if(z.approximately(o,0)){if(!z.approximately(a,0)){var l=-s/a;if(0<=l&&l<=1)return[l]}return[]}var c=a*a-4*o*s,h=Math.sqrt(c),u=2*o;return z.approximately(u,0)?[]:[(h-a)/u,-(a+h)/u].filter(function(e){return 0<=e&&e<=1})},bboxoverlap:function(e,t){var i,r,n,o,a,s=["x","y"],l=s.length;for(i=0;i<l;i++)if(n=e[r=s[i]].mid,o=t[r].mid,a=(e[r].size+t[r].size)/2,v(n-o)>=a)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,i){var r=e.bbox(),n=t.bbox(),o=i||.5;if(r.x.size+r.y.size<o&&n.x.size+n.y.size<o)return[(1e5*(e._t1+e._t2)/2|0)/1e5+"/"+(1e5*(t._t1+t._t2)/2|0)/1e5];var a=e.split(.5),s=t.split(.5),l=[{left:a.left,right:s.left},{left:a.left,right:s.right},{left:a.right,right:s.right},{left:a.right,right:s.left}];l=l.filter(function(e){return z.bboxoverlap(e.left.bbox(),e.right.bbox())});var c=[];return 0===l.length?c:(l.forEach(function(e){c=c.concat(z.pairiteration(e.left,e.right,o))}),c=c.filter(function(e,t){return c.indexOf(e)===t}))},getccenter:function(e,t,i){var r,n=t.x-e.x,o=t.y-e.y,a=i.x-t.x,s=i.y-t.y,l=n*C(W)-o*B(W),c=n*B(W)+o*C(W),h=a*C(W)-s*B(W),u=a*B(W)+s*C(W),p=(e.x+t.x)/2,f=(e.y+t.y)/2,d=(t.x+i.x)/2,m=(t.y+i.y)/2,g=p+l,y=f+c,v=d+h,x=m+u,b=z.lli8(p,f,g,y,d,m,v,x),w=z.dist(b,e),_=G(e.y-b.y,e.x-b.x),S=G(t.y-b.y,t.x-b.x),k=G(i.y-b.y,i.x-b.x);return _<k?((S<_||k<S)&&(_+=P),k<_&&(r=k,k=_,_=r)):k<S&&S<_?(r=k,k=_,_=r):k+=P,b.s=_,b.e=k,b.r=w,b},numberSort:function(e,t){return e-t}};t.exports=z}()},function(e){e.exports={frames:{"bomb (1).png":{frame:{x:1,y:1,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"bomb (2).png":{frame:{x:1,y:153,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"bomb (3).png":{frame:{x:1,y:305,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"bomb (4).png":{frame:{x:153,y:1,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"bomb (5).png":{frame:{x:305,y:1,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"bomb (6).png":{frame:{x:153,y:153,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"bomb (7).png":{frame:{x:153,y:305,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"bomb.png",format:"RGBA8888",size:{w:456,h:456},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:ed8cf41235cd39569a4fd02fd7967e5d:8504dcc089b4518122d3006b14f19148:f63ee348f1e457e41f792cb710b5b64f$"}}},function(e){e.exports={frames:{"boom_effect (1).png":{frame:{x:1,y:1,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"boom_effect (2).png":{frame:{x:1,y:153,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"boom_effect (3).png":{frame:{x:1,y:305,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"boom_effect (4).png":{frame:{x:153,y:1,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"boom_effect (5).png":{frame:{x:305,y:1,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"boom_effect (6).png":{frame:{x:153,y:153,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}},"boom_effect (7).png":{frame:{x:153,y:305,w:150,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:150},sourceSize:{w:150,h:150},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"boom_white.png",format:"RGBA8888",size:{w:456,h:456},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:f9ae3f684255f180b5e72bef47718cde:c15e0df73936e23f97df48b6281bfcba:b9ff595534b2e44c463f8d86e3173e58$"}}},function(e){e.exports={frames:{"fire_ani_01.png":{frame:{x:1,y:1,w:203,h:203},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:203,h:203},sourceSize:{w:203,h:203},pivot:{x:.5,y:.5}},"fire_ani_02.png":{frame:{x:206,y:1,w:203,h:203},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:203,h:203},sourceSize:{w:203,h:203},pivot:{x:.5,y:.5}},"fire_ani_03.png":{frame:{x:411,y:1,w:203,h:203},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:203,h:203},sourceSize:{w:203,h:203},pivot:{x:.5,y:.5}},"fire_ani_04.png":{frame:{x:616,y:1,w:203,h:203},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:203,h:203},sourceSize:{w:203,h:203},pivot:{x:.5,y:.5}},"fire_ani_05.png":{frame:{x:821,y:1,w:203,h:203},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:203,h:203},sourceSize:{w:203,h:203},pivot:{x:.5,y:.5}},"fire_ani_06.png":{frame:{x:1026,y:1,w:203,h:203},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:203,h:203},sourceSize:{w:203,h:203},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"burn.png",format:"RGBA8888",size:{w:1230,h:205},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:957913913cf9115bbb4c062d64d9ca02:2b8a360a15f956cdb2021b9e4c9cf4b9:4e88577d8a95143b7548683db6797f30$"}}},function(e){e.exports={frames:{"change_01.png":{frame:{x:1,y:1,w:120,h:120},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:120},sourceSize:{w:120,h:120},pivot:{x:.5,y:.5}},"change_02.png":{frame:{x:123,y:1,w:120,h:120},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:120},sourceSize:{w:120,h:120},pivot:{x:.5,y:.5}},"change_03.png":{frame:{x:245,y:1,w:120,h:120},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:120},sourceSize:{w:120,h:120},pivot:{x:.5,y:.5}},"change_04.png":{frame:{x:367,y:1,w:120,h:120},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:120},sourceSize:{w:120,h:120},pivot:{x:.5,y:.5}},"change_05.png":{frame:{x:123,y:1,w:120,h:120},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:120},sourceSize:{w:120,h:120},pivot:{x:.5,y:.5}},"change_06.png":{frame:{x:1,y:1,w:120,h:120},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:120},sourceSize:{w:120,h:120},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"color.png",format:"RGBA8888",size:{w:488,h:122},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:047c0780a33eae962ce924cd4a4c8ff7:5ae07cb45cde93bcd4dcafdcf5621a35:48b2fb5f542cc458f8d9c09dc319f32a$"}}},function(e){e.exports={frames:{"fire_ball_animation (1).png":{frame:{x:1,y:1,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}},"fire_ball_animation (2).png":{frame:{x:1,y:217,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}},"fire_ball_animation (3).png":{frame:{x:1,y:433,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}},"fire_ball_animation (4).png":{frame:{x:1,y:649,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}},"fire_ball_animation (5).png":{frame:{x:1,y:865,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}},"fire_ball_animation (6).png":{frame:{x:1,y:1081,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}},"fire_ball_animation (7).png":{frame:{x:1,y:1297,w:82,h:214},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:82,h:214},sourceSize:{w:82,h:214},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"firetail.png",format:"RGBA8888",size:{w:84,h:1512},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:17a9a2bca03bfeac5ac12ddc53819491:56af529e7fe074ac39abedd8e326ae37:b0bd579ce848688b1b4f6a177e0fc659$"}}},function(e){e.exports={frames:{"fire_ball_01.png":{frame:{x:1,y:1,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}},"fire_ball_02.png":{frame:{x:1,y:107,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}},"fire_ball_03.png":{frame:{x:1,y:213,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}},"fire_ball_04.png":{frame:{x:1,y:319,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}},"fire_ball_05.png":{frame:{x:1,y:425,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}},"fire_ball_06.png":{frame:{x:1,y:531,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}},"fire_ball_07.png":{frame:{x:1,y:637,w:56,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:56,h:104},sourceSize:{w:56,h:104},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"firetail2.png",format:"RGBA8888",size:{w:58,h:742},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:584c4cec5d0ff03c49f2b29071b97238:e577c8c364aefa4dcf2febb08a58cd09:f74dbe3c770ccfb50ca405662cfbb81d$"}}},function(e){e.exports={frames:{"mission_line_01.png":{frame:{x:1,y:1,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_02.png":{frame:{x:1,y:107,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_03.png":{frame:{x:339,y:1,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_04.png":{frame:{x:339,y:107,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_05.png":{frame:{x:677,y:1,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_06.png":{frame:{x:677,y:107,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_07.png":{frame:{x:1015,y:1,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_08.png":{frame:{x:1015,y:107,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_09.png":{frame:{x:1353,y:1,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_10.png":{frame:{x:1691,y:1,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}},"mission_line_11.png":{frame:{x:1353,y:107,w:336,h:104},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:336,h:104},sourceSize:{w:336,h:104},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"mission_highlight.png",format:"RGBA8888",size:{w:2028,h:212},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:2e82414090447d884d9c70d894e019e5:f483ec95f759dba6cdf55c69f7158756:3fced4c02fa9ed4a7e8795ee8bc7ac85$"}}},function(e){e.exports={frames:{"sprite1.png":{frame:{x:1,y:1,w:196,h:196},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:196,h:196},sourceSize:{w:196,h:196},pivot:{x:.5,y:.5}},"sprite2.png":{frame:{x:199,y:1,w:196,h:196},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:196,h:196},sourceSize:{w:196,h:196},pivot:{x:.5,y:.5}},"sprite3.png":{frame:{x:397,y:1,w:196,h:196},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:196,h:196},sourceSize:{w:196,h:196},pivot:{x:.5,y:.5}},"sprite4.png":{frame:{x:595,y:1,w:196,h:196},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:196,h:196},sourceSize:{w:196,h:196},pivot:{x:.5,y:.5}},"sprite5.png":{frame:{x:793,y:1,w:196,h:196},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:196,h:196},sourceSize:{w:196,h:196},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"pop.png",format:"RGBA8888",size:{w:990,h:198},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:495e8b50baa9cad6153df562674e3d79:1d43dc0b616176d9dedb93a8e2b63638:1658f7445768272ecc3e153e418c87e1$"}}},function(e){e.exports={frames:{"normal_pop_01.png":{frame:{x:1,y:1,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}},"normal_pop_02.png":{frame:{x:1,y:162,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}},"normal_pop_03.png":{frame:{x:1,y:323,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}},"normal_pop_04.png":{frame:{x:162,y:1,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}},"normal_pop_05.png":{frame:{x:323,y:1,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}},"normal_pop_06.png":{frame:{x:162,y:162,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}},"normal_pop_07.png":{frame:{x:162,y:323,w:159,h:159},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:159},sourceSize:{w:159,h:159},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"pop_small.png",format:"RGBA8888",size:{w:483,h:483},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:ea8088528ba892d7f68fafb736a6f343:c713a5d1162ab6a76bdc4a7e5888df91:1d8fbad4710680ba56864b230dc4d3dc$"}}},function(e){e.exports={frames:{"spr_stone_00.png":{frame:{x:1,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_01.png":{frame:{x:93,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_02.png":{frame:{x:185,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_03.png":{frame:{x:277,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_04.png":{frame:{x:369,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_05.png":{frame:{x:461,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_06.png":{frame:{x:553,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_07.png":{frame:{x:645,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_08.png":{frame:{x:737,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_09.png":{frame:{x:829,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_10.png":{frame:{x:921,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}},"spr_stone_11.png":{frame:{x:1013,y:1,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"stone.png",format:"RGBA8888",size:{w:1104,h:92},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:adc0158cc8bf8a26ae2b6cdb8e0e50f7:9c4a8bb07b7725b76583038c499f8170:498686f496408b5c10e8f273f4b4bfab$"}}},function(e){e.exports={frames:{"00.png":{frame:{x:1,y:1,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"01.png":{frame:{x:803,y:1,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"02.png":{frame:{x:1,y:203,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"03.png":{frame:{x:803,y:203,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"04.png":{frame:{x:1,y:405,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"05.png":{frame:{x:803,y:405,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"06.png":{frame:{x:1,y:607,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"07.png":{frame:{x:803,y:607,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"08.png":{frame:{x:1,y:809,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}},"09.png":{frame:{x:803,y:809,w:800,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:200},sourceSize:{w:800,h:200},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"thunder.png",format:"RGBA8888",size:{w:1604,h:1010},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:0fb9bf472b0d8bba130cc5bf439bfab1:47954f94e334d4def7e65ca94b833c37:77edbb2be22f3c6c0260e171cb4e8461$"}}},function(e){e.exports={frames:{"tornado_01.png":{frame:{x:1,y:1,w:98,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:98,h:92},sourceSize:{w:98,h:92},pivot:{x:.5,y:.5}},"tornado_02.png":{frame:{x:101,y:1,w:98,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:98,h:92},sourceSize:{w:98,h:92},pivot:{x:.5,y:.5}},"tornado_03.png":{frame:{x:201,y:1,w:98,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:98,h:92},sourceSize:{w:98,h:92},pivot:{x:.5,y:.5}},"tornado_04.png":{frame:{x:301,y:1,w:98,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:98,h:92},sourceSize:{w:98,h:92},pivot:{x:.5,y:.5}},"tornado_05.png":{frame:{x:401,y:1,w:98,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:98,h:92},sourceSize:{w:98,h:92},pivot:{x:.5,y:.5}},"tornado_06.png":{frame:{x:501,y:1,w:98,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:98,h:92},sourceSize:{w:98,h:92},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"tornado.png",format:"RGBA8888",size:{w:600,h:94},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:f8b8d27e46a775ebd4edc2d344e35f32:c07441f9903686e7227e95ad36060357:1860b4a9b23aab4c0fe96e0df4d5ca43$"}}},function(e){e.exports={frames:{"spr_chr_idle_in_00.png":{frame:{x:1,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_idle_in_01.png":{frame:{x:303,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_idle_in_02.png":{frame:{x:605,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"idle.png",format:"RGBA8888",size:{w:906,h:302},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:f800f5afd691bac8e545907625586dad:c3c7c03078c0c437130ae2b0e456eddc:585717d7804995c87573698b70e44cb4$"}}},function(e){e.exports={frames:{"spr_shell_idle_00.png":{frame:{x:1,y:1,w:200,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:200,h:200},sourceSize:{w:200,h:200},pivot:{x:.5,y:.5}},"spr_shell_shoot_00.png":{frame:{x:203,y:1,w:200,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:200,h:200},sourceSize:{w:200,h:200},pivot:{x:.5,y:.5}},"spr_shell_shoot_01.png":{frame:{x:405,y:1,w:200,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:200,h:200},sourceSize:{w:200,h:200},pivot:{x:.5,y:.5}},"spr_shell_shoot_02.png":{frame:{x:607,y:1,w:200,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:200,h:200},sourceSize:{w:200,h:200},pivot:{x:.5,y:.5}},"spr_shell_shoot_03.png":{frame:{x:1,y:1,w:200,h:200},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:200,h:200},sourceSize:{w:200,h:200},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"shell.png",format:"RGBA8888",size:{w:808,h:202},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:7c23354a0fc5f0800aee240f8c8a995e:36686049e80ea0a4bfc3e160fab3650c:b63ee8e1ec232d76af4fae51ef77000b$"}}},function(e){e.exports={frames:{"spr_chr_toss_00.png":{frame:{x:1,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_toss_01.png":{frame:{x:303,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_toss_02.png":{frame:{x:605,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_toss_03.png":{frame:{x:907,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_toss_04.png":{frame:{x:1209,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_toss_05.png":{frame:{x:1209,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}},"spr_chr_toss_06.png":{frame:{x:1209,y:1,w:300,h:300},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:300,h:300},sourceSize:{w:300,h:300},pivot:{x:.5,y:.5}}},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"toss.png",format:"RGBA8888",size:{w:1510,h:302},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:f94047e521b0fdbe0853ab4811eebfb2:caed9846f014c361c3518e4db8cfaf43:edf642ad37abdd77a6dc67b7bb50c0f4$"}}},function(e,t,i){e.exports=i(4)},function(e,t){},function(e,i,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(24),o=n(25),a=n(26);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,i){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,i);if("number"!=typeof e)return from(this,e,t,i);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}function from(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,i,r):"string"==typeof t?function fromString(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!Buffer.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(t,i),n=(e=createBuffer(e,r)).write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function fromObject(e,t){if(Buffer.isBuffer(t)){var i=0|checked(t.length);return 0===(e=createBuffer(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&a(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function fromArrayLike(e,t){var i=t.length<0?0:0|checked(t.length);e=createBuffer(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return base64ToBytes(e).length;default:if(r)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function swap(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function bidirectionalIndexOf(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=Buffer.from(t,r)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,i,r,n);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):arrayIndexOf(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,i,r,n){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=a=2,l/=2,i/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var c=-1;for(o=i;o<s;o++)if(read(e,o)===read(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(s<i+l&&(i=s-l),o=i;0<=o;o--){for(var h=!0,u=0;u<l;u++)if(read(e,o+u)!==read(t,u)){h=!1;break}if(h)return o}return-1}function hexWrite(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?n<(r=Number(r))&&(r=n):r=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function asciiWrite(e,t,i,r){return blitBuffer(function asciiToBytes(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function base64Slice(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function utf8Slice(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,a,s,l,c=e[n],h=null,u=239<c?4:223<c?3:191<c?2:1;if(n+u<=i)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[n+1]))&&127<(l=(31&c)<<6|63&o)&&(h=l);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(h=l);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(h=l)}null===h?(h=65533,u=1):65535<h&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),n+=u}return function decodeCodePointsArray(e){var t=e.length;if(t<=p)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=p));return i}(r)}i.Buffer=Buffer,i.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},i.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),i.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,i){return from(null,e,t,i)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,i){return function alloc(e,t,i,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==i?"string"==typeof r?createBuffer(e,t).fill(i,r):createBuffer(e,t).fill(i):createBuffer(e,t)}(null,e,t,i)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,o=Math.min(i,r);n<o;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var i;if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;var r=Buffer.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var o=e[i];if(!Buffer.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0==e?"":0===arguments.length?utf8Slice(this,0,e):function slowToString(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,i);case"utf8":case"utf-8":return utf8Slice(this,t,i);case"ascii":return asciiSlice(this,t,i);case"latin1":case"binary":return latin1Slice(this,t,i);case"base64":return base64Slice(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",t=i.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,i,r,n){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(n<=r&&i<=t)return 0;if(n<=r)return-1;if(i<=t)return 1;if(this===e)return 0;for(var o=(n>>>=0)-(r>>>=0),a=(i>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,n),c=e.slice(t,i),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function includes(e,t,i){return-1!==this.indexOf(e,t,i)},Buffer.prototype.indexOf=function indexOf(e,t,i){return bidirectionalIndexOf(this,e,t,i,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,i){return bidirectionalIndexOf(this,e,t,i,!1)},Buffer.prototype.write=function write(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||n<i)&&(i=n),0<e.length&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o,a,s,l,c,h,u,p,f,d=!1;;)switch(r){case"hex":return hexWrite(this,e,t,i);case"utf8":case"utf-8":return p=t,f=i,blitBuffer(utf8ToBytes(e,(u=this).length-p),u,p,f);case"ascii":return asciiWrite(this,e,t,i);case"latin1":case"binary":return asciiWrite(this,e,t,i);case"base64":return l=this,c=t,h=i,blitBuffer(base64ToBytes(e),l,c,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=i,blitBuffer(function utf16leToBytes(e,t){for(var i,r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}(e,(o=this).length-a),o,a,s);default:if(d)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var p=4096;function asciiSlice(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function latin1Slice(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function hexSlice(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||r<i)&&(i=r);for(var n="",o=t;o<i;++o)n+=toHex(e[o]);return n}function utf16leSlice(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function checkOffset(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(i<e+t)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,i,r,n,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n<t||t<o)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function objectWriteUInt32(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function checkIEEE754(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function writeFloat(e,t,i,r,n){return n||checkIEEE754(e,0,i,4),o.write(e,t,i,r,23,4),i+4}function writeDouble(e,t,i,r,n){return n||checkIEEE754(e,0,i,8),o.write(e,t,i,r,52,8),i+8}Buffer.prototype.slice=function slice(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=Buffer.prototype;else{var n=t-e;i=new Buffer(n,void 0);for(var o=0;o<n;++o)i[o]=this[o+e]}return i},Buffer.prototype.readUIntLE=function readUIntLE(e,t,i){e|=0,t|=0,i||checkOffset(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},Buffer.prototype.readUIntBE=function readUIntBE(e,t,i){e|=0,t|=0,i||checkOffset(e,t,this.length);for(var r=this[e+--t],n=1;0<t&&(n*=256);)r+=this[e+--t]*n;return r},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,i){e|=0,t|=0,i||checkOffset(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return(n*=128)<=r&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function readIntBE(e,t,i){e|=0,t|=0,i||checkOffset(e,t,this.length);for(var r=t,n=1,o=this[e+--r];0<r&&(n*=256);)o+=this[e+--r]*n;return(n*=128)<=o&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,i,r){(e=+e,t|=0,i|=0,r)||checkInt(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,i,r){(e=+e,t|=0,i|=0,r)||checkInt(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,o=1;for(this[t+n]=255&e;0<=--n&&(o*=256);)this[t+n]=e/o&255;return t+i},Buffer.prototype.writeUInt8=function writeUInt8(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);checkInt(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},Buffer.prototype.writeIntBE=function writeIntBE(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);checkInt(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},Buffer.prototype.writeInt8=function writeInt8(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,i){return e=+e,t|=0,i||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,i){return writeFloat(this,e,t,!0,i)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,i){return writeFloat(this,e,t,!1,i)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,i){return writeDouble(this,e,t,!0,i)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,i){return writeDouble(this,e,t,!1,i)},Buffer.prototype.copy=function copy(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,o=r-i;if(this===e&&i<t&&t<r)for(n=o-1;0<=n;--n)e[n+t]=this[n+i];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},Buffer.prototype.fill=function fill(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,r).toString()),s=a.length;for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var t=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var i;t=t||1/0;for(var r=e.length,n=null,o=[],a=0;a<r;++a){if(55295<(i=e.charCodeAt(a))&&i<57344){if(!n){if(56319<i){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}n=i;continue}if(i<56320){-1<(t-=3)&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&-1<(t-=3)&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function base64ToBytes(e){return r.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(this,n(3))},function(e,t,i){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function toByteArray(e){var t,i,r=getLens(e),n=r[0],o=r[1],a=new h(function _byteLength(e,t,i){return 3*(t+i)/4-i}(0,n,o)),s=0,l=0<o?n-4:n;for(i=0;i<l;i+=4)t=c[e.charCodeAt(i)]<<18|c[e.charCodeAt(i+1)]<<12|c[e.charCodeAt(i+2)]<<6|c[e.charCodeAt(i+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;2===o&&(t=c[e.charCodeAt(i)]<<2|c[e.charCodeAt(i+1)]>>4,a[s++]=255&t);1===o&&(t=c[e.charCodeAt(i)]<<10|c[e.charCodeAt(i+1)]<<4|c[e.charCodeAt(i+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t);return a},t.fromByteArray=function fromByteArray(e){for(var t,i=e.length,r=i%3,n=[],o=0,a=i-r;o<a;o+=16383)n.push(encodeChunk(e,o,a<o+16383?a:o+16383));1==r?(t=e[i-1],n.push(s[t>>2]+s[t<<4&63]+"==")):2==r&&(t=(e[i-2]<<8)+e[i-1],n.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return n.join("")};for(var s=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=r.length;n<o;++n)s[n]=r[n],c[r.charCodeAt(n)]=n;function getLens(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function encodeChunk(e,t,i){for(var r,n,o=[],a=t;a<i;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(s[(n=r)>>18&63]+s[n>>12&63]+s[n>>6&63]+s[63&n]);return o.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,l=(1<<s)-1,c=l>>1,h=-7,u=i?n-1:0,p=i?-1:1,f=e[t+u];for(u+=p,o=f&(1<<-h)-1,f>>=-h,h+=s;0<h;o=256*o+e[t+u],u+=p,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=r;0<h;a=256*a+e[t+u],u+=p,h-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,l,c=8*o-n-1,h=(1<<c)-1,u=h>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(t+=1<=a+u?p/l:p*Math.pow(2,1-u))*l&&(a++,l/=2),h<=a+u?(s=0,a=h):1<=a+u?(s=(t*l-1)*Math.pow(2,n),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));8<=n;e[i+f]=255&s,f+=d,s/=256,n-=8);for(a=a<<n|s,c+=n;0<c;e[i+f]=255&a,f+=d,a/=256,c-=8);e[i+f-d]|=128*m}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(t,e,i){!function(){"use strict";var r=i(5),e=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)};e.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(e){return r.pointsToString(e.points)}).join(", ")+"]"},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map(function(e){return e.length()}).reduce(function(e,t){return e+t})},curve:function(e){return this.curves[e]},bbox:function(){for(var e=this.curves,t=e[0].bbox(),i=1;i<e.length;i++)r.expandbox(t,e[i].bbox());return t},offset:function(t){var i=[];return this.curves.forEach(function(e){i=i.concat(e.offset(t))}),new e(i)}},t.exports=e}()},function(e,t,i){var l=i(29),a={x:!1,y:!1};function makeBezier(e,t,i){if("Z"!==t){if("M"!==t){var r=[!1,a.x,a.y].concat(i),n=new(e.bind.apply(e,r)),o=i.slice(-2);return a={x:o[0],y:o[1]},n}a={x:i[0],y:i[1]}}}e.exports=function convertPath(e,t){for(var i,r,n=l(t).split(" "),o=new RegExp("[MLCQZ]",""),a=[],s={C:6,Q:4,L:2,M:2};n.length;)i=n.splice(0,1)[0],o.test(i)&&(r=makeBezier(e,i,n.splice(0,s[i]).map(parseFloat)))&&a.push(r);return new e.PolyBezier(a)}},function(e,t){e.exports=function normalizePath(e){var t,i,r,n,o,a,s=(e=e.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),l=s.length,c=[],h=0,u=0,p=0,f=0,d=0,m=0,g=0,y=0,v="";for(t=1;t<l;t++)if(n=(r=(i=s[t]).substring(0,1)).toLowerCase(),o=(c=(c=i.replace(r,"").trim().split(" ")).filter(function(e){return""!==e}).map(parseFloat)).length,"m"===n){if(v+="M ","m"===r?(p+=c[0],f+=c[1]):(p=c[0],f=c[1]),v+=(h=p)+" "+(u=f)+" ",2<o)for(a=0;a<o;a+=2)"m"===r?(p+=c[a],f+=c[a+1]):(p=c[a],f=c[a+1]),v+=["L",p,f,""].join(" ")}else if("l"===n)for(a=0;a<o;a+=2)"l"===r?(p+=c[a],f+=c[a+1]):(p=c[a],f=c[a+1]),v+=["L",p,f,""].join(" ");else if("h"===n)for(a=0;a<o;a++)"h"===r?p+=c[a]:p=c[a],v+=["L",p,f,""].join(" ");else if("v"===n)for(a=0;a<o;a++)"v"===r?f+=c[a]:f=c[a],v+=["L",p,f,""].join(" ");else if("q"===n)for(a=0;a<o;a+=4)"q"===r?(d=p+c[a],m=f+c[a+1],p+=c[a+2],f+=c[a+3]):(d=c[a],m=c[a+1],p=c[a+2],f=c[a+3]),v+=["Q",d,m,p,f,""].join(" ");else if("t"===n)for(a=0;a<o;a+=2)d=p+(p-d),m=f+(f-m),"t"===r?(p+=c[a],f+=c[a+1]):(p=c[a],f=c[a+1]),v+=["Q",d,m,p,f,""].join(" ");else if("c"===n)for(a=0;a<o;a+=6)"c"===r?(d=p+c[a],m=f+c[a+1],g=p+c[a+2],y=f+c[a+3],p+=c[a+4],f+=c[a+5]):(d=c[a],m=c[a+1],g=c[a+2],y=c[a+3],p=c[a+4],f=c[a+5]),v+=["C",d,m,g,y,p,f,""].join(" ");else if("s"===n)for(a=0;a<o;a+=4)d=p+(p-g),m=f+(f-y),"s"===r?(g=p+c[a],y=f+c[a+1],p+=c[a+2],f+=c[a+3]):(g=c[a],y=c[a+1],p=c[a+2],f=c[a+3]),v+=["C",d,m,g,y,p,f,""].join(" ");else"z"===n&&(v+="Z ",p=h,f=u);return v.trim()}},function(e,t,i){var r={"./font/KoPubDotumLight.woff":31,"./font/NanumSquareRoundEB.woff":32,"./font/Oligopoly Bold.woff":33,"./font/Oligopoly Light.woff":34,"./image/compress/animal/black.png":35,"./image/compress/animal/blue.png":36,"./image/compress/animal/green.png":37,"./image/compress/animal/orange.png":38,"./image/compress/animal/purple.png":39,"./image/compress/animal/red.png":40,"./image/compress/animal/time.png":41,"./image/compress/background/1.png":42,"./image/compress/background/10.png":43,"./image/compress/background/11.png":44,"./image/compress/background/12.png":45,"./image/compress/background/2.png":46,"./image/compress/background/3.png":47,"./image/compress/background/4.png":48,"./image/compress/background/5.png":49,"./image/compress/background/6.png":50,"./image/compress/background/7.png":51,"./image/compress/background/8.png":52,"./image/compress/background/9.png":53,"./image/compress/background/title.png":54,"./image/compress/ball/black.png":55,"./image/compress/ball/blue.png":56,"./image/compress/ball/green.png":57,"./image/compress/ball/orange.png":58,"./image/compress/ball/purple.png":59,"./image/compress/ball/red.png":60,"./image/compress/effect/bomb":6,"./image/compress/effect/bomb.json":6,"./image/compress/effect/bomb.png":61,"./image/compress/effect/boom_white":7,"./image/compress/effect/boom_white.json":7,"./image/compress/effect/boom_white.png":62,"./image/compress/effect/burn":8,"./image/compress/effect/burn.json":8,"./image/compress/effect/burn.png":63,"./image/compress/effect/color":9,"./image/compress/effect/color.json":9,"./image/compress/effect/color.png":64,"./image/compress/effect/firetail":10,"./image/compress/effect/firetail.json":10,"./image/compress/effect/firetail.png":65,"./image/compress/effect/firetail2":11,"./image/compress/effect/firetail2.json":11,"./image/compress/effect/firetail2.png":66,"./image/compress/effect/mission_highlight":12,"./image/compress/effect/mission_highlight.json":12,"./image/compress/effect/mission_highlight.png":67,"./image/compress/effect/pop":13,"./image/compress/effect/pop.json":13,"./image/compress/effect/pop.png":68,"./image/compress/effect/pop_small":14,"./image/compress/effect/pop_small.json":14,"./image/compress/effect/pop_small.png":69,"./image/compress/effect/stone":15,"./image/compress/effect/stone.json":15,"./image/compress/effect/stone.png":70,"./image/compress/effect/thunder":16,"./image/compress/effect/thunder.json":16,"./image/compress/effect/thunder.png":71,"./image/compress/effect/tornado":17,"./image/compress/effect/tornado.json":17,"./image/compress/effect/tornado.png":72,"./image/compress/hero/idle":18,"./image/compress/hero/idle.json":18,"./image/compress/hero/idle.png":73,"./image/compress/hero/shell":19,"./image/compress/hero/shell.json":19,"./image/compress/hero/shell.png":74,"./image/compress/hero/toss":20,"./image/compress/hero/toss.json":20,"./image/compress/hero/toss.png":75,"./image/compress/image.tar":76,"./image/compress/item/bomb.png":77,"./image/compress/item/color.png":78,"./image/compress/item/fire.png":79,"./image/compress/item/ring.png":80,"./image/compress/item/sniper.png":81,"./image/compress/item/thunder.png":82,"./image/compress/item/time.png":83,"./image/compress/item/time_.png":84,"./image/compress/item/tornado.png":85,"./image/compress/stage/background.png":86,"./image/compress/stage/close.png":87,"./image/compress/stage/dot.png":88,"./image/compress/stage/ellipse_blue.png":89,"./image/compress/stage/ellipse_orange.png":90,"./image/compress/stage/jewel.png":91,"./image/compress/stage/shell.png":92,"./image/compress/ui/adblock_en.png":93,"./image/compress/ui/adblock_en_button.png":94,"./image/compress/ui/adblock_ko.png":95,"./image/compress/ui/adblock_ko_button.png":96,"./image/compress/ui/back_button.png":97,"./image/compress/ui/badge.png":98,"./image/compress/ui/bgm_off_button.png":99,"./image/compress/ui/bgm_on_button.png":100,"./image/compress/ui/buy_button.png":101,"./image/compress/ui/challenge_button.png":102,"./image/compress/ui/challenge_text.png":103,"./image/compress/ui/clear_text.png":104,"./image/compress/ui/close_button.png":105,"./image/compress/ui/coin.png":106,"./image/compress/ui/coin_add.png":107,"./image/compress/ui/coin_box.png":108,"./image/compress/ui/cool.png":109,"./image/compress/ui/credit.png":110,"./image/compress/ui/credit_button.png":111,"./image/compress/ui/dark.png":112,"./image/compress/ui/dark100.png":113,"./image/compress/ui/dark_less.png":114,"./image/compress/ui/dark_more.png":115,"./image/compress/ui/division_line.png":116,"./image/compress/ui/fail_text.png":117,"./image/compress/ui/game_ui_background_.png":118,"./image/compress/ui/guide_01.png":119,"./image/compress/ui/guide_02.png":120,"./image/compress/ui/help_box.png":121,"./image/compress/ui/help_button.png":122,"./image/compress/ui/item_background.png":123,"./image/compress/ui/item_background2.png":124,"./image/compress/ui/item_box.png":125,"./image/compress/ui/item_check.png":126,"./image/compress/ui/item_container.png":127,"./image/compress/ui/item_lock.png":128,"./image/compress/ui/main_text.png":129,"./image/compress/ui/menu.png":130,"./image/compress/ui/mission_box.png":131,"./image/compress/ui/mission_box_join.png":132,"./image/compress/ui/mission_center.png":133,"./image/compress/ui/mission_center_outline.png":134,"./image/compress/ui/mission_left.png":135,"./image/compress/ui/mission_left_outline.png":136,"./image/compress/ui/mission_right.png":137,"./image/compress/ui/mission_right_outline.png":138,"./image/compress/ui/next_text.png":139,"./image/compress/ui/no_ads_button.png":140,"./image/compress/ui/pause_button.png":141,"./image/compress/ui/play_button.png":142,"./image/compress/ui/pop.png":143,"./image/compress/ui/reinforce_background.png":144,"./image/compress/ui/reinforce_fill.png":145,"./image/compress/ui/retry_text.png":146,"./image/compress/ui/seapop.png":147,"./image/compress/ui/sfx_off_button.png":148,"./image/compress/ui/sfx_on_button.png":149,"./image/compress/ui/sniper.png":150,"./image/compress/ui/stage_button.png":151,"./image/compress/ui/text_diamond.png":152,"./image/compress/ui/text_diamond_blue.png":153,"./image/compress/ui/timebar_background.png":154,"./image/compress/ui/timebar_fill.png":155,"./image/compress/ui/timebar_fill_.png":156,"./image/compress/ui/timebar_icon.png":157,"./image/compress/ui/wall_background.png":158,"./image/compress/ui/wall_line.png":159,"./image/compress/ui/wow.png":160,"./image/uncompress/oligopoly-light.fnt":161,"./sound/add_time.mp3":162,"./sound/bgm.mp3":163,"./sound/bomb.mp3":164,"./sound/bubbling.mp3":165,"./sound/clear.mp3":166,"./sound/coin_empty.mp3":167,"./sound/coin_get.mp3":168,"./sound/coin_use.mp3":169,"./sound/color.mp3":170,"./sound/combo_fail.mp3":171,"./sound/cool.mp3":172,"./sound/fireout.mp3":173,"./sound/fireshot.mp3":174,"./sound/gameover.mp3":175,"./sound/inGame_bgm.mp3":176,"./sound/pop.mp3":177,"./sound/pop_1.mp3":178,"./sound/pop_2.mp3":179,"./sound/pop_3.mp3":180,"./sound/reinforce.mp3":181,"./sound/result_bgm.mp3":182,"./sound/seapop.mp3":183,"./sound/shoot.mp3":184,"./sound/swap.mp3":185,"./sound/thunder.mp3":186,"./sound/tornado.mp3":187,"./sound/touch.mp3":188,"./sound/warning.mp3":189,"./sound/wow.mp3":190};function webpackContext(e){var t=webpackContextResolve(e);return i(t)}function webpackContextResolve(e){if(i.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,(e.exports=webpackContext).id=30},function(e,t,i){e.exports=i.p+"../source/font/KoPubDotumLight.woff"},function(e,t,i){e.exports=i.p+"../source/font/NanumSquareRoundEB.woff"},function(e,t,i){e.exports=i.p+"../source/font/Oligopoly Bold.woff"},function(e,t,i){e.exports=i.p+"../source/font/Oligopoly Light.woff"},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t,i){e.exports=i.p+"../source/image/compress/image.tar"},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t){throw new Error("Module parse failed: Unexpected character '�' (1:0)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(e,t,i){e.exports=i.p+"../source/image/uncompress/oligopoly-light.fnt"},function(e,t,i){e.exports=i.p+"../source/sound/add_time.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/bgm.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/bomb.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/bubbling.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/clear.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/coin_empty.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/coin_get.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/coin_use.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/color.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/combo_fail.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/cool.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/fireout.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/fireshot.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/gameover.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/inGame_bgm.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/pop.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/pop_1.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/pop_2.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/pop_3.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/reinforce.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/result_bgm.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/seapop.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/shoot.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/swap.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/thunder.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/tornado.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/touch.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/warning.mp3"},function(e,t,i){e.exports=i.p+"../source/sound/wow.mp3"},function(e,t,r){"use strict";r.r(t);var a=r(2),s=r(1);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function GI(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GI)}return function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(GI,null,[{key:"init",value:function init(){this._coolTimeInformation={time:8e3,color:1e4,bomb:16e3,thunder:12e3,tornado:14e3,sniper:0};var e=this._getLocalStorage();this._reinforce=e?e.reinforce:{time:0,color:0,bomb:0,thunder:0,tornado:0,sniper:0},this._item=e?e.itemCount:{tornado:0,color:0,time:0,thunder:0,bomb:0,sniper:0},this._itemUse=e?e.itemUse:{tornado:!1,color:!1,time:!1,thunder:!1,bomb:!1,sniper:!1},this._itemPrice={tornado:600,color:700,time:800,thunder:900,bomb:1e3,sniper:1e3},this._adTime=performance.now(),this._isOffline=!1,this._itemPriceIncrease=50,this._itemReinforcePrice=1500,this._itemReinforcePriceIncrease=500,this._coin=e?e.coin:0,this._stage=e?e.stage:1,this._highScore=e?e.highScore:0,this._sfx=e?e.sfx:1,this._bgm=e?e.bgm:1,this._advertisement=!e||e.advertisement,this._currentStage=e&&e.currentStage?e.currentStage:this._stage,null===e&&this._setLocalStorage()}},{key:"inGameInit",value:function inGameInit(){this._startTime=performance.now(),this._gameTime=100,this._score=0,this._combo=0,this._state="play",this._isClear=!1,this._isStop=!1}},{key:"getIsOffline",value:function getIsOffline(){return this._isOffline}},{key:"setIsOffline",value:function setIsOffline(e){this._isOffline=e}},{key:"getRemainGameTime",value:function getRemainGameTime(){if("timeout"===this._state)return 0;var e=performance.now()-this._startTime,t=this._gameTime-Math.floor(e/1e3);return t<0&&"play"===this._state?(console.log("Time out, Score : ".concat(this.getScore())),this._state="timeout",0):t}},{key:"getRemainGameTimeFloat",value:function getRemainGameTimeFloat(){if("timeout"===this._state)return 0;var e=performance.now()-this._startTime,t=this._gameTime-e/1e3;return t<0&&"play"===this._state?(console.log("Time out, Score : ".concat(this.getScore())),this._state="timeout",0):t/this._gameTime}},{key:"addTime",value:function addTime(){this._gameTime+=3,GI.sfxPlay("add_time")}},{key:"addReinforce",value:function addReinforce(e){this._reinforce[e]+=1,this._setLocalStorage()}},{key:"getReinforce",value:function getReinforce(e){return this._reinforce[e]}},{key:"getReinforceInfo",value:function getReinforceInfo(){return Object.assign({},this._reinforce)}},{key:"getCooltime",value:function getCooltime(e){var t=this._coolTimeInformation[e]/1.5,i=(this._coolTimeInformation[e]-t)/5;return Math.floor(this._coolTimeInformation[e]-i*this._reinforce[e])}},{key:"getCoolTimeInfo",value:function getCoolTimeInfo(){var r=this,n={};return Object.keys(this._reinforce).map(function(e){var t=r._coolTimeInformation[e]/1.5,i=(r._coolTimeInformation[e]-t)/5;n[e]=Math.floor(r._coolTimeInformation[e]-i*r._reinforce[e])}),n}},{key:"getItemCount",value:function getItemCount(){return Object.assign({},this._item)}},{key:"getItem",value:function getItem(e){return this._item[e]}},{key:"addScore",value:function addScore(e){this._score+=e,this._score>this._highScore&&this.setHighScore(this._score)}},{key:"getScore",value:function getScore(){return this._score}},{key:"setHighScore",value:function setHighScore(e){this._highScore=e,this._setLocalStorage()}},{key:"getHighScore",value:function getHighScore(e){return this._highScore}},{key:"resetCombo",value:function resetCombo(){0<this._combo&&GI.sfxPlay("combo_fail"),this._combo=0}},{key:"addCombo",value:function addCombo(){return this._combo+=1,7<this._combo&&this.addScore(10*(this._combo-7)),this._combo%7==0}},{key:"getCombo",value:function getCombo(){return this._combo}},{key:"getCoin",value:function getCoin(){return this._coin}},{key:"addCoin",value:function addCoin(e){this._coin+=e}},{key:"useCoin",value:function useCoin(e){this._coin-=e,GI.sfxPlay("coin_use")}},{key:"addItem",value:function addItem(e){this._item[e]+=1,this._setLocalStorage()}},{key:"useItem",value:function useItem(e){0<this._item[e]&&(this._item[e]-=1),this._setLocalStorage()}},{key:"setUseItem",value:function setUseItem(e,t){this._itemUse[e]=t,this._setLocalStorage()}},{key:"getUseItem",value:function getUseItem(e){return this._itemUse[e]}},{key:"getItemPrice",value:function getItemPrice(e){return"sniper"===e?this._itemPrice.sniper:this._itemPrice[e]+this._reinforce[e]*this._itemPriceIncrease}},{key:"getReinforcePrice",value:function getReinforcePrice(e){return 5<=this._reinforce[e]?0:"sniper"===e?0:this._itemReinforcePrice+this._reinforce[e]*this._itemReinforcePriceIncrease}},{key:"getStage",value:function getStage(){return this._stage}},{key:"setStage",value:function setStage(e){this._stage=e,this._setLocalStorage()}},{key:"getCurrentStage",value:function getCurrentStage(){return this._currentStage}},{key:"setCurrentStage",value:function setCurrentStage(e){this._currentStage=e,this._setLocalStorage()}},{key:"getStageReward",value:function getStageReward(){return this._currentStage===this._stage?50*this._stage:0}},{key:"setEvent",value:function setEvent(){this._isRegisterEvent=!0}},{key:"getEvent",value:function getEvent(){return this._isRegisterEvent}},{key:"playWarningSound",value:function playWarningSound(){void 0===this._warningSound&&(this._warningSound=GI.sfxPlay("warning",!0))}},{key:"stopWarningSound",value:function stopWarningSound(){this._warningSound&&(WG.Sound.sfx.list[this._warningSound].stop(),delete this._warningSound)}},{key:"useItemInGame",value:function useItemInGame(){var e=[];for(var t in this._item)0<this._item[t]&&this._itemUse[t]?this.useItem(t):e.push(t);return e}},{key:"setGameMode",value:function setGameMode(e){this._gameMode=e}},{key:"getGameMode",value:function getGameMode(){return this._gameMode}},{key:"setIsClear",value:function setIsClear(e){this._isClear=e}},{key:"getIsClear",value:function getIsClear(){return this._isClear}},{key:"getBGM",value:function getBGM(){return this._bgm}},{key:"getSFX",value:function getSFX(){return this._sfx}},{key:"toggleBGM",value:function toggleBGM(){this._bgm=this._bgm?0:1,WG.Sound.bgm.volume=this._bgm,WG.Sound.sfx.list[this._bubblingKey].playbackRate.value=this._bgm?1:0,this._setLocalStorage()}},{key:"toggleSFX",value:function toggleSFX(){for(var e in this._sfx=this._sfx?0:1,WG.Sound.sfx.list)WG.Sound.sfx.list[e].playbackRate.value=this._sfx?1:0;void 0!==this._bubblingKey&&(WG.Sound.sfx.list[this._bubblingKey].playbackRate.value=this._bgm?1:0),this._setLocalStorage()}},{key:"setHelp",value:function setHelp(e){this._help=e}},{key:"getHelp",value:function getHelp(){return this._help||!1}},{key:"setCredit",value:function setCredit(e){this._Credit=e}},{key:"getCredit",value:function getCredit(){return this._Credit||!1}},{key:"sfxPlay",value:function sfxPlay(e,t){var i;return t=t||!1,this._sfx?(i=WG.Sound.sfxPlay("sound/".concat(e,".mp3"),t),WG.Sound.sfx.list[i].playbackRate.value=1):t&&(i=WG.Sound.sfxPlay("sound/".concat(e,".mp3"),t),WG.Sound.sfx.list[i].playbackRate.value=0),"bubbling"===e&&(this._bubblingKey=i,WG.Sound.sfx.list[i].playbackRate.value=this._bgm?1:0),i}},{key:"stop",value:function stop(){this._isStop||(this._isStop=!0,this._startStopAt=performance.now())}},{key:"canPlay",value:function canPlay(){return!this._isStop}},{key:"resume",value:function resume(){if(this._isStop){this._isStop=!1;var e=performance.now()-this._startStopAt;return this._startTime+=e,this._pauseElapsedTime=e}return 0}},{key:"getPauseElapsedTime",value:function getPauseElapsedTime(){var e=this._pauseElapsedTime||0;return delete this._pauseElapsedTime,e}},{key:"getAdvertisement",value:function getAdvertisement(){return this._advertisement}},{key:"removeAdvertisement",value:function removeAdvertisement(){this._advertisement=!1,this._setLocalStorage()}},{key:"_getLocalStorage",value:function _getLocalStorage(){var e=new Date("2018-04-26").toISOString(),t=s.decodeBase64(l.encode("".concat(e).concat(e).substr(0,32))),i=s.decodeBase64(l.encode(e.substr(0,24).split("").reverse().join(""))),r=localStorage.getItem("sea-pop");if(null===r)return null;var n=new Uint8Array(r.split(","));try{var o=s.encodeUTF8(a.secretbox.open(n,i,t));return JSON.parse(o)}catch(e){return null}}},{key:"_setLocalStorage",value:function _setLocalStorage(){var e=new Date("2018-04-26").toISOString(),t=s.decodeBase64(l.encode("".concat(e).concat(e).substr(0,32))),i=s.decodeBase64(l.encode(e.substr(0,24).split("").reverse().join(""))),r={reinforce:this._reinforce,itemCount:this._item,itemUse:this._itemUse,coin:this._coin,highScore:this._highScore,stage:this._stage,sfx:this._sfx,bgm:this._bgm,advertisement:this._advertisement},n=s.decodeUTF8(JSON.stringify(r)),o=a.secretbox(n,i,t);localStorage.setItem("sea-pop",o),localStorage.getItem("sea-pop-warning")||localStorage.setItem("sea-pop-warning","★★sea-pop에 대한 데이터를 조작하거나 삭제하면 게임데이터가 초기화됩니다.★★")}}]),GI}(),l={base64:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function encode(e){if(!e)return!1;for(var t,i,r,n,o,a,s,l="",c=0;n=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(i=e.charCodeAt(c++))>>4,a=(15&i)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(i)?a=s=64:isNaN(r)&&(s=64),l+=this.base64.charAt(n)+this.base64.charAt(o)+this.base64.charAt(a)+this.base64.charAt(s),c<e.length;);return l}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function animation(i,r,n,e){if(void 0===e)return new Promise(function(e,t){requestAnimationFrame(function(){animation(i,r,n,e)})});if(void 0===i.ye0jun){i.ye0jun={},i.ye0jun.AnimationStartTime=performance.now(),i.ye0jun.startX=i.x,i.ye0jun.startY=i.y,i.ye0jun.startScale=i.scale.x,i.ye0jun.delay=n||0,i.ye0jun.option={},i.ye0jun.duration=1e3;for(var t=0;t<r.length;t++)if("object"===_typeof(r[t])){if("duration"===Object.keys(r[t])[0]){i.ye0jun.duration=r[t][Object.keys(r[t])[0]];continue}i.ye0jun.option[Object.keys(r[t])[0]]=r[t][Object.keys(r[t])[0]],r[t]=Object.keys(r[t])[0]}i.ye0jun.option.left=i.ye0jun.option.left||50,i.ye0jun.option.right=i.ye0jun.option.right||50,i.ye0jun.option.up=i.ye0jun.option.up||50,i.ye0jun.option.down=i.ye0jun.option.down||50,i.ye0jun.option.scaleUp=i.ye0jun.option.scaleUp||.5,i.ye0jun.option.scaleDown=i.ye0jun.option.scaleDown||.5}var o=(performance.now()-i.ye0jun.AnimationStartTime-i.ye0jun.delay)/i.ye0jun.duration;o=(o=1<o?1:o)<0?0:o,o=EasingFunctions.easeOutQuad(o);for(var a=0;a<r.length;a++)switch(r[a]){case"visible":i.visible=!0,i.alpha=o;break;case"invisible":i.alpha=1-o,1<=o&&(i.visible=!1);break;case"up":i.y=i.ye0jun.startY-i.ye0jun.option.up*o;break;case"down":i.y=i.ye0jun.startY+i.ye0jun.option.down*o;break;case"left":i.x=i.ye0jun.startX-i.ye0jun.option.left*o;break;case"right":i.x=i.ye0jun.startX+i.ye0jun.option.right*o;break;case"scaleUp":i.scale=i.ye0jun.startScale+i.ye0jun.option.scaleUp*o;break;case"scaleDown":i.scale=i.ye0jun.startScale-i.ye0jun.option.scaleDown*o}i.ye0jun.stop?delete i.ye0jun:o<1?requestAnimationFrame(function(){animation(i,r,n,e)}):(e(),delete i.ye0jun)};function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),r.forEach(function(e){_defineProperty(t,e,i[e])})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function utils_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function Utils(){!function utils_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Utils)}return function utils_createClass(e,t,i){return t&&utils_defineProperties(e.prototype,t),i&&utils_defineProperties(e,i),e}(Utils,null,[{key:"fitX",value:function fitX(e){var t=_objectSpread({},WG.Screen._screenSize),i=_objectSpread({},WG.Screen._stageSize),r=(t.width-i.w)/2/WG.Screen.ratio;return e*((WG.Screen.width+2*r)/WG.Screen.width)-r}},{key:"fitY",value:function fitY(e){var t=_objectSpread({},WG.Screen._screenSize),i=_objectSpread({},WG.Screen._stageSize),r=(t.height-i.h)/2/WG.Screen.ratio;return e*((WG.Screen.height+2*r)/WG.Screen.height)-r}},{key:"fitX0",value:function fitX0(e){var t=_objectSpread({},WG.Screen._screenSize),i=_objectSpread({},WG.Screen._stageSize),r=(t.width-i.w)/2/WG.Screen.ratio;return e*((WG.Screen.width+2*r)/WG.Screen.width)}},{key:"fitY0",value:function fitY0(e){var t=_objectSpread({},WG.Screen._screenSize),i=_objectSpread({},WG.Screen._stageSize),r=(t.height-i.h)/2/WG.Screen.ratio;return e*((WG.Screen.height+2*r)/WG.Screen.height)}},{key:"fit",value:function fit(e){return{x:this.getMobilePositionX(e.x),y:this.getMobilePositionY(e.y)}}},{key:"getWidthBlankSpace",value:function getWidthBlankSpace(){var e=_objectSpread({},WG.Screen._screenSize),t=_objectSpread({},WG.Screen._stageSize);return(e.width-t.w)/2/WG.Screen.ratio}}]),Utils}();function sceneTransition_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function SceneTransition(){!function sceneTransition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SceneTransition)}return function sceneTransition_createClass(e,t,i){return t&&sceneTransition_defineProperties(e.prototype,t),i&&sceneTransition_defineProperties(e,i),e}(SceneTransition,null,[{key:"in",value:function _in(e,t,i){var r=new WG.Sprite("ui/dark100.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),alpha:0,zOrder:-999});S(r,["visible"],i=i||0).then(function(){WG.Scene.change(e,t)})}},{key:"out",value:function out(){var e=new WG.Sprite("ui/dark100.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),zOrder:-999});return S(e,["invisible"])}}]),SceneTransition}();function stageBackground_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function stageBackground_defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(){function StageBackground(){!function stageBackground_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StageBackground),stageBackground_defineProperty(this,"step",5e4),stageBackground_defineProperty(this,"background",{start:{color:5424093,alpha:1,r:82,g:195,b:221},end:{color:1786732,alpha:.2,r:221,g:14,b:234},gap:{}}),stageBackground_defineProperty(this,"deep",{start:{alpha:0,r:0,g:0,b:0},end:{alpha:.5,r:0,g:0,b:0},gap:{}}),stageBackground_defineProperty(this,"rockHeight",900),this.rect={width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height)},new WG.Container("deep",{attach:WG.stage,zOrder:1}),this.deep.graphics=new WG.Graphics({attach:"deep"}),this.rock=new WG.Container("rock",{attach:WG.stage,zOrder:2}),new WG.Container("background",{attach:WG.stage,zOrder:3}),this.background.graphics=new WG.Graphics({attach:"background"}),this.rocks=[new WG.Sprite("stage/background.png",{x:WG.Screen.width/2,y:this.rockHeight,width:I.fitX0(WG.Screen.width),attach:"rock"}),new WG.Sprite("stage/background.png",{x:WG.Screen.width/2,y:2*this.rockHeight,width:I.fitX0(WG.Screen.width),attach:"rock"}),new WG.Sprite("stage/background.png",{x:WG.Screen.width/2,y:3*this.rockHeight,width:I.fitX0(WG.Screen.width),attach:"rock"}),new WG.Sprite("stage/background.png",{x:WG.Screen.width/2,y:4*this.rockHeight,width:I.fitX0(WG.Screen.width),attach:"rock"})],this.rocks[1].scale.x=-1,this.rocks[3].scale.x=-1,this.background.gap.r=(this.background.start.r-this.background.end.r)/this.step,this.background.gap.g=(this.background.start.g-this.background.end.g)/this.step,this.background.gap.b=(this.background.start.b-this.background.end.b)/this.step,this.background.gap.alpha=(this.background.start.alpha-this.background.end.alpha)/this.step,this.deep.gap.r=(this.deep.start.r-this.deep.end.r)/this.step,this.deep.gap.g=(this.deep.start.g-this.deep.end.g)/this.step,this.deep.gap.b=(this.deep.start.b-this.deep.end.b)/this.step,this.deep.gap.alpha=(this.deep.start.alpha-this.deep.end.alpha)/this.step,this.render(0)}return function stageBackground_createClass(e,t,i){return t&&stageBackground_defineProperties(e.prototype,t),i&&stageBackground_defineProperties(e,i),e}(StageBackground,[{key:"update",value:function update(e,t){this.rock.y=-e,this.rocks[0].y<e-WG.Screen.height/3-this.rockHeight/2&&t.move<0&&(this.rocks.push(this.rocks.shift()),this.rocks[3].y=this.rocks[2].y+this.rockHeight),this.rocks[3].y>e+1.5*WG.Screen.height+this.rockHeight/2&&0<t.move&&this.rocks[0].y!==this.rockHeight&&(this.rocks.unshift(this.rocks.pop()),this.rocks[0].y=this.rocks[1].y-this.rockHeight),this.rocks.map(function(e,t){e.zOrder=-t})}},{key:"render",value:function render(e){this.gradient(e,this.background),this.gradient(e,this.deep)}},{key:"gradient",value:function gradient(e,t){var i=Math.floor(min(e-I.fitX(WG.Screen.height)/2)),r=Math.floor(min(e+I.fitY(WG.Screen.height)/2,I.fitY(WG.Screen.height))),n={r:Math.floor(t.start.r-i*t.gap.r),g:Math.floor(t.start.g-i*t.gap.g),b:Math.floor(t.start.b-i*t.gap.b),alpha:t.start.alpha-i*t.gap.alpha};n.hex=Number.parseInt(rgbToHex(n.r,n.g,n.b),16);var o={r:Math.floor(t.start.r-r*t.gap.r),g:Math.floor(t.start.g-r*t.gap.g),b:Math.floor(t.start.b-r*t.gap.b),alpha:t.start.alpha-r*t.gap.alpha};o.hex=Number.parseInt(rgbToHex(o.r,o.g,o.b),16);var a,s,l=this.prepareColorData(n.hex,n.alpha),c=this.prepareColorData(o.hex,o.alpha),h=this.rect.height/100;t.graphics.clear();for(var u=0;u<100;u++)a=u/100,s=this.getColorOfGradient(l,c,a),t.graphics.run("beginFill",s.color,s.alpha),t.graphics.run("drawRect",I.fitX(0),I.fitY(0)+this.rect.height*a,this.rect.width,h)}},{key:"prepareRGBChannelColor",value:function prepareRGBChannelColor(e){var t=e.toString(16);if(t.length<2)for(;t.length<2;)t="0"+t;return t}},{key:"getRGBChannels",value:function getRGBChannels(e){var t=e.toString(16);if(t.length<6)for(;t.length<6;)t="0"+t;return{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}}},{key:"prepareColorData",value:function prepareColorData(e,t){return{color:e,alpha:t,channels:this.getRGBChannels(e)}}},{key:"getColorOfGradient",value:function getColorOfGradient(e,t,i){e.alpha||0===e.alpha||(e.alpha=1),e.alpha||0===e.alpha||(t.alpha=1);var r=Math.floor(e.channels.red+i*(t.channels.red-e.channels.red));r=Math.min(r,255);var n=Math.floor(e.channels.green+i*(t.channels.green-e.channels.green));n=Math.min(n,255);var o=Math.floor(e.channels.blue+i*(t.channels.blue-e.channels.blue));o=Math.min(o,255);var a=this.prepareRGBChannelColor(r)+this.prepareRGBChannelColor(n)+this.prepareRGBChannelColor(o);return{color:parseInt(a,16),alpha:e.alpha+i*(t.alpha-e.alpha)}}}]),StageBackground}();function min(e,t){return(t||0)<e?e:t||0}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function rgbToHex(e,t,i){return"0x"+componentToHex(e)+componentToHex(t)+componentToHex(i)}var c=r(21);function stageIcon_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function StageIcon(e,t){!function stageIcon_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StageIcon);var i=WG.Screen.width/3.5,r=WG.Screen.width/5,n=z.getStage()===e?"current":z.getStage()<e?"n_clear":"clear",o=!1;"current"==n&&e%60==0&&(o=!0);var a={current:"ellipse_orange.png",clear:"ellipse_blue.png",n_clear:"close.png",bonus:"jewel.png"},s=(e-1)%4==0?0:(e-1)%4%2==0?2:1;--s;var l={x:WG.Screen.width/2+s*i,y:200+e*r};this.icon=new WG.Sprite(null,{attach:"icon",x:l.x,y:l.y}),"n_clear"==n||o||(this.iconBackground=new WG.Sprite("stage/shell.png",{attach:this.icon})),this.iconImage=new WG.Sprite("stage/".concat(o?a.bonus:a[n]),{attach:this.icon}),this.icon.on("pointerdown",function(){"n_clear"!=n&&(z.setCurrentStage(e),t())}),this.iconText=new WG.Text(e,{theme:"stage",attach:this.icon,fill:{current:[16755233,16735232],clear:[30719,45055],n_clear:[10198174,4343876]}[n],stroke:16777215,fontSize:40,strokeThickness:8,y:-30}),1!==e&&this.renderDot(e,l,s)}return function stageIcon_createClass(e,t,i){return t&&stageIcon_defineProperties(e.prototype,t),i&&stageIcon_defineProperties(e,i),e}(StageIcon,[{key:"emphasize",value:function emphasize(){var e=this;S(this.iconText,["scaleUp","up"]).then(function(){S(e.iconText,["scaleDown","down"]).then(function(){e.emphasize()})})}},{key:"renderDot",value:function renderDot(e,t,i){if(1!==e){e-=1;var r=WG.Screen.width/3.5,n=WG.Screen.width/5,o=(e-1)%4==0?0:(e-1)%4%2==0?2:1;--o;var a={x:WG.Screen.width/2+o*r,y:200+e*n},s={x:0!==i?t.x:a.x,y:0===i?t.y+n/2:t.y-n},l=new c(t.x,t.y,s.x,s.y,a.x,a.y).getLUT(7);l.map(function(e,t){new WG.Sprite("stage/dot.png",{attach:"icon",x:e.x,y:e.y,zOrder:0===t||t===l.length-1?0:1})})}}}]),StageIcon}();function shop_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function Shop(e){var a=this;!function shop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Shop),this.parent=e,this._isShowDetail=!1,this._coin=z.getCoin(),this._animating=!1,this._canBuy=!1,this._language="ko",this._itemName={ko:{bomb:"폭탄",color:"카멜레온",thunder:"번개",time:"시계",tornado:"폭풍",sniper:"저격"},en:{bomb:"Bomb",color:"Chameleon",thunder:"Thunder",time:"Time",tornado:"Hurricane",sniper:"Sniper"}},this._itemDescription={ko:{bomb:"반경 5칸의 구슬을 터뜨립니다.",color:"반경 3칸의 구슬의 색을 변화시킵니다.",thunder:"가로로 한줄을 없애 버립니다.",time:"3초의 시간이 추가로 주어집니다.",tornado:"세로로 3줄을 없애 버립니다.",sniper:"구슬의 최종 위치를 알려줍니다."},en:{bomb:"Burst the five-space radius ball.",color:"Change the three-space radius color.",thunder:"Remove a line horizontally.",time:"Additional 3 seconds will be given.",tornado:"Remove the three lines vertically.",sniper:"Indicates the final position of the ball."}},this.itemContainer=new WG.Sprite(null,{x:WG.Screen.width/2,y:720,alpha:0}),this.shopBox=new WG.Sprite("ui/dark_less.png",{width:I.fitX0(WG.Screen.width),height:250,attach:this.itemContainer});var s=z.getItemCount(),l=["tornado","color","time","thunder","bomb","sniper"];this.badge={},this.badgeText={},this.checkBox={};for(var t=function _loop(e){var t=l[e],i=s[t];i<=0&&z.setUseItem(t,!1);var r=-WG.Screen.width/2+127*e+63.5+19,n=new WG.Sprite("ui/item_background.png",{attach:a.itemContainer,x:r,y:-10});n.on("pointerdown",function(){a._isShowDetail||z.getHelp()||a._showDetail(t)}),new WG.Sprite("item/".concat(t,".png"),{attach:n,y:-10,scale:"time"===t?.9:1});var o=new WG.Sprite("ui/item_box.png",{attach:a.itemContainer,x:r,y:60});(a.checkBox[t]=o).isLock=!1,o.lock=new WG.Sprite("ui/item_lock.png",{attach:o,x:0,y:-3,visible:!1}),o.isCheck=z.getUseItem(t),o.check=new WG.Sprite("ui/item_check.png",{attach:o,x:0,y:-3,visible:o.isCheck}),o.on("pointerdown",function(){o.isLock||a.itemContainer.alpha<1||a._isShowDetail||z.getHelp()||(o.isCheck=!o.isCheck,z.setUseItem(t,o.isCheck),o.check.visible=o.isCheck)}),a.badge[t]=new WG.Sprite("ui/badge.png",{attach:n,x:n.width/2-13,y:-n.height/2+10}),a.badgeText[t]=new WG.Text(i,{theme:"english",fill:16777215,fontSize:20,attach:a.badge[t]}),i<=0&&(a.badge[t].visible=!1,o.lock.visible=!0,o.isLock=!0)},i=0;i<6;i++)t(i);this.detail={dark:new WG.Sprite("ui/dark.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),alpha:0}),container:new WG.Sprite("ui/item_container.png",{x:WG.Screen.width/2,y:WG.Screen.height/2+50,visible:!1})},this.detail.closeButton=new WG.Sprite("ui/close_button.png",{x:this.detail.container.width/2,y:-this.detail.container.height/2-10,attach:this.detail.container}),this.detail.closeButton.on("pointerdown",function(){a.detail.container.alpha<1||a._animating||a._hideDetail()}),new WG.Sprite("ui/division_line.png",{x:0,y:50,attach:this.detail.container,width:.9*this.detail.container.width}),this.detail.item={};for(i=0;i<6;i++){var r=l[i];this.detail.item[r]=new WG.Sprite("item/".concat(r,".png"),{attach:this.detail.container,y:-300,visible:!1,scale:"time"===r?.9:1})}var n={x:0,y:-200,attach:this.detail.container,fontSize:45,fill:"#6a6a6a",fontWeight:"bold",theme:"ko"===this._language?"korean":"english"};this.detail.itemTitle=new WG.Text("폭탄",n),this.detail.itemDescription=new WG.Text("반경 5칸의 버블을 터뜨립니다.",{x:0,y:this.detail.itemTitle.y+60,attach:this.detail.container,fill:"#6a6a6a",theme:"ko"===this._language?"korean":"english"}),this.detail.itemCooltime=new WG.Text("ko"===this._language?"쿨타임":"Cooltime",{x:-40,y:this.detail.itemDescription.y+40,attach:this.detail.container,fill:6974058,theme:"ko"===this._language?"korean":"english"}),this.detail.itemCooltimeSecond=new WG.Text(1,{x:this.detail.itemCooltime.width+10,attach:this.detail.itemCooltime,fill:15482430,theme:"ko"===this._language?"korean":"english"}),this.detail.itemBuyButton=new WG.Sprite("ui/buy_button.png",{x:0,y:this.detail.itemCooltime.y+70,attach:this.detail.container}),this.detail.itemBuyButton.on("pointerdown",function(){a._canBuy&&a._isShowDetail&&!z.getHelp()&&a.buy(a.detail.currentItem)}),this.detail.itemBuyButtonIcon=new WG.Sprite("ui/coin.png",{x:0,y:1,width:this.detail.itemBuyButton.height/1.7,height:this.detail.itemBuyButton.height/1.7,attach:this.detail.itemBuyButton}),this.detail.itemBuyButtonBadge=new WG.Sprite("ui/badge.png",{x:this.detail.itemBuyButton.width/2-10,y:-this.detail.itemBuyButton.height/2,attach:this.detail.itemBuyButton}),this.detail.itemBuyButtonBadgeText=new WG.Text("0",{attach:this.detail.itemBuyButtonBadge,theme:"english",fill:16777215,fontSize:20}),this.detail.itemBuyButtonPrice=new WG.Text("1250",{x:0,y:-1.6,attach:this.detail.itemBuyButton,fill:16777215,fontSize:29,fontFamily:"Oligopoly Light"}),this.detail.reinforceText=new WG.Text("ko"===this._language?"강화하기":"Reinforce",{x:0,y:110,attach:this.detail.container,fill:6974058,fontSize:29,fontWeight:"bold",theme:"ko"===this._language?"korean":"english"}),new WG.Sprite("ui/text_diamond_blue.png",{x:-this.detail.reinforceText.width/2-40,y:0,scale:.8,attach:this.detail.reinforceText}),new WG.Sprite("ui/text_diamond_blue.png",{x:this.detail.reinforceText.width/2+40,y:0,scale:.8,attach:this.detail.reinforceText}),this.detail.reinforceBar=[];for(var o=0;o<5;o++)this.detail.reinforceBar.push(new WG.Sprite("ui/reinforce_background.png",{attach:this.detail.container,x:34*o-82+7*o,y:this.detail.reinforceText.y+70})),this.detail.reinforceBar[o].ye0junFill=new WG.Sprite("ui/reinforce_fill.png",{attach:this.detail.reinforceBar[o],visible:!1});this.detail.reinforceButton=new WG.Sprite("ui/buy_button.png",{x:0,y:this.detail.reinforceBar[0].y+90,attach:this.detail.container}),this.detail.reinforceButton.on("pointerdown",function(){a._canBuy&&a._isShowDetail&&!z.getHelp()&&a.reinforce(a.detail.currentItem)}),this.detail.reinforceButtonIcon=new WG.Sprite("ui/coin.png",{x:0,y:1,width:this.detail.reinforceButton.height/1.7,height:this.detail.reinforceButton.height/1.7,attach:this.detail.reinforceButton}),this.detail.reinforceButtonPrice=new WG.Text("1250",{x:0,y:-1.6,attach:this.detail.reinforceButton,fill:16777215,fontSize:29,fontFamily:"Oligopoly Light"})}return function shop_createClass(e,t,i){return t&&shop_defineProperties(e.prototype,t),i&&shop_defineProperties(e,i),e}(Shop,[{key:"buy",value:function buy(e){if(this._coin!==z.getCoin()&&console.error("게임 데이터를 임의로 조작하지 마세요"),99<=z.getItem(e))z.sfxPlay("coin_empty");else{var t=z.getItemPrice(e);this._coin>=t?(z.useCoin(t),z.addItem(e),this._coin=z.getCoin(),this.parent.coinText.text=this._coin,this.badgeText[e].text=z.getItem(e),this.detail.itemBuyButtonBadgeText.text=z.getItem(e),z.sfxPlay("coin_use"),1===z.getItem(e)&&(this.checkBox[e].isLock=!1,this.checkBox[e].lock.visible=!1,this.badge[e].visible=!0)):(console.log("".concat(e,"을 사지못합니다.")),z.sfxPlay("coin_empty"))}}},{key:"reinforce",value:function reinforce(e){this._coin!==z.getCoin()&&console.error("게임 데이터를 임의로 조작하지 마세요");var t=z.getReinforcePrice(e);if(this._coin>=t&&0<t){z.useCoin(t),z.addReinforce(e),this._coin=z.getCoin(),this.parent.coinText.text=this._coin,this.detail.itemBuyButtonPrice.text=z.getItemPrice(e),this.detail.itemCooltimeSecond.text="".concat((z.getCooltime(e)/1e3).toFixed(1)).concat("ko"===this._language?"초":"sec");var i=z.getReinforcePrice(e)?z.getReinforcePrice(e):"MAX";this.detail.reinforceButtonPrice.text=i,S(this.detail.reinforceBar[z.getReinforce(e)-1].ye0junFill,["visible"]),z.sfxPlay("reinforce")}else z.sfxPlay("coin_empty"),console.log("".concat(e,"을 강화하지 못합니다."))}},{key:"getShopBox",value:function getShopBox(){return this.itemContainer}},{key:"refreshCoin",value:function refreshCoin(){this._coin=z.getCoin()}},{key:"getIsShowDetail",value:function getIsShowDetail(){return this._isShowDetail}},{key:"_showDetail",value:function _showDetail(e){var t=this;this._isShowDetail=!0,this._animating=!0,this.detail.item[e].visible=!0,this.detail.itemDescription.text=this._itemDescription[this._language][e],this.detail.itemTitle.text=this._itemName[this._language][e],this.detail.itemBuyButtonPrice.text=z.getItemPrice(e),this.detail.itemBuyButtonPrice.x=.3*this.detail.itemBuyButtonPrice.width,this.detail.itemBuyButtonIcon.x=this.detail.itemBuyButtonPrice.x-this.detail.itemBuyButtonPrice.width/2-30;var i=z.getReinforcePrice(e)?z.getReinforcePrice(e):"MAX";this.detail.reinforceButtonPrice.text=i,this.detail.reinforceButtonPrice.x=.3*this.detail.reinforceButtonPrice.width,this.detail.reinforceButtonIcon.x=this.detail.reinforceButtonPrice.x-this.detail.reinforceButtonPrice.width/2-30,this.detail.currentItem=e,this.detail.itemCooltimeSecond.text="".concat((z.getCooltime(e)/1e3).toFixed(1)).concat("ko"===this._language?"초":"sec"),this.detail.itemBuyButtonBadgeText.text=z.getItem(e);for(var r=z.getReinforce(e),n=0;n<5;n++)this.detail.reinforceBar[n].y=this.detail.reinforceText.y+70+20,this.detail.reinforceBar[n].ye0junFill.visible=!1;S(this.detail.dark,["visible",{duration:400}]);for(var o=S(this.detail.container,["visible","up",{duration:400}]).then(function(){t._canBuy=!0}),a=0;a<r;a++)this.detail.reinforceBar[a].ye0junFill.visible=!0,o=S(this.detail.reinforceBar[a],["visible",{up:20}],50*a);for(var s=r;s<5;s++)o=S(this.detail.reinforceBar[s],["visible",{up:20}],50*s);o.then(function(){t._animating=!1})}},{key:"_hideDetail",value:function _hideDetail(){var e=this;this._canBuy=!1,S(this.detail.dark,["invisible",{duration:400}]),S(this.detail.container,["invisible","down",{duration:400}]).then(function(){e.detail.item[e.detail.currentItem].visible=!1,e._isShowDetail=!1})}}]),Shop}();function mission_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function Mission(){!function mission_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Mission)}return function mission_createClass(e,t,i){return t&&mission_defineProperties(e.prototype,t),i&&mission_defineProperties(e,i),e}(Mission,null,[{key:"init",value:function init(){var e={score:3e3,combo:5,drop:40,pop:50},t={score:1500,combo:1,drop:5,pop:10},i={first:1,second:2};this._mission=[];for(var r=1;r<=12;r++)for(var n=1;n<=5;n++)if(5===n)this._mission[r*n]=[this._mission[5*(r-1)+i.first][0],this._mission[5*(r-1)+i.second][0]],i.second+=1,i.second===i.first&&(i.second+=1),4<i.second&&(i.first+=1,i.second=i.first+1,3<i.first&&(i.first=1,i.second=2));else{var o=Object.keys(e)[n-1];this._mission[5*(r-1)+n]=[{type:o,condition:e[o]+t[o]*(r-1)}]}}},{key:"gameInit",value:function gameInit(){this._condition={pop:{black:0,blue:0,green:0,orange:0,purple:0,red:0},score:0,combo:0,drop:0}}},{key:"getMissionProgress",value:function getMissionProgress(){return Object.assign({},this._condition)}},{key:"getCurrentMission",value:function getCurrentMission(){var i;if(z.getCurrentStage()%60==0)i=[{type:"score",condition:1}];else{var r={pop:5,score:500,combo:1,drop:10};(i=JSON.parse(JSON.stringify(this._mission[z.getCurrentStage()%60]))).map(function(e,t){i[t].condition+=r[e.type]*Math.floor(z.getCurrentStage()/60)})}return i}},{key:"pop",value:function pop(e,t){this._condition.pop[e]+=1,this.checkAchieveCondition()&&t._makeGameOver(!0)}},{key:"score",value:function score(e){this._condition.score=z.getScore(),this.checkAchieveCondition()&&e._makeGameOver(!0)}},{key:"combo",value:function combo(e,t){e<this._condition.combo||(this._condition.combo=e,this.checkAchieveCondition()&&t._makeGameOver(!0))}},{key:"drop",value:function drop(e){this._condition.drop+=1,this.checkAchieveCondition()&&e._makeGameOver(!0)}},{key:"setSelectedColor",value:function setSelectedColor(e){this._selectedColor=e}},{key:"getSelectedColor",value:function getSelectedColor(){return this._selectedColor}},{key:"checkAchieveCondition",value:function checkAchieveCondition(){if("stage"!==z.getGameMode())return!1;for(var e=this.getCurrentMission(),t=0;t<e.length;t++)if("pop"===e[t].type){if(this._condition[e[t].type][this._selectedColor]<e[t].condition)return!1}else if(this._condition[e[t].type]<e[t].condition)return!1;return!0}}]),Mission}();function missionBox_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function MissionBox(){!function missionBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MissionBox);var e,t=g.getCurrentMission(),i=new WG.Sprite(null,{x:WG.Screen.width/2,y:500,visible:!1});e=t.length<2?0:178;var r=[-1,1];this.missionBox=[],this.missionText=[],this.conditionText=[];for(var n=0;n<2;n++){var o=void 0,a=void 0;a=void 0!==t[n]?(o=t[n].type,t[n].condition):o="";var s=new WG.Sprite("ui/mission_box.png",{x:e*r[n],y:0,attach:i});this.missionBox[n]=s,new WG.AnimationSprite("effect/mission_highlight.json",{attach:s,speed:1e3});var l=new WG.Text(o,{x:-90,y:-3,attach:s,theme:"english",fontSize:35,letterSpacing:-1,fill:16767512});l.x=-s.width/2+l.width/2+30,this.missionText[n]=l;var c=new WG.Text(a,{y:0,attach:s,theme:"english",fontSize:35,fill:16777215});c.x=s.width/2-c.width/2-30,this.conditionText[n]=c}return i.refresh=this.refresh.bind(this),i}return function missionBox_createClass(e,t,i){return t&&missionBox_defineProperties(e.prototype,t),i&&missionBox_defineProperties(e,i),e}(MissionBox,[{key:"refresh",value:function refresh(){var e,t=g.getCurrentMission();e=t.length<2?0:178;var i=[-1,1];1===t.length&&(this.missionBox[1].visible=!1,this.missionText[1].visible=!1,this.conditionText[1].visible=!1);for(var r=0;r<t.length;r++){1===r&&(this.missionBox[1].visible=!0,this.missionText[1].visible=!0,this.conditionText[1].visible=!0);var n=t[r].type,o=t[r].condition;this.missionBox[r].x=e*i[r],this.missionText[r].text=n,this.missionText[r].x=-this.missionBox[r].width/2+this.missionText[r].width/2+30,this.conditionText[r].text=o,this.conditionText[r].x=this.missionBox[r].width/2-this.conditionText[r].width/2-30}}}]),MissionBox}();function stage_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function Stage(){!function stage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Stage)}return function stage_createClass(e,t,i){return t&&stage_defineProperties(e.prototype,t),i&&stage_defineProperties(e,i),e}(Stage,[{key:"init",value:function init(){var r=this;this.state={pointer:"up",current:0,start:0,end:0,move:0},this.shopBackAvailable=!1,this.animating=!1,this.stageBackground=new o,this.iconContainer=new WG.Container("icon",{zOrder:0}),this.defaultUI();var n=this.getCurrentStageCameraPosition();this.pointerdownFn=function(e){!1===r.dark.visible&&!1===r.deepDark.visible&&(r.state.pointer="down",r.state.start=e.data.global.y/WG.Screen.ratio)},this.pointerdown=WG.renderer.plugins.interaction.on("pointerdown",this.pointerdownFn),this.pointermoveFn=function(e){if("down"===r.state.pointer){r.state.end=e.data.global.y/WG.Screen.ratio,r.state.move=r.state.end-r.state.start;var t=r.state.current-r.state.move,i=t<0?0:n<t?n:t;r.stageBackground.update(i,r.state),r.stageBackground.render(i),r.iconContainer.y=-i}},WG.renderer.plugins.interaction.on("pointermove",this.pointermoveFn),this.pointerupFn=function(){r.state.pointer="up",r.state.current-=r.state.move,r.state.current=r.state.current<0?0:r.state.current>n?n:r.state.current,r.state.start=0,r.state.end=0,r.state.move=0},WG.renderer.plugins.interaction.on("pointerup",this.pointerupFn);for(var e=1;e<=z.getStage()+6;e++){var t=new h(e,this.showDetail.bind(this));e===z.getStage()&&t.emphasize()}this.setCameraToCurrentStage(),k.out()}},{key:"update",value:function update(){}},{key:"destroy",value:function destroy(){WG.renderer.plugins.interaction.off("pointerdown",this.pointerdownFn),WG.renderer.plugins.interaction.off("pointermove",this.pointermoveFn),WG.renderer.plugins.interaction.off("pointerup",this.pointerupFn)}},{key:"setCameraToCurrentStage",value:function setCameraToCurrentStage(e){var t=WG.Screen.width/5,i=e||z.getStage();this.state.current=200+i*t-WG.Screen.height/2,this.state.current=0<this.state.current?this.state.current:0,this.refresh()}},{key:"getCurrentStageCameraPosition",value:function getCurrentStageCameraPosition(){var e=WG.Screen.width/5,t=200+(z.getStage()+2)*e-WG.Screen.height/2;return t<0?0:t}},{key:"refresh",value:function refresh(){for(var e=this.state.current,t=0;t<z.getStage();t++)this.state.move=-1,this.stageBackground.update(e,this.state),this.stageBackground.render(e);this.iconContainer.y=-e}},{key:"defaultUI",value:function defaultUI(){var e=this,t=new WG.Sprite("ui/dark.png",{width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),x:WG.Screen.width/2,y:WG.Screen.height/2,alpha:0,visible:!1});this.dark=t;var i=new WG.Sprite("ui/dark_more.png",{width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),x:WG.Screen.width/2,y:WG.Screen.height/2,alpha:0,visible:!1});this.deepDark=i;var r=new WG.Sprite("ui/coin_box.png");r.x=I.fitX(20)+r.width/2,r.y=I.fitY(20)+r.height/2,this.coinBox=r,this.coinText=new WG.Text(z.getCoin().toLocaleString(),{attach:r,fill:16777215,theme:"english",fontSize:30}),this.coinText.x=r.width/2-this.coinText.width/2-40,this.gameInfoTextParent=new WG.Sprite(null,{x:WG.Screen.width/2,y:350,alpha:0,visible:!1}),this.gameInfoText=new WG.Text("STAGE ".concat(z.getStage()),{x:0,y:0,fill:16777215,theme:"english",fontSize:55,attach:this.gameInfoTextParent}),this.missionBox=new m,this.shop=new d(this),this.shop.getShopBox().visible=!1,this.playButton=new WG.Sprite("ui/play_button.png",{x:WG.Screen.width/2,y:1080,visible:!1}),this.playButton.on("pointerup",function(){k.in("Game")}),this.backButton=new WG.Sprite("ui/back_button.png",{x:I.fitX(100),y:I.fitY(150),alpha:0,visible:!1}),this.backButton.on("pointerdown",function(){e.shopBackAvailable&&!e.shop.getIsShowDetail()&&e.hideDetail()}),this.backSceneButton=new WG.Sprite("ui/back_button.png",{x:I.fitX(50),y:I.fitY(150),visible:!0}),this.backSceneButton.on("pointerdown",function(){e.shopBackAvailable||k.in("Ready")});var n=new WG.Sprite(z.getSFX()?"ui/sfx_off_button.png":"ui/sfx_on_button.png");n.x=I.fitX(WG.Screen.width-10)-n.width/2,n.y=I.fitY(10)+n.height/2,n.on("pointerdown",function(){z.toggleSFX();var e=z.getSFX()?"off":"on";n.texture="ui/sfx_".concat(e,"_button.png")});var o=new WG.Sprite(z.getBGM()?"ui/bgm_off_button.png":"ui/bgm_on_button.png");o.x=n.x-o.width-5,o.y=n.y,o.on("pointerdown",function(){z.toggleBGM();var e=z.getBGM()?"off":"on";o.texture="ui/bgm_".concat(e,"_button.png")});var a=new WG.Sprite("ui/help_box.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,alpha:0});this.helpBox=a,new WG.Sprite("ui/close_button.png",{x:a.width/2-5,y:-a.height/2-5,attach:a}).on("pointerdown",function(){1<=a.alpha&&(S(t,["invisible"]),S(a,["invisible"]).then(function(){z.setHelp(!1)}))}),new WG.Sprite("ui/help_button.png",{x:o.x-o.width-5,y:o.y}).on("pointerdown",function(){e.help()}),this.shopThings=[this.gameInfoTextParent,this.missionBox,this.shop.getShopBox(),this.playButton]}},{key:"setDefaultUI",value:function setDefaultUI(){this.gameInfoText.text="STAGE ".concat(z.getCurrentStage())}},{key:"help",value:function help(){!1===z.getHelp()&&(S(this.dark,["visible"]),S(this.helpBox,["visible"]),z.setHelp(!0))}},{key:"showDetail",value:function showDetail(){var e=this;if(!this.animating&&!this.shopBackAvailable){this.setDefaultUI(),this.missionBox.refresh(),this.animating=!0,S(this.deepDark,["visible",{duration:600}]);for(var t=null,i=0;i<this.shopThings.length;i++)t=S(this.shopThings[i],["visible","up",{duration:400}],200*i);S(this.backButton,["visible","left",{duration:400}],400),t.then(function(){e.shopBackAvailable=!0,e.animating=!1}),S(this.backSceneButton,["invisible","left",{duration:400}])}}},{key:"hideDetail",value:function hideDetail(){var e=this;if(!this.animating&&this.shopBackAvailable){this.animating=!0;for(var t=S(this.deepDark,["invisible",{duration:700}]),i=this.shopThings.length-1;0<=i;i--)S(this.shopThings[i],["invisible","down",{duration:400}],100*(this.shopThings.length-i-1));S(this.backButton,["invisible","right",{duration:400}],200),S(this.backSceneButton,["visible","right",{duration:400}],400),t.then(function(){e.shopBackAvailable=!1,e.animating=!1})}}}]),Stage}();WG.Scene.add(new n);var B=function Background(){!function background_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Background),new WG.Sprite("background/1.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height)});new WG.Sprite("background/2.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height)});var e=new WG.Sprite("background/3.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height)});e.y=I.fitY(WG.Screen.height)-e.height/2;new WG.Sprite("background/4.png",{x:I.fitX(302.5),y:I.fitY(990.5)}),new WG.Sprite("background/5.png",{x:I.fitX(268.5),y:I.fitY(1037.5)}),new WG.Sprite("background/6.png",{x:I.fitX(251.5),y:I.fitY(1104.5)});var t=new WG.Sprite("background/7.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width)});t.y=I.fitY(WG.Screen.height-t.height/2);new WG.Sprite("background/8.png",{x:I.fitX(137.5),y:I.fitY(1140)});var i=new WG.Sprite("background/9.png");i.x=I.fitX(WG.Screen.width)-i.width/2,i.y=I.fitY(WG.Screen.height)-i.height/2;var r=new WG.Sprite("background/10.png");r.x=I.fitX(WG.Screen.width)-r.width/2,r.y=I.fitY(WG.Screen.height)-r.height/2;var n=new WG.Sprite("background/11.png");n.x=n.width/2,n.y=I.fitY(WG.Screen.height)-n.height/2;new WG.Sprite("background/12.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height)})};function result_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function Result(){!function result_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Result)}return function result_createClass(e,t,i){return t&&result_defineProperties(e.prototype,t),i&&result_defineProperties(e,i),e}(Result,[{key:"init",value:function init(){var n=this;WG.Sound.bgmPlay("sound/result_bgm.mp3"),WG.renderer.view.style.cursor="inherit";new B,new WG.Sprite("ui/dark.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height)});var e,t=new WG.Sprite("ui/coin_box.png");t.x=I.fitX(20)+t.width/2,t.y=I.fitY(20)+t.height/2,this.coinText=new WG.Text(z.getCoin().toLocaleString(),{attach:t,fill:16777215,theme:"english",fontSize:30}),this.coinText.x=t.width/2-this.coinText.width/2-20,this.coinText.coin=z.getCoin();var i=z.getGameMode(),r=z.getIsClear();e="challenge"===i?"challenge":r?"clear":"fail";for(var o=new WG.Sprite("ui/".concat(e,"_text.png"),{x:WG.Screen.width/2,y:300}),a=0;a<2;a++){var s=0===a?1:-1;new WG.Sprite("ui/text_diamond.png",{x:(o.width/2+40)*s,attach:o})}var l=new WG.Text("SCORE",{theme:"english",fill:16777215,fontSize:40,x:WG.Screen.width/2-170,y:WG.Screen.height/2-120}),c=new WG.Text(z.getScore(),{theme:"english",fill:16777215,fontSize:70,x:WG.Screen.width/2-170,y:WG.Screen.height/2-55}),h=new WG.Text("HIGH SCORE",{theme:"english",fill:16777215,fontSize:40,x:WG.Screen.width/2+170,y:WG.Screen.height/2-120}),u=new WG.Text(z.getHighScore(),{theme:"english",fill:16777215,fontSize:70,x:WG.Screen.width/2+170,y:WG.Screen.height/2-55}),p=new WG.Sprite("ui/dark_less.png",{x:WG.Screen.width/2,y:800,width:I.fitX0(WG.Screen.width),height:80}),f=new WG.Text("Reward",{theme:"english",fill:16777215,fontSize:27,x:WG.Screen.width/2-50,y:800});this.rewardCoin=new WG.Sprite("ui/coin.png",{x:WG.Screen.width/2+40,y:800,width:36,height:36});var d=Math.floor(z.getScore()/40);z.addCoin(d),this.rewardCoin.ye0junEffect=new WG.Sprite("ui/coin.png",{x:270,y:800,width:36,height:36,visible:!1}),this.rewardCoin.money=d;new WG.Text(d,{anchorX:0,x:this.rewardCoin.width/2+30,y:-2,theme:"english",fill:16777215,fontSize:45,attach:this.rewardCoin});this.effectInformation=[],this.particle=[],this.startTime=performance.now(),this.coinEndPoint={x:I.fitX(51),y:I.fitY(47)},this.effectTime=1e3,this.particleCreateTime=100,this.particleTime=500,this.animationTimeline=[o,[l,c],[h,u],p,f,this.rewardCoin];var m="retry";if("stage"===i&&r){f.x=170,this.rewardCoin.x=270,m="next";var g=Math.floor(z.getStageReward());z.getCurrentStage()===z.getStage()&&z.setStage(z.getStage()+1);var y=new WG.Text("Clear Bonus",{theme:"english",fill:16770048,fontSize:27,x:500,y:800});this.clearBonusCoin=new WG.Sprite("ui/coin.png",{x:630,y:800,width:36,height:36}),z.addCoin(g),this.clearBonusCoin.ye0junEffect=new WG.Sprite("ui/coin.png",{x:630,y:800,width:36,height:36,visible:!1}),this.clearBonusCoin.money=g;new WG.Text(g,{anchorX:0,x:this.clearBonusCoin.width/2+30,y:-2,theme:"english",fill:16777215,fontSize:45,attach:this.clearBonusCoin});this.animationTimeline.push(y,this.clearBonusCoin)}var v=new WG.Sprite("ui/main_text.png",{x:140,y:I.fitY(WG.Screen.height-80),visible:!1});v.on("pointerdown",function(){k.in("Ready")});var x=new WG.Sprite("ui/".concat(m,"_text.png"),{x:WG.Screen.width-140,y:I.fitY(WG.Screen.height-80),visible:!1});x.on("pointerdown",function(){"stage"===i?k.in("Stage"):k.in("Ready",{shop:!0})}),this.animationTimeline.push(v,x);for(var b=function show(e,t){return e.visible=!1,e.y+=50,S(e,["visible","up"],t)},w=function _loop(e){var t=n.animationTimeline[e];if(Array.isArray(t))for(var i=0;i<t.length;i++){var r=t[i];b(r,300*e)}else b(t,300*e).then(function(){t.ye0junEffect&&n._makeCoinEffect(t)})},_=0;_<this.animationTimeline.length;_++)w(_);k.out().then(function(){RG.admob.interstitialShow()})}},{key:"update",value:function update(){for(var e=0;e<this.effectInformation.length;e++){var t=this.effectInformation[e];if(!t.complete){var i=(performance.now()-t.createdAt)/this.effectTime;1<=i&&(i=1,this.effectInformation[e].complete=!0,this.effectInformation[e].object.ye0junEffect.visible=!1,this.coinText.text=(parseInt(this.coinText.coin)+this.effectInformation[e].money).toLocaleString(),this.coinText.coin=parseInt(this.coinText.coin)+this.effectInformation[e].money,z.sfxPlay("coin_get"));var r={x:Math.pow(1-i,2)*t.object.x+2*(1-i)*i*t.controlPoint.x+Math.pow(i,2)*this.coinEndPoint.x,y:Math.pow(1-i,2)*t.object.y+2*(1-i)*i*t.controlPoint.y+Math.pow(i,2)*this.coinEndPoint.y};t.object.ye0junEffect.x=r.x,t.object.ye0junEffect.y=r.y,performance.now()-t.particleTime>this.particleCreateTime&&(t.particleTime=performance.now(),this.particle.push(new WG.Sprite("ui/coin.png",{x:r.x,y:r.y,width:36,height:36,alpha:.5})),this.particle[this.particle.length-1].createdAt=performance.now())}}for(var n=0;n<this.particle.length;n++){var o=this.particle[n],a=(performance.now()-o.createdAt)/this.particleTime;1<a&&(a=1,o.ye0junDelete=!0),o.alpha=.5-a/2}for(;this.particle[0]&&this.particle[0].ye0junDelete;)this.particle[0].destroy(),this.particle.shift()}},{key:"destroy",value:function destroy(){}},{key:"_makeCoinEffect",value:function _makeCoinEffect(e){var t=Math.toRadians(Math.floor(90*Math.random())+270),i=Math.floor(100*Math.random())+200;e.ye0junEffect.visible=!0,this.effectInformation.push({object:e,controlPoint:{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i},createdAt:performance.now(),particleTime:performance.now(),money:e.money})}}]),Result}();function title_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}WG.Scene.add(new u);var p=function(){function Title(e,t){var i=this;!function title_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Title),this.parent=t,this._titleDuration=3e3,this._titleMoveAmount=30,this._titleTime=performance.now(),this._titleDirection=1,this._titleStartY=WG.Screen.height/3.2,this._state="title",this._animating=!1;this.dark=new WG.Sprite("ui/dark.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),alpha:0}),this._title=new WG.Sprite("background/title.png",{x:WG.Screen.width/2-10,y:this._titleStartY});var r=new WG.Sprite("ui/stage_button.png",{x:WG.Screen.width/2,y:860}),n=new WG.Sprite("ui/challenge_button.png",{x:WG.Screen.width/2,y:980});e&&(this._animating=!0,S(r,["visible","up"],100),S(n,["visible","up"],400).then(function(){i._animating=!1})),this.creditBox=new WG.Sprite("ui/credit.png",{x:WG.Screen.width/2,y:WG.Screen.height/2+50,visible:!1,alpha:0});var o=new WG.Sprite("ui/credit_button.png");o.x=I.fitX(WG.Screen.width-10)-o.width/2,o.y=I.fitY(WG.Screen.height-10)-o.height/2,o.on("pointerdown",function(){i._titleDisappearForCredit()}),this.titleThings=[n,r,this._title,o];var a=new WG.Sprite("ui/coin_box.png");a.x=I.fitX(20)+a.width/2,a.y=I.fitY(20)+a.height/2,this.coinBox=a;var s=new WG.Text(z.getCoin().toLocaleString(),{attach:a,fill:16777215,theme:"english",fontSize:30});s.x=a.width/2-s.width/2-40,this.coinText=s;var l=new WG.Sprite(null,{x:WG.Screen.width/2,y:350,alpha:0}),c="stage"===z.getGameMode()?"STAGE ".concat(z.getStage()):"CHALLENGE",h=new WG.Text(c,{x:0,y:0,fill:16777215,theme:"english",fontSize:55,attach:l});n.on("pointerdown",function(){if(!(n.ye0jun||z.getHelp()||z.getIsOffline())){z.setGameMode("challenge"),h.text="CHALLENGE";for(var e=0;e<2;e++){var t=0===e?-1:1;i.diamond[e].x=h.width/2*t+40*t}i.shopThings=i.originalShopThings.slice(),i.shopThings.splice(1,1),i._titleDisappear()}}),r.on("pointerdown",function(){r.ye0jun||z.getHelp()||z.getIsOffline()||(z.setGameMode("stage"),k.in("Stage"))}),this.diamond=[],this.diamond.push(new WG.Sprite("ui/text_diamond.png",{x:-h.width/2-40,y:0,attach:l})),this.diamond.push(new WG.Sprite("ui/text_diamond.png",{x:h.width/2+40,y:0,attach:l}));var u=new m([{type:"score",value:5e3}]),p=new WG.Sprite("ui/play_button.png",{x:WG.Screen.width/2,y:1080,visible:!1});this.backButton=new WG.Sprite("ui/back_button.png",{y:150,alpha:0});var f=new d(this);this.shop=f,p.on("pointerup",function(){i._animating||z.getHelp()||f.getIsShowDetail()||k.in("Game")}),this.backButton.x=this.backButton.originalX=I.fitX(this.backButton.width/2+20+70),this.backButton.on("pointerdown",function(){i.backButton.alpha<1||f.isShowDetail||z.getHelp()||("shop"===i._state?i._shopDisappear():i._titleAppearForCredit())}),f.getShopBox().visible=!1,this.originalShopThings=[l,u,f.getShopBox(),p]}return function title_createClass(e,t,i){return t&&title_defineProperties(e.prototype,t),i&&title_defineProperties(e,i),e}(Title,[{key:"setCoin",value:function setCoin(e){this.coinText.text=e.toLocaleString(),this.coinText.x=this.coinBox.width/2-this.coinText.width/2-40,this.shop.refreshCoin()}},{key:"update",value:function update(){switch(this._state){case"title":this._titleUpdate()}}},{key:"_titleDisappearForCredit",value:function _titleDisappearForCredit(){var e=this;if(!this._animating){var t;this._animating=!0;for(var i=0;i<this.titleThings.length;i++)i===this.titleThings.length-1?t=S(this.titleThings[i],["invisible","down",{duration:400}],100*i):S(this.titleThings[i],["invisible",{left:WG.Screen.width/2},{duration:400}],100*i);t=S(this.backButton,["visible","left",{duration:400}],400),S(this.dark,["visible",{duration:600}]),S(this.creditBox,["visible",{duration:600}],600),t.then(function(){e._animating=!1})}}},{key:"_titleAppearForCredit",value:function _titleAppearForCredit(){var e=this;if(!this._animating){var t;S(this.backButton,["invisible","right",{duration:400}],0),this._animating=!0;for(var i=0;i<this.titleThings.length;i++)i===this.titleThings.length-1?t=S(this.titleThings[i],["visible","up",{duration:400}],100*i+200):S(this.titleThings[i],["visible",{right:WG.Screen.width/2},{duration:400}],100*i+200);S(this.dark,["invisible",{duration:600}]),S(this.creditBox,["invisible",{duration:600}]),t.then(function(){e._animating=!1})}}},{key:"_titleDisappear",value:function _titleDisappear(){var t=this;if(!this._animating){var e;this._animating=!0;for(var i=0;i<this.titleThings.length;i++)i===this.titleThings.length-1?e=S(this.titleThings[i],["invisible","down",{duration:400}],100*i):S(this.titleThings[i],["invisible",{left:WG.Screen.width/2},{duration:400}],100*i);e.then(function(){S(t.dark,["visible",{duration:600}]);for(var e=0;e<t.shopThings.length;e++)S(t.shopThings[e],["visible","up",{duration:400}],200*e);S(t.backButton,["visible","left",{duration:400}],400).then(function(){t._state="shop",1===z.getStage()&&t.parent.help(),t._animating=!1})})}}},{key:"shopAppear",value:function shopAppear(){var e=this;this.shopThings=this.originalShopThings.slice(),"stage"!==z.getGameMode()&&this.shopThings.splice(1,1);for(var t=0;t<this.titleThings.length;t++)this.titleThings[t].alpha=0,this.titleThings[t].visible=!1,this.titleThings[t].x=0;this.titleThings[0].y=930,this.titleThings[1].y=810,this.titleThings[2].x=-10,this.titleThings[3].x=WG.Screen.width-this.titleThings[3].width/2-10,this.titleThings[3].y=WG.Screen.height-this.titleThings[3].height/2-10+50,S(this.dark,["visible",{duration:600}]);for(var i=0;i<this.shopThings.length;i++)S(this.shopThings[i],["visible","up",{duration:400}],200*i);S(this.backButton,["visible","left",{duration:400}],400).then(function(){e._state="shop",e._animating=!1})}},{key:"_shopDisappear",value:function _shopDisappear(){var e=this;if(!this._animating){this._animating=!0,this._state="title",S(this.backButton,["invisible","left"]).then(function(){e.backButton.x=e.backButton.originalX});for(var t=this.shopThings.length-1;0<=t;t--)S(this.shopThings[t],["invisible","down",{duration:400}],100*(this.shopThings.length-1-t));var i;S(this.dark,["invisible",{duration:600}]);for(var r=0;r<this.titleThings.length;r++)r===this.titleThings.length-1?i=S(this.titleThings[r],["visible","up",{duration:400}],100*r+400):S(this.titleThings[r],["visible",{right:WG.Screen.width/2},{duration:400}],100*r+400);i.then(function(){e._animating=!1})}}},{key:"_titleUpdate",value:function _titleUpdate(){var e=(performance.now()-this._titleTime)/this._titleDuration;if(1<e)this._titleTime=performance.now(),this._titleDirection*=-1;else{var t=this._titleMoveAmount*EasingFunctions.easeInOutQuad(e)*this._titleDirection,i=(0<this._titleDirection?this._titleStartY:this._titleStartY+this._titleMoveAmount)+t;this._title.y=i}}}]),Title}();function ready_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function Ready(e){!function ready_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ready),this.isDefaultScene=!0,g.init()}return function ready_createClass(e,t,i){return t&&ready_defineProperties(e.prototype,t),i&&ready_defineProperties(e,i),e}(Ready,[{key:"init",value:function init(e){var t=this;WG.stage.mask=null,e=e||{},void 0===WG.Theme.list.korean&&(WG.Theme.add("korean",{fontFamily:"KoPubDotumLight",fontSize:23}),WG.Theme.add("english",{fontFamily:"Oligopoly Light",fontSize:23}),WG.Theme.add("nanum",{fontFamily:"NanumSquareRoundEB",fontSize:23}),WG.Theme.add("stage",{fontFamily:"Oligopoly Bold",fontSize:23}),z.sfxPlay("bubbling",!0),WG.renderer.plugins.interaction.on("pointerdown",function(e){"Game"!==WG.Scene.currentName&&z.sfxPlay("touch")})),WG.Sound.bgmPlay("sound/bgm.mp3"),z.toggleBGM(),z.toggleBGM();new B;this.title=new p(!e.shop,this),e.shop&&this.title.shopAppear();var i=new WG.Sprite(z.getSFX()?"ui/sfx_off_button.png":"ui/sfx_on_button.png");i.x=I.fitX(WG.Screen.width-10)-i.width/2,i.y=I.fitY(i.height/2+10),i.on("pointerdown",function(){z.toggleSFX();var e=z.getSFX()?"off":"on";i.texture="ui/sfx_".concat(e,"_button.png")});var r=new WG.Sprite(z.getBGM()?"ui/bgm_off_button.png":"ui/bgm_on_button.png");r.x=i.x-r.width-5,r.y=i.y,r.on("pointerdown",function(){z.toggleBGM();var e=z.getBGM()?"off":"on";r.texture="ui/bgm_".concat(e,"_button.png")});var n=new WG.Sprite("ui/dark.png",{width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),x:WG.Screen.width/2,y:WG.Screen.height/2,alpha:0});this.dark=n;var o=new WG.Sprite("ui/help_box.png",{x:WG.Screen.width/2,y:WG.Screen.height/2,alpha:0});this.helpBox=o,new WG.Sprite("ui/close_button.png",{x:o.width/2-5,y:-o.height/2-5,attach:o}).on("pointerdown",function(){1<=o.alpha&&(S(n,["invisible"]),S(o,["invisible"]).then(function(){z.setHelp(!1)}))}),new WG.Sprite("ui/help_button.png",{x:r.x-r.width-5,y:r.y}).on("pointerdown",function(){t.help()}),z.stopWarningSound(),k.out()}},{key:"update",value:function update(){this.title.update()}},{key:"destroy",value:function destroy(){}},{key:"help",value:function help(){!1===z.getHelp()&&(S(this.dark,["visible"]),S(this.helpBox,["visible"]),z.setHelp(!0))}}]),Ready}();WG.Scene.add(new f);var y=r(0),E=r.n(y);function guideline_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function Guideline(e,t){!function guideline_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Guideline),function guideline_defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}(this,"_gcd",function(e,t){return t<1e-7?e:this._gcd(t,Math.floor(e%t))}),this._angle=e,this._distance=5e3,this._ballImageSize=WG.Screen.width/10,this._ball=t,this._wall={left:0+this._ballImageSize/2,right:WG.Screen.width-this._ballImageSize/2},this._collisionKey=["center","left","right"],this._guidePoint=[];for(var i=0;i<6;i++)this._guidePoint.push(new WG.Sprite("ui/guide_01.png",{zOrder:-2}));this._wallPoint=new WG.Sprite("ui/guide_01.png",{zOrder:-2,visible:!1}),this._guidePoint.push(new WG.Sprite("ui/guide_02.png",{zOrder:-2})),z.getUseItem("sniper")&&(this._sniper=new WG.Sprite("ui/sniper.png",{zOrder:-2})),this.debug=!1,this._sniperRing={},this._sniperRingTime=1e3,this._sniperRingMakeTime=300,this._sniperRingStartTime=performance.now()}return function guideline_createClass(e,t,i){return t&&guideline_defineProperties(e.prototype,t),i&&guideline_defineProperties(e,i),e}(Guideline,[{key:"update",value:function update(e){this._angle=e,this.sniper(),this.render()}},{key:"render",value:function render(){var e=!1;this._wallPoint.visible=!1;for(var t=0;t<7;t++)if(this._guidePoint[t].x=WG.Screen.width/2+(t+1)/7*500*Math.cos(Math.toRadians(180-this._angle)),this._guidePoint[t].y=I.fitY(WG.Screen.height)-this._ballImageSize-(t+1)/7*500*Math.sin(Math.toRadians(180-this._angle)),6===t&&(this._guidePoint[t].lastRotation=this._angle-90),this._guidePoint[t].x>WG.Screen.width-this._ballImageSize/2||this._guidePoint[t].x<this._ballImageSize/2){var i={x:this._guidePoint[t].x<this._ballImageSize/2?this._ballImageSize/2:WG.Screen.width-this._ballImageSize/2,y:null},r=Math.abs((i.x-WG.Screen.width/2)/Math.cos(Math.toRadians(180-this._angle)));i.y=I.fitY(WG.Screen.height)-this._ballImageSize-r*Math.sin(Math.toRadians(180-this._angle)),!1===e&&(e=!0,this._wallPoint.visible=!0,this._wallPoint.x=i.x,this._wallPoint.y=i.y);var n=Math.sqrt(Math.pow(i.x-this._guidePoint[t].x,2)+Math.pow(i.y-this._guidePoint[t].y,2));this._guidePoint[t].x=i.x+n*Math.cos(Math.toRadians(180-(180-this._angle))),this._guidePoint[t].y=i.y-n*Math.sin(Math.toRadians(180-(180-this._angle))),6===t&&(this._guidePoint[t].lastRotation=180-this._angle-90)}this._guidePoint[6].rotation=Math.toRadians(this._guidePoint[6].lastRotation)}},{key:"sniper",value:function sniper(){if(void 0!==this._sniper){for(var e=!1,t={left:this._getDestination("left"),center:this._getDestination(),right:this._getDestination("right")},i=[],r=t.center.length-1,n=0;n<r&&!(1<r&&n==r-1);n++){for(var o=this._ball.length-1;0<=o;o--)for(var a=0;a<this._ball[o].data.length;a++){var s=this._ball[o].data[a];if("empty"!==s)for(var l=0;l<Object.keys(t).length;l++){var c=t[Object.keys(t)[l]],h=this._getEquationOfLineFromTwoPoints_t(c,n),u={a:h.gradient,b:h.yIntercept,cx:s.sprite.x,cy:s.sprite.y},p=void 0,f=void 0,d=Math.pow(32.5,2)*(1+Math.pow(u.a,2))-Math.pow(u.cy-u.a*u.cx-u.b,2);0<d?((p={x:(u.cx+u.cy*u.a-u.b*u.a+Math.sqrt(d))/(1+Math.pow(u.a,2)),y:(u.b+u.cx*u.a+u.cy*u.a*u.a+u.a*Math.sqrt(d))/(1+Math.pow(u.a,2))}).dist=this._dist(p,c[n]),(f={x:(u.cx+u.cy*u.a-u.b*u.a-Math.sqrt(d))/(1+Math.pow(u.a,2)),y:(u.b+u.cx*u.a+u.cy*u.a*u.a-u.a*Math.sqrt(d))/(1+Math.pow(u.a,2))}).dist=this._dist(f,c[n]),i.push(p,f),e=!0):p=0}}if(e)break}i.sort(function(e,t){return e.dist-t.dist}),0<i.length&&(this._sniper.x=i[0].x,this._sniper.y=i[0].y),performance.now()-this._sniperRingStartTime>this._sniperRingMakeTime&&(this._sniperRingStartTime=performance.now(),this._sniperRingMake()),this._sniperRingUpdate()}}},{key:"_sniperRingUpdate",value:function _sniperRingUpdate(){for(var e in this._sniperRing){var t=this._sniperRing[e],i=(performance.now()-t.createdAt)/this._sniperRingTime;1<=i?(t.destroy(),delete this._sniperRing[e]):(t.alpha=1-i,t.scale=1+1*i)}}},{key:"_sniperRingMake",value:function _sniperRingMake(){var e=new WG.Sprite("item/ring.png",{attach:this._sniper});e.key="_"+Math.random().toString(36).substr(2,9),e.createdAt=performance.now(),this._sniperRing[e.key]=e}},{key:"_getDestination",value:function _getDestination(e){var t=e?"left"===e?-90:90:0,i=this._angle,r=this._distance,n={x:WG.Screen.width/2,y:I.fitY(WG.Screen.height-this._ballImageSize)};e&&(n.x+=32.5*Math.sin(Math.toRadians(180-i+t-90)),n.y+=32.5*Math.cos(Math.toRadians(180-i+t-90)));for(var o=[n,{x:n.x+r*Math.sin(Math.toRadians(i-90)),y:n.y-r*Math.cos(Math.toRadians(i-90))}];0<r;){var a=void 0;a=1===o.length?{x:n.x,y:n.y}:{x:o[o.length-2].x,y:o[o.length-2].y};var s=-1;if(o[o.length-1].x<this._wall.left?s=(this._wall.left-a.x)/Math.sin(Math.toRadians(i-90)):o[o.length-1].x>this._wall.right&&(s=(this._wall.right-a.x)/Math.sin(Math.toRadians(i-90))),-1==s)break;if(o[o.length-1].x=a.x+s*Math.sin(Math.toRadians(i-90)),o[o.length-1].y=a.y-s*Math.cos(Math.toRadians(i-90)),i=180-i,r-=Math.abs(s),o.push({x:o[o.length-1].x+r*Math.sin(Math.toRadians(i-90)),y:o[o.length-1].y-r*Math.cos(Math.toRadians(i-90))}),o[o.length-2].y<0)break}return o}},{key:"_ray",value:function _ray(e,t){var i=E.a.Composite.allBodies(this._matterEngine.world);return E.a.Query.ray(i,e,t,72)}},{key:"_lineCircle",value:function _lineCircle(e,t,i){var r=e.x-t.x,n=e.y-t.y,o=Math.sqrt(r*r+n*n),a=((i.x-e.x)*(t.x-e.x)+(i.y-e.y)*(t.y-e.y))/Math.pow(o,2),s=e.x+a*(t.x-e.x),l=e.y+a*(t.y-e.y);return!!this._linePoint(e,t,{x:s,y:l})&&(r=s-i.x,n=l-i.y,Math.sqrt(r*r+n*n)<=i.radius&&(this.closestX=s,this.closestY=l,this.distX=r,this.distY=n,!0))}},{key:"_linePoint",value:function _linePoint(e,t,i){var r=this._dist(i,e),n=this._dist(i,t),o=this._dist(e,t);return o-.1<=r+n&&r+n<=o+.1}},{key:"_dist",value:function _dist(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"_getEquationOfLineFromTwoPoints",value:function _getEquationOfLineFromTwoPoints(e,t){var i,r={gradient:(e.y-t.y)/(e.x-t.x)};return r.yIntercept=e.y-r.gradient*e.x,r.toString=function(){return Math.abs(r.gradient)===1/0?"x = "+e.x:(i=[],0!==r.gradient&&i.push(r.gradient+"x"),0!==r.yIntercept&&i.push(r.yIntercept),i.join("+"))},r}},{key:"_getEquationOfLineFromTwoPoints_t",value:function _getEquationOfLineFromTwoPoints_t(e,t){e[t].x===e[t+1].x&&(e[t+1].x+=.1);var i={gradient:(e[t].y-e[t+1].y)/(e[t].x-e[t+1].x)};return i.yIntercept=e[t].y-i.gradient*e[t].x,i}},{key:"_getFractionFromDecimal",value:function _getFractionFromDecimal(e){var t=e.toString().length-2,i=Math.pow(10,t),r=e*i,n=this._gcd(r,i);return r/=n,i/=n,{numerator:Math.floor(r),denominator:Math.floor(i)}}}]),Guideline}();function comboText_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function ComboText(e,t){!function comboText_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComboText),this.object=new WG.Text("".concat(e),{theme:"nanum",fill:16771584,x:t.x,y:t.y,fontSize:50,stroke:1332084,strokeThickness:7});new WG.Text("combo",{theme:"nanum",fill:16777215,x:this.object.width/2+53,y:4,fontSize:30,attach:this.object,stroke:1332084,strokeThickness:7});this.createdAt=performance.now(),this.time=1e3,this.originalY=t.y,this.delete=!1,this.key="_"+Math.random().toString(36).substr(2,9)}return function comboText_createClass(e,t,i){return t&&comboText_defineProperties(e.prototype,t),i&&comboText_defineProperties(e,i),e}(ComboText,[{key:"update",value:function update(){var e=performance.now()-this.createdAt,t=1<e/this.time?1:e/this.time;this.object.alpha=1-t,this.object.y=this.originalY-50*t,1<=t&&(this.delete=!0)}},{key:"getDelete",value:function getDelete(){return!!this.delete&&(this.object.destroy(),!0)}}]),ComboText}();function effectText_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function EffectText(e){!function effectText_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EffectText),this.object=new WG.Sprite("ui/".concat(e,".png"),{x:WG.Screen.width/2,y:WG.Screen.height-300}),z.sfxPlay(e),this.createdAt=performance.now(),this.time=1e3,this.originalY=WG.Screen.height-400,this.delete=!1,this.key="_"+Math.random().toString(36).substr(2,9)}return function effectText_createClass(e,t,i){return t&&effectText_defineProperties(e.prototype,t),i&&effectText_defineProperties(e,i),e}(EffectText,[{key:"update",value:function update(){var e=performance.now()-this.createdAt,t=1<e/this.time?1:e/this.time;this.object.alpha=1-t,this.object.y=this.originalY-50*t,1<=t&&(this.delete=!0)}},{key:"getDelete",value:function getDelete(){return!!this.delete&&(this.object.destroy(),!0)}}]),EffectText}();function missionHighlight_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function MissionHighlight(e){!function missionHighlight_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MissionHighlight),this.option=function missionHighlight_objectSpread(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,i,r;t=n,r=o[i=e],i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r})}return n}({},e),this.duration=500,this.startTime=performance.now(),this.option.position={start:this.option.startPosition},delete this.option.startPosition,0===this.option.missionNo?this.option.position.end={x:I.fitX(170),y:I.fitY(60)}:this.option.position.end={x:I.fitX(370),y:I.fitY(60)};var t=Math.floor(2*Math.random()),i=Math.floor(45*Math.random());i+=0===t?180:315,this.option.position.control={x:this.option.position.start.x+500*Math.cos(Math.toRadians(i)),y:this.option.position.start.y+500*Math.sin(Math.toRadians(i))},this.text=new WG.Text(this.option.type,{theme:"nanum",fill:16777215,x:this.option.position.start.x,y:this.option.position.start.y,fontSize:50,stroke:1332084,strokeThickness:7,zOrder:-3})}return function missionHighlight_createClass(e,t,i){return t&&missionHighlight_defineProperties(e.prototype,t),i&&missionHighlight_defineProperties(e,i),e}(MissionHighlight,[{key:"update",value:function update(e){var t=this.option.position,i=t.start,r=t.control,n=t.end,o=(performance.now()-this.startTime)/this.duration,a=o;1<=o&&(o=1);var s={x:Math.pow(1-a,2)*i.x+2*(1-a)*a*r.x+Math.pow(a,2)*n.x,y:Math.pow(1-a,2)*i.y+2*(1-a)*a*r.y+Math.pow(a,2)*n.y};this.text.x=s.x,this.text.y=s.y,1===o&&(e(this.option.missionNo),this.destroy(),this.option.callback())}},{key:"destroy",value:function destroy(){new WG.AnimationSprite("effect/pop_small.json",{x:this.option.position.end.x,y:this.option.position.end.y,speed:500,loop:!1,scale:1.5,rotation:Math.toRadians(360*Math.random()),zOrder:-3}),this.text.destroy()}}]),MissionHighlight}();function ball_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function Ball(e){var t=this;!function ball_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ball);var i=performance.now();this._ball=[],this._waitBall=[],this._floatBall={},this._scoreVerification={pop:0,float:[]},this._maxColorCount="stage"===z.getGameMode()?4+Math.floor(z.getCurrentStage()/60):4,this._maxColorCount=6<this._maxColorCount?6:this._maxColorCount,this._pickBallColor(),this._settingMatter(),this._testMode=0,this._indent=!0,this._ballImageSize=WG.Screen.width/10,this._maxBallCount=9,this._shotSpeed=4e3,this._moveSpeed=10,this._isAvailableShot=!1,this._isAvailableTimeItem=!0,this._parent=e,this._swapAnimating=!1,this._swapAnimationTime=200,this._itemTime={time:i,color:i,bomb:i,thunder:i,tornado:i},this._itemState={time:!0,color:!0,bomb:!0,thunder:!0,tornado:!0},this._tintColor={red:15614290,orange:16411911,black:6252913,blue:883158,purple:9914068,green:510098,white:11188633},this._stopEndAnimation=!1,this._comboText={},this._effectText={},z.useItemInGame().map(function(e){delete t._itemTime[e]});for(var r=Math.floor(.7*I.fitY(WG.Screen.height)/this._ballImageSize),n=0;n<r;n++)this._makeNewLine(!0);for(var o=0;o<2;o++)this._makeNewBall();this._settingWaitBall(),this._isAvailableShot=!0,this._shotAngle=90,this._guideline=new v(this._shotAngle,this._ball),this._hero=new WG.Sprite(null,{x:.27*WG.Screen.width,y:I.fitY(1280)}),this._heroIdle=new WG.AnimationSprite("hero/idle.json",{attach:this._hero,speed:300,scale:.6}),this._heroIdle.y-=.6*this._heroIdle.height/2,this._heroIdle.addFrameCallback(2,function(){t._heroIdle.stop=!0}),WG.isMobile&&this._heroIdle.on("pointerdown",function(){t.waitBallSwap(),e.swap=!0}),this._shell=new WG.AnimationSprite("hero/shell.json",{x:WG.Screen.width/2,y:I.fitY(WG.Screen.height)-80,scale:.9,speed:300}),this._shell.addFrameCallback(0,function(){t._shell.stop=!0})}return function ball_createClass(e,t,i){return t&&ball_defineProperties(e.prototype,t),i&&ball_defineProperties(e,i),e}(Ball,[{key:"guidelineUpdate",value:function guidelineUpdate(e){this._guideline.update(e)}},{key:"_settingMatter",value:function _settingMatter(){this._matterEngine=E.a.Engine.create(),this._matterEngine.world.gravity.y=1,this._matterGround=E.a.Bodies.rectangle(WG.Screen.width/2,WG.Screen.height+30,WG.Screen.width,60,{isStatic:!0,collisionFilter:{category:2,mask:8}}),E.a.World.add(this._matterEngine.world,[this._matterGround]),E.a.Engine.run(this._matterEngine)}},{key:"_pickBallColor",value:function _pickBallColor(){var e=["black","orange","blue","red","green","purple"];for(this._ballColor=[];this._ballColor.length<this._maxColorCount;){var t=Math.floor(Math.random()*e.length);this._ballColor.includes(e[t])||this._ballColor.push(e[t])}}},{key:"getBallColor",value:function getBallColor(){return this._ballColor.slice()}},{key:"_makeNewLine",value:function _makeNewLine(e,t){t|=0;var i=e||!1,r=this._maxBallCount-(this._indent?1:0),n=5+Math.floor(Math.random()*(r-5+1)),o=r-n,a=Math.floor(Math.random()*this._maxColorCount),s={indent:this._indent,data:[]};if(0<this._ball.length&&i)for(var l=0;l<this._matterEngine.world.constraints.length;l++){var c=this._matterEngine.world.constraints[l],h=c.bodyB;E.a.Body.setPosition(h,{x:h.position.x,y:h.position.y+this._ballImageSize-this._ballImageSize*(1/8)}),c.pointA.y=h.position.y}for(var u=0;u<n;u++){var p=void 0;if(0===u)p=this._ballColor[a];else if(Math.floor(5*Math.random())<=2)p=s.data[u-1].color;else{var f=this._ballColor.slice();f.splice(a,1),p=f[Math.floor(Math.random()*(this._maxColorCount-1))]}var d=new WG.Sprite(null,{x:u*this._ballImageSize+this._ballImageSize/2+this._ballImageSize/2+(this._indent?this._ballImageSize/2:0),y:-this._ballImageSize/2+this._ballImageSize*(1/8)-(i?-I.fitY(0):this._ballImageSize/2)+t});d.zOrder=0;var m=new WG.Sprite("ball/".concat(p,".png"),{attach:d,x:0,y:0,width:this._ballImageSize,height:this._ballImageSize}),g=!1;if(this._itemTime.time&&this._isAvailableTimeItem)performance.now()-this._itemTime.time>z.getCooltime("time")&&(g=!(this._isAvailableTimeItem=!1));var y=new WG.Sprite("animal/".concat(g?"time":p,".png"),{attach:d,x:0,y:0,scale:g?.9:1});d.ball=m,d.animal=y,d.line=s;var v=E.a.Bodies.circle(d.x,d.y,this._ballImageSize/2.2,{label:"ball".concat(u),collisionFilter:{category:4}}),x=E.a.Constraint.create({pointA:{x:d.x,y:d.y},bodyB:v,length:0,stiffness:.05});E.a.World.add(this._matterEngine.world,[v,x]);var b={row:0,column:u};s.data.push({color:p,sprite:d,matterBody:v,matterConstraint:x,lastY:-this._ballImageSize/2+this._ballImageSize*(1/8)-(i?-I.fitY(0):this._ballImageSize/2)+t,index:b,search:!1,timeItem:g,state:"link"}),v.ye0junParent=s.data[s.data.length-1]}for(var w=Math.floor(o/2),_=o%2,S=0;S<w;S++)s.data.push("empty"),s.data.unshift("empty");_&&(Math.floor(2*Math.random())?s.data.push("empty"):s.data.unshift("empty"));for(var k=0,B=0;B<s.data.length;B++){var C=s.data[B];"empty"===C?k+=1:(E.a.Body.setPosition(C.matterBody,{x:C.sprite.x+this._ballImageSize*k,y:C.sprite.y}),C.matterConstraint.pointA.x=C.matterBody.position.x,C.index.column+=k)}for(var M=0;M<s.data.length;M++){var G=s.data[M];"empty"!==G&&(G.index.column+=1)}if(s.data.push("empty"),s.data.unshift("empty"),this._indent=!this._indent,0<this._ball.length)for(var T=0;T<this._ball.length;T++)for(var A=this._ball[T].data,P=0;P<A.length;P++){var W=A[P];"empty"!==W&&(W.lastY=W.matterConstraint.pointA.y,W.index.row+=1)}this._ball.unshift(s),e||this._findFloatingBall()}},{key:"_resetSearch",value:function _resetSearch(){for(var e=0;e<this._ball.length;e++)for(var t=0;t<this._ball[e].data.length;t++){var i=this._ball[e].data[t];"empty"!==i&&(i.search=!1)}}},{key:"_findLinkBall",value:function _findLinkBall(e,t,i,r){if(i=i||[],t=t||this._ball[e.row].data[e.column].color,r=r||0,!this._ball[e.row].data[e.column].search&&(this._ball[e.row].data[e.column].search=!0,t===this._ball[e.row].data[e.column].color&&"link"===this._ball[e.row].data[e.column].state)){i.push(e);for(var n=0;n<4;n++){var o=e.row+(n<2?0===n?-1:1:0),a=e.column+(1<n?2===n?-1:1:0);if(!(o<0||a<0||void 0===this._ball[o]||void 0===this._ball[o].data[a])&&"empty"!==this._ball[o].data[a]){var s={row:o,column:a};this._findLinkBall(s,t,i,r+1)}}if(this._ball[e.row].indent)for(var l=0;l<2;l++){var c=e.row+(0==l?-1:1),h=e.column+1;if(!(c<0||h<0||void 0===this._ball[c]||void 0===this._ball[c].data[h])&&"empty"!==this._ball[c].data[h]){var u={row:c,column:h};this._findLinkBall(u,t,i,r+1)}}else for(var p=0;p<2;p++){var f=e.row+(0==p?-1:1),d=e.column-1;if(!(f<0||d<0||void 0===this._ball[f]||void 0===this._ball[f].data[d])&&"empty"!==this._ball[f].data[d]){var m={row:f,column:d};this._findLinkBall(m,t,i,r+1)}}0==r&&(this._popProcess(i),this._resetSearch(),this._findFloatingBall())}}},{key:"_popProcess",value:function _popProcess(o){var a=this;if(3<=o.length){var e=z.addCombo();g.combo(z.getCombo(),this),this._addMissionHighlight(this._ball[o[0].row].data[o[0].column].sprite.position,"combo");var t=new x(z.getCombo(),this._ball[o[0].row].data[o[0].column].sprite.position);this._comboText[t.key]=t,e&&(this._makeNewBall("fire"),this._settingWaitBall()),z.addScore(10*o.length);var i=Math.floor(3*Math.random())+1;z.sfxPlay("pop_".concat(i)),g.score(this),this._addMissionHighlight(this._ball[o[0].row].data[o[0].column].sprite.position,"score"),this._scoreVerification.pop+=o.length;for(var r=function _loop(r){var n=a._ball[o[r].row].data[o[r].column];a._ball[o[r].row].data[o[r].column]="empty",n.timeItem&&(z.addTime(),a._isAvailableTimeItem=!0,a._itemTime.time=performance.now()),g.getCurrentMission().map(function(e){"pop"===e.type&&g.getSelectedColor()===n.color&&setTimeout(function(){a._addMissionHighlight(n.sprite.position,e.type)},10*r)}),g.pop(n.color,a),n.state="pop",E.a.World.remove(a._matterEngine.world,n.matterBody),E.a.Composite.remove(a._matterEngine.world,n.matterConstraint),setTimeout(function(){var e=new WG.AnimationSprite("effect/pop_small.json",{x:0,y:0,speed:300,loop:!1,scale:1.5,attach:n.sprite,rotation:Math.toRadians(360*Math.random())});n.sprite.popAnimation=e;for(var t=function _loop2(t){e.addFrameCallback(t,function(){var e=3<t?0:1/t;n.sprite.ball.scale=e,n.sprite.ball.alpha=e,n.sprite.animal.scale=e,n.sprite.animal.alpha=e})},i=0;i<e.frames.length;i++)t(i);e.onComplete=function(){n.sprite.destroy(),r===o.length-1&&a._ballSpeedSetting()}},100/o.length*r)},n=0;n<o.length;n++)r(n)}else z.resetCombo(),g.combo(z.getCombo(),this)}},{key:"_itemPopProcess",value:function _itemPopProcess(s,l){var c=this;z.addScore(10*s.length),g.score(this),this._scoreVerification.pop+=s.length;for(var e=function _loop3(i){var r=s[i];if(c._addMissionHighlight(r.sprite.position,"score"),r.timeItem&&(z.addTime(),c._isAvailableTimeItem=!0,c._itemTime.time=performance.now()),"item"!==r.color&&(g.pop(r.color,c),g.getCurrentMission().map(function(e){"pop"===e.type&&g.getSelectedColor()===r.color&&setTimeout(function(){c._addMissionHighlight(r.sprite.position,e.type)},100*i)})),!c._ball[r.index.row]||!c._ball[r.index.row].data[r.index.column])return"continue";c._ball[r.index.row].data[r.index.column]="empty",r.state="pop",E.a.World.remove(c._matterEngine.world,r.matterBody),E.a.Composite.remove(c._matterEngine.world,r.matterConstraint);var e=l||"boom_white",t={x:0,y:0,speed:400,loop:!1,attach:r.sprite,rotation:Math.toRadians(360*Math.random())};switch(l){case"tornado":t.rotation=0,t.speed=400}var n=new WG.AnimationSprite("effect/".concat(e,".json"),t);r.sprite.popAnimation=n;for(var o=function _loop4(t){n.addFrameCallback(t,function(){var e=3<t?0:1/t;r.sprite.ball.scale=e,r.sprite.ball.alpha=e,r.sprite.animal&&(r.sprite.animal.scale=e,r.sprite.animal.alpha=e)})},a=0;a<n.frames.length;a++)o(a);n.onComplete=function(){if(r.sprite.destroy(),i===s.length-1){var e=c._ball[c._ball.length-1];if(e)for(var t=0;t<e.data.length;t++)if("empty"!==e.data[t]){e.data[t].matterBody.position.y<WG.Screen.height*(2.2/6)&&(c._moveSpeed=500);break}}}},t=0;t<s.length;t++)e(t)}},{key:"_eachPopProcess",value:function _eachPopProcess(e){var t=this,r=e;this._addMissionHighlight(this._ball[e.index.row].data[e.index.column].sprite.position,"score"),this._ball[e.index.row].data[e.index.column]="empty",z.addScore(10),g.score(this),this._scoreVerification.pop+=1,"item"!==r.color&&(g.pop(r.color,this),g.getCurrentMission().map(function(e){"pop"===e.type&&g.getSelectedColor()===r.color&&setTimeout(function(){t._addMissionHighlight(r.sprite.position,e.type)},100*i)})),r.state="pop",r.timeItem&&(z.addTime(),this._isAvailableTimeItem=!0,this._itemTime.time=performance.now()),E.a.World.remove(this._matterEngine.world,r.matterBody),E.a.Composite.remove(this._matterEngine.world,r.matterConstraint),z.sfxPlay("fireout");var n=new WG.AnimationSprite("effect/burn.json",{x:0,y:0,speed:300,loop:!1,attach:r.sprite});r.sprite.popAnimation=n;for(var o=function _loop5(t){n.addFrameCallback(t,function(){var e=3<t?0:1/t;r.sprite.ball.scale=e,r.sprite.animal.scale=e,r.sprite.ball.alpha=e,r.sprite.animal.alpha=e})},a=0;a<n.frames.length;a++)o(a);n.onComplete=function(){t._ballSpeedSetting(),r.sprite.destroy()}}},{key:"_emptyLineCheck",value:function _emptyLineCheck(){for(var e=this._ball.length-1;0<=e;e--){for(var t=this._ball[e],i=0;i<t.data.length;i++){if("empty"!==t.data[i])return}this._ball.pop()}}},{key:"_deadLineCheck",value:function _deadLineCheck(){if(0<this._ball.length)for(var e=this._ball[this._ball.length-1].data,t=0;t<e.length;t++)"empty"!==e[t]&&"pop"!==e[t].state&&"item"!==e[t].color&&e[t].sprite.y+this._ballImageSize/2>=I.fitY(WG.Screen.height)-this._ballImageSize-this._ballImageSize/2&&this._makeGameOver(!1)}},{key:"_findFloatingBall",value:function _findFloatingBall(){for(var e=[],t=0;t<this._ball.length;t++)for(var i=0;i<this._ball[t].data.length;i++){var r=this._ball[t].data[i];if("empty"!==r&&!r.search&&"link"===r.state){var n={row:t,column:i},o=this._findLinkBallWithoutColor(n);o&&e.push(o)}}this._resetSearch();for(var a=0;a<e.length;a++)if(!e[a].isTop){var s="_"+Math.random().toString(36).substr(2,9),l=e[a].link.length;if(z.addScore(30*l),g.score(this),this._addMissionHighlight(e[a].link[0].sprite.position,"score"),this._scoreVerification.float.push(l),20<=l){z.addScore(200);var c=new b("seapop");this._effectText[c.key]=c}else if(15<=l){z.addScore(150);var h=new b("pop");this._effectText[h.key]=h}else if(10<=l){z.addScore(100);var u=new b("wow");this._effectText[u.key]=u}else if(5<=l){z.addScore(50);var p=new b("cool");this._effectText[p.key]=p}g.score(this),this._floatBall[s]=e[a].link}}},{key:"_findLinkBallWithoutColor",value:function _findLinkBallWithoutColor(e,t,i){if(t=t||{isTop:!1,link:[]},i=i||0,this._ball[e.row].data[e.column].search||"link"!==this._ball[e.row].data[e.column].state)return null;0===e.row&&(t.isTop=!0),t.link.push(this._ball[e.row].data[e.column]),this._ball[e.row].data[e.column].search=!0;for(var r=0;r<4;r++){var n=e.row+(r<2?0===r?-1:1:0),o=e.column+(1<r?2===r?-1:1:0);if(!(n<0||o<0||void 0===this._ball[n]||void 0===this._ball[n].data[o])&&"empty"!==this._ball[n].data[o]){var a={row:n,column:o};this._findLinkBallWithoutColor(a,t,i+1)}}if(this._ball[e.row].indent)for(var s=0;s<2;s++){var l=e.row+(0==s?-1:1),c=e.column+1;if(!(l<0||c<0||void 0===this._ball[l]||void 0===this._ball[l].data[c])&&"empty"!==this._ball[l].data[c]){var h={row:l,column:c};this._findLinkBallWithoutColor(h,t,i+1)}}else for(var u=0;u<2;u++){var p=e.row+(0==u?-1:1),f=e.column-1;if(!(p<0||f<0||void 0===this._ball[p]||void 0===this._ball[p].data[f])&&"empty"!==this._ball[p].data[f]){var d={row:p,column:f};this._findLinkBallWithoutColor(d,t,i+1)}}return 0==i?t:void 0}},{key:"getBallArray",value:function getBallArray(){return this._ball}},{key:"addItemTimeForPauseResume",value:function addItemTimeForPauseResume(e){for(var t in this._itemTime)this._itemTime[t]+=e}},{key:"_makeNewBall",value:function _makeNewBall(e){var t,i=e||this._ballColor[Math.floor(Math.random()*this._maxColorCount)];if(void 0===e)for(var r=performance.now(),n=0;n<Object.keys(this._itemTime).length;n++){var o=Object.keys(this._itemTime)[n];if("time"!==o&&"sniper"!==o)if(r-this._itemTime[o]>z.getCoolTimeInfo()[o]&&this._itemState[o]){this._itemState[o]=!1,t=o,i="item";break}}else"fire"===e&&(t="fire",z.sfxPlay("fireshot"));var a=new WG.Sprite(null,{x:-this._ballImageSize/2,y:-this._ballImageSize/2});if(a.zOrder=-1,"fire"===t){var s=new WG.AnimationSprite("effect/firetail.json",{x:0,y:0,speed:200,loop:!0,attach:a,pivotY:0,anchorY:0,visible:!1});a.fireTail=s}var l=t?"item/".concat(t):"ball/".concat(i),c=new WG.Sprite("".concat(l,".png"),{attach:a,x:0,y:0,width:this._ballImageSize,height:this._ballImageSize});if(!t){var h=new WG.Sprite("animal/".concat(i,".png"),{attach:a,x:0,y:0,width:this._ballImageSize,height:this._ballImageSize});a.animal=h}a.ball=c;var u=E.a.Bodies.circle(a.x,a.y,this._ballImageSize/2.2,{label:"shot",collisionFilter:{category:4}});E.a.World.add(this._matterEngine.world,[u]);var p=void 0===e?"push":"unshift";this._waitBall[p]({color:i,sprite:a,matterBody:u,search:!1,item:t,state:"link"})}},{key:"_settingWaitBall",value:function _settingWaitBall(){if(!(this._waitBall.length<=0)&&(this._waitBall[0].sprite.x=WG.Screen.width/2,this._waitBall[0].sprite.y=I.fitY(WG.Screen.height)-this._ballImageSize,this._waitBall[0].sprite.scale=1,this._waitBall[1].sprite.pSprite.transform)){this._waitBall[1].sprite.x=.3*WG.Screen.width,this._waitBall[1].sprite.y=I.fitY(WG.Screen.height)+10-this._ballImageSize,this._waitBall[1].sprite.scale=.7,E.a.Body.setPosition(this._waitBall[0].matterBody,{x:WG.Screen.width/2,y:I.fitY(WG.Screen.height)-this._ballImageSize});for(var e=2;e<this._waitBall.length;e++)this._waitBall[e].sprite.x=-this._ballImageSize,this._waitBall[e].sprite.y=-this._ballImageSize,E.a.Body.setPosition(this._waitBall[e].matterBody,{x:-this._ballImageSize*e,y:-this._ballImageSize*e})}}},{key:"waitBallSwap",value:function waitBallSwap(){if(!this._swapAnimating){var e=this._waitBall[0];this._waitBall[0]=this._waitBall[1],this._waitBall[1]=e,this._swapAnimating=!0,this._swapStartTime=performance.now(),this._settingWaitBall(),z.sfxPlay("swap"),"fire"===this._waitBall[0].item&&z.sfxPlay("fireshot")}}},{key:"_swapUpdate",value:function _swapUpdate(){var e=(performance.now()-this._swapStartTime)/this._swapAnimationTime;e=1<e?1:e;var t=WG.Screen.width/2,i=I.fitY(WG.Screen.height)-this._ballImageSize,r=.3*WG.Screen.width,n=I.fitY(WG.Screen.height)-this._ballImageSize+50,o=.3*WG.Screen.width,a=I.fitY(WG.Screen.height)-this._ballImageSize-50,s=.3*WG.Screen.width,l=I.fitY(WG.Screen.height)+10-this._ballImageSize,c={x:Math.pow(1-e,2)*t+2*(1-e)*e*r+Math.pow(e,2)*s,y:Math.pow(1-e,2)*i+2*(1-e)*e*n+Math.pow(e,2)*l},h={x:Math.pow(1-e,2)*s+2*(1-e)*e*o+Math.pow(e,2)*t,y:Math.pow(1-e,2)*l+2*(1-e)*e*a+Math.pow(e,2)*i};this._waitBall[0].sprite.x=h.x,this._waitBall[0].sprite.y=h.y,this._waitBall[0].sprite.scale=.7+.3*e,this._waitBall[1].sprite.x=c.x,this._waitBall[1].sprite.y=c.y,this._waitBall[0].sprite.scale=1-.3*(1-e),1<=e&&(this._swapAnimating=!1)}},{key:"shot",value:function shot(e){!1===this._isAvailableShot||this._swapAnimating||(this._isAvailableShot=!1,this._makeNewBall(),this._shotBall=this._waitBall.shift(),this._shotBall.angle=e,this._shotBall.turnAvailable=this._shotBall.angle<90?"left":"right",this._shotBall.item&&(this._itemTime[this._shotBall.item]=performance.now(),this._itemState[this._shotBall.item]=!0),"fire"===this._shotBall.item&&(this._shotBall.sprite.fireTail.visible=!0),this._shell.stop=!1,this._settingWaitBall())}},{key:"update",value:function update(e){"play"===this._parent._state&&(this._waitBallUpdate(),this._shotedBallUpdate(),this._constraintUpdate(),this._floatedBallUpdate(),this._linkedBallUpdate(e),this._emptyLineCheck(),this._lineUpdate(),this._guideline.sniper(),this._deadLineCheck(),this._swapAnimating&&this._swapUpdate()),this._comboTextUpdate(),this._effectTextUpdate()}},{key:"testMode",value:function testMode(){if(this._testMode=!this._testMode,console.log(this._testMode),0<this._ball.length)for(var e=0;e<this._ball.length;e++)if(this._ball[e].indent)for(var t=this._ball[e].data,i=0;i<t.length;i++){var r=t[i];"empty"!==r&&(this._testMode?r.sprite.x-=40:r.sprite.x+=40)}}},{key:"_lineUpdate",value:function _lineUpdate(){}},{key:"_constraintUpdate",value:function _constraintUpdate(){if(!this._testMode)for(var e=0;e<this._ball.length;e++)for(var t=this._ball[e],i=0;i<t.data.length;i++){var r=t.data[i];"empty"!==r&&void 0!==r.matterBody&&(r.sprite.x=r.matterBody.position.x,r.sprite.y=r.matterBody.position.y)}}},{key:"_shotedBallUpdate",value:function _shotedBallUpdate(){if(this._shotBall){if(this._shotBall.sprite.y+this._ballImageSize/2<0)return this._shotBall.sprite.destroy(),E.a.Composite.remove(this._matterEngine.world,this._shotBall.matterBody),this._isAvailableShot=!0,"fire"!==this._shotBall.item&&(z.resetCombo(),g.combo(z.getCombo(),this)),void(this._shotBall=void 0);var e=.0166666666666667*this._shotSpeed,t=this._shotBall.angle+180,i={x:this._shotBall.sprite.x+e*Math.cos(Math.toRadians(t)),y:this._shotBall.sprite.y+e*Math.sin(Math.toRadians(t))};this._shotBall.sprite.x,this._shotBall.sprite.y;if(this._isCollision(i))return this._isAvailableShot=!0,void(this._shotBall=void 0);if(i.x+this._ballImageSize/2>WG.Screen.width&&"right"===this._shotBall.turnAvailable){var r=(WG.Screen.width-this._ballImageSize/2-this._shotBall.sprite.x)/Math.cos(Math.toRadians(t));i.x=this._shotBall.sprite.x+r*Math.cos(Math.toRadians(t)),i.y=this._shotBall.sprite.y+r*Math.sin(Math.toRadians(t)),this._shotBall.angle=180-this._shotBall.angle,this._shotBall.turnAvailable="left"}if(i.x-this._ballImageSize/2<0&&"left"===this._shotBall.turnAvailable){var n=(this._ballImageSize/2-this._shotBall.sprite.x)/Math.cos(Math.toRadians(t));i.x=this._shotBall.sprite.x+n*Math.cos(Math.toRadians(t)),i.y=this._shotBall.sprite.y+n*Math.sin(Math.toRadians(t)),this._shotBall.angle=180-this._shotBall.angle,this._shotBall.turnAvailable="right"}this._shotBall.sprite.x=i.x,this._shotBall.sprite.y=i.y,E.a.Body.setPosition(this._shotBall.matterBody,{x:this._shotBall.sprite.x,y:this._shotBall.sprite.y}),"fire"===this._shotBall.item&&(this._shotBall.sprite.fireTail.rotation=Math.toRadians(this._shotBall.angle-90))}}},{key:"_floatedBallUpdate",value:function _floatedBallUpdate(){for(var a=this,e=function _loop6(e){var o=Object.keys(a._floatBall)[e],t=function _loop7(r){var n=a._floatBall[o][r];if(n.matterConstraint){g.drop(a),a._addMissionHighlight(n.sprite.position,"drop"),n.state="float",a._ball[n.index.row].data[n.index.column]="empty",E.a.Composite.remove(a._matterEngine.world,n.matterConstraint),E.a.Composite.remove(a._matterEngine.world,n.matterBody);var e=E.a.Bodies.circle(n.sprite.x,n.sprite.y,a._ballImageSize/2.2,{label:"?",collisionFilter:{category:8,mask:2}});E.a.World.add(a._matterEngine.world,[e]),E.a.Body.setVelocity(e,{x:0,y:15}),n.matterBody=e,delete n.matterConstraint}if(n.sprite.pSprite.parent?(n.sprite.x=n.matterBody.position.x,n.sprite.y=n.matterBody.position.y):console.log(n),"float"===n.state)1<Math.abs(n.matterBody.velocity.x)&&E.a.Body.setVelocity(n.matterBody,{x:0<n.matterBody.velocity.x?.8:-.8,y:n.matterBody.velocity.y}),n.matterBody.velocity.y<0&&E.a.Body.setVelocity(n.matterBody,{x:n.matterBody.velocity.x,y:0}),E.a.SAT.collides(n.matterBody,a._matterGround).collided&&(n.timeItem&&(z.addTime(),a._isAvailableTimeItem=!0,a._itemTime.time=performance.now()),n.state="float-check",n.floatStartTime=performance.now(),E.a.Body.applyForce(n.matterBody,{x:n.matterBody.position.x,y:n.matterBody.position.y},{x:0,y:-.2}),setTimeout(function(){var e=new WG.AnimationSprite("effect/pop_small.json",{x:0,y:0,scale:1.5,speed:100,loop:!1,attach:n.sprite,rotation:Math.toRadians(360*Math.random())});n.sprite.popAnimation=e;for(var t=function _loop8(t){e.addFrameCallback(t,function(){var e=3<t?0:1/t;n.sprite.ball.scale=e,n.sprite.animal.scale=e})},i=0;i<e.frames.length;i++)t(i);e.onComplete=function(){E.a.World.remove(a._matterEngine.world,n.matterBody),n.sprite.destroy(),delete a._floatBall[o][r],0==a._floatBall[o].length&&delete a._floatBall[o]}},150));else if("float-check"===n.state){var t=.001*(performance.now()-n.floatStartTime)*3;t=1<t?1:t}};for(var i in a._floatBall[o])t(i)},t=0;t<Object.keys(this._floatBall).length;t++)e(t)}},{key:"_linkedBallUpdate",value:function _linkedBallUpdate(e){for(var t=this._moveSpeed*(.001*e),i=0;i<this._ball.length;i++)for(var r=this._ball[i],n=0;n<r.data.length;n++)if("empty"!==r.data[n]){var o=r.data[n];o.lastY=o.lastY+t,o.matterConstraint.pointA.y=o.lastY,10!=this._moveSpeed&&E.a.Body.setPosition(o.matterBody,{x:o.matterConstraint.pointA.x,y:o.matterConstraint.pointA.y})}var a=this._ball[0];void 0===a&&(this._makeNewLine(),a=this._ball[0]);for(var s=0;s<a.data.length;s++)if("empty"!==a.data[s]){var l=a.data[s];l.sprite.y>=I.fitY(0)&&this._makeNewLine(!1,l.lastY);break}for(var c=this._ball[this._ball.length-1],h=0;h<c.data.length;h++)if("empty"!==c.data[h]){c.data[h].matterBody.position.y>WG.Screen.height*(3.5/6)&&(this._moveSpeed=10);break}}},{key:"_waitBallUpdate",value:function _waitBallUpdate(){!this._waitBall[0].item||"fire"!==this._waitBall[0].item&&"color"!==this._waitBall[0].item||(this._waitBall[0].sprite.ball.rotation=Math.toRadians(Math.toDegrees(this._waitBall[0].sprite.ball.rotation)-5))}},{key:"_comboTextUpdate",value:function _comboTextUpdate(){for(var e in this._comboText)this._comboText[e].update(),this._comboText[e].getDelete()&&delete this._comboText[e]}},{key:"_effectTextUpdate",value:function _effectTextUpdate(){for(var e in this._effectText)this._effectText[e].update(),this._effectText[e].getDelete()&&delete this._effectText[e]}},{key:"_OBB",value:function _OBB(e,t){var i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return 2*(this._ballImageSize/2-7.5)>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))&&i}},{key:"_isCollision",value:function _isCollision(e){for(var t=this._ball.length-1;0<=t;t--)for(var i=this._ball[t],r=0;r<i.data.length;r++){var n=i.data[r];if("empty"!==n&&"link"===n.state&&this._OBB(n.sprite,e)){if("fire"===this._shotBall.item)return this._fireProcess(n),!1;this._ball[n.index.row].indent;var o=Math.toDegrees(Math.atan2(this._shotBall.sprite.y-n.sprite.y,this._shotBall.sprite.x-n.sprite.x)),a=void 0,s=void 0;0<=(o=(o=0<o?o:360+o)<360?o:0)&&o<30||330<=o&&o<360?(a={row:n.index.row,column:n.index.column+1},s={x:n.matterConstraint.pointA.x+this._ballImageSize,y:n.matterConstraint.pointA.y},this._settingNewBallToGroup(this._shotBall,a,s)):30<=o&&o<90?(a={row:n.index.row+1,column:n.index.column+(this._ball[n.index.row].indent?1:0)},this._ball[a.row]&&this._ball[a.row].data[a.column]&&"empty"!==this._ball[a.row].data[a.column]&&(a.column-=1),s={x:n.matterConstraint.pointA.x+this._ballImageSize/2,y:n.matterConstraint.pointA.y+this._ballImageSize-this._ballImageSize*(1/8)},this._settingNewBallToGroup(this._shotBall,a,s)):90<=o&&o<150?(a={row:n.index.row+1,column:n.index.column-(this._ball[n.index.row].indent?0:1)},this._ball[a.row]&&this._ball[a.row].data[a.column]&&"empty"!==this._ball[a.row].data[a.column]&&(a.column+=1),s={x:n.matterConstraint.pointA.x-this._ballImageSize/2,y:n.matterConstraint.pointA.y+this._ballImageSize-this._ballImageSize*(1/8)},this._settingNewBallToGroup(this._shotBall,a,s)):150<=o&&o<210?(a={row:n.index.row,column:n.index.column-1},s={x:n.matterConstraint.pointA.x-this._ballImageSize,y:n.matterConstraint.pointA.y},this._settingNewBallToGroup(this._shotBall,a,s)):210<=o&&o<270?(a={row:n.index.row-1,column:n.index.column-(this._ball[n.index.row].indent?0:1)},s={x:n.matterConstraint.pointA.x-this._ballImageSize/2,y:n.matterConstraint.pointA.y-this._ballImageSize+this._ballImageSize*(1/8)},this._settingNewBallToGroup(this._shotBall,a,s)):270<=o&&o<330?(a={row:n.index.row-1,column:n.index.column+(this._ball[n.index.row].indent?1:0)},s={x:n.matterConstraint.pointA.x+this._ballImageSize/2,y:n.matterConstraint.pointA.y-this._ballImageSize+this._ballImageSize*(1/8)},this._settingNewBallToGroup(this._shotBall,a,s)):console.log(o,"각에서 처리 필요합니다");var l={x:n.sprite.x+this._ballImageSize*Math.cos(Math.toRadians(o)),y:n.sprite.y+this._ballImageSize*Math.sin(Math.toRadians(o))};if(this._ball[a.row]&&this._ball[a.row].data[a.column]&&(void 0===this._ball[a.row].data[a.column].item||"color"===this._ball[a.row].data[a.column].item)){if(this._ball[a.row].data[a.column].item?this._itemProcess(this._ball[a.row].data[a.column],n):this._findLinkBall(a),!this._ball[a.row]||this._ball[a.row].data[a.column]||"link"===this._ball[a.row].data[a.column].state){var c={x:.5*-Math.cos(Math.toRadians(this._shotBall.angle)),y:.5*-Math.sin(Math.toRadians(this._shotBall.angle))};E.a.Body.applyForce(n.matterBody,{x:n.matterBody.position.x,y:n.matterBody.position.y},c)}}else this._shotBall.matterConstraint.pointA.x=l.x,this._shotBall.matterConstraint.pointA.y=l.y,E.a.Body.setPosition(this._shotBall.matterBody,l),this._itemProcess(this._ball[a.row].data[a.column],n);return this._shotBall.sprite.x=s.x,this._shotBall.sprite.y=s.y,!0}}return!1}},{key:"_itemProcess",value:function _itemProcess(i,e){var r=this,t=function addCombo(){var e=z.addCombo();g.combo(z.getCombo(),r);var t=new x(z.getCombo(),i.sprite.position);r._comboText[t.key]=t,e&&(r._makeNewBall("fire"),r._settingWaitBall())};switch(i.item){case"color":this._colorProcess(e);break;case"bomb":this._bombProcess(i),t();break;case"tornado":this._tornadoProcess(i),t();break;case"thunder":this._thunderProcess(e,i),t()}}},{key:"_bombProcess",value:function _bombProcess(e){for(var t=this,i=this._findBallByRange(e.index,{width:3,height:5}),r=[],n=0;n<i.length;n++){var o=this._ball[i[n].row].data[i[n].column],a=Math.abs(o.index.row-e.index.row);r[a]=r[a]||[],r[a].push(o)}z.sfxPlay("bomb");for(var s=function _loop9(e){setTimeout(function(){t._itemPopProcess(r[e],"bomb"),e==r.length-1&&t._findFloatingBall()},100/r.length*e)},l=0;l<r.length;l++)s(l)}},{key:"_tornadoProcess",value:function _tornadoProcess(e){for(var t=this,i=this._findBallByRange(e.index,{width:1,height:19}),r=[],n=0;n<i.length;n++){var o=this._ball[i[n].row].data[i[n].column],a=Math.abs(o.index.row-e.index.row);r[a]=r[a]||[],r[a].push(o)}for(var s=function _loop10(e){setTimeout(function(){t._itemPopProcess(r[e],"tornado"),e==r.length-1&&t._findFloatingBall()},40*e)},l=0;l<r.length;l++)s(l);z.sfxPlay("tornado")}},{key:"_thunderProcess",value:function _thunderProcess(e,t){var i=this,r=[];r.push(e);for(var n=0;n<this._ball[e.index.row].data.length;n++)"empty"!==this._ball[e.index.row].data[n]&&r.push(this._ball[e.index.row].data[n]);for(var o={},a=0;a<r.length;a++){var s=r[a],l=Math.abs(s.index.column-e.index.column);o[l]=o[l]||[],o[l].push(s)}o[0].push(t),new WG.AnimationSprite("effect/thunder.json",{x:WG.Screen.width/2,y:o[0][0].sprite.y,speed:700,loop:!1}),z.sfxPlay("thunder");for(var c=function _loop11(e){setTimeout(function(){i._itemPopProcess(o[Object.keys(o)[e]]),e==Object.keys(o).length-1&&i._findFloatingBall()},25*e)},h=0;h<Object.keys(o).length;h++)c(h)}},{key:"_fireProcess",value:function _fireProcess(e){"link"===e.state&&(this._eachPopProcess(e),this._findFloatingBall())}},{key:"_colorProcess",value:function _colorProcess(e){var t=this._findBallByRange(e.index,{width:3,height:3});this._makeNewBall(e.color),this._settingWaitBall();for(var i=0;i<t.length;i++){var r=this._ball[t[i].row].data[t[i].column];if(r.color!==e.color){r.sprite.ball.destroy(),r.sprite.animal&&r.sprite.animal.destroy();var n=new WG.Sprite("ball/".concat(e.color,".png"),{attach:r.sprite,x:0,y:0,width:this._ballImageSize,height:this._ballImageSize}),o=r.timeItem?"time":e.color,a=new WG.Sprite("animal/".concat(o,".png"),{attach:r.sprite,x:0,y:0,scale:r.timeItem?.9:1});new WG.AnimationSprite("effect/color.json",{loop:!1,speed:400,attach:r.sprite}),r.sprite.ball=n,r.sprite.animal=a,r.color=e.color}}z.sfxPlay("color")}},{key:"_settingNewBallToGroup",value:function _settingNewBallToGroup(e,t,i){if(e.index=t,e.lastY=i.y,t.column<0&&t.row<this._ball.length){for(var r=this._ball[t.row].data.length-1;0<=r;r--)this._ball[t.row].data[r+1]=this._ball[t.row].data[r];t.column=0}if(t.row>this._ball.length-1){this._ball.push({indent:!this._ball[this._ball.length-1].indent,data:[]});for(var n=0;n<t.column;n++)this._ball[t.row].data.push("empty");this._ball[t.row].data.push(e)}else{this._ball[t.row].data[t.column]=e;for(var o=0;o<t.column;o++)void 0===this._ball[t.row].data[o]&&(this._ball[t.row].data[o]="empty")}var a=E.a.Constraint.create({pointA:i,bodyB:e.matterBody,length:0,stiffness:.05});E.a.World.add(this._matterEngine.world,[a]),e.matterConstraint=a,delete e.turnAvailable}},{key:"_findBallByRange",value:function _findBallByRange(e,t,i,r,n){if(r=r||[],n=n||0,i=i||{row:e.row,column:e.column},!this._ball[e.row].data[e.column].search){this._ball[e.row].data[e.column].search=!0;var o=Math.abs(i.column-e.column),a=Math.abs(i.row-e.row);if(o<=t.width&&a<=t.height&&"link"===this._ball[e.row].data[e.column].state){r.push(e);for(var s=0;s<4;s++){var l=e.row+(s<2?0===s?-1:1:0),c=e.column+(1<s?2===s?-1:1:0);if(!(l<0||c<0||void 0===this._ball[l]||void 0===this._ball[l].data[c])&&"empty"!==this._ball[l].data[c]){var h={row:l,column:c};this._findBallByRange(h,t,i,r,n+1)}}if(this._ball[e.row].indent)for(var u=0;u<2;u++){var p=e.row+(0==u?-1:1),f=e.column+1;if(!(p<0||f<0||void 0===this._ball[p]||void 0===this._ball[p].data[f])&&"empty"!==this._ball[p].data[f]){var d={row:p,column:f};this._findBallByRange(d,t,i,r,n+1)}}else for(var m=0;m<2;m++){var g=e.row+(0==m?-1:1),y=e.column-1;if(!(g<0||y<0||void 0===this._ball[g]||void 0===this._ball[g].data[y])&&"empty"!==this._ball[g].data[y]){var v={row:g,column:y};this._findBallByRange(v,t,i,r,n+1)}}return 0==n?(this._resetSearch(),r):void 0}}}},{key:"_ballSpeedSetting",value:function _ballSpeedSetting(){for(var e=this._ball[this._ball.length-1],t=0;t<e.data.length;t++)if("empty"!==e.data[t]){e.data[t].matterBody.position.y<WG.Screen.height*(2.2/6)&&(this._moveSpeed=500);break}}},{key:"_addMissionHighlight",value:function _addMissionHighlight(e,i){var t=this;if("stage"===z.getGameMode()){var r=g.getCurrentMission(),n=!1;if(r.map(function(e,t){e.type===i&&(n=t)}),!1!==n){var o=n,a=Object.keys(this._parent.highlight),s=0<a.length?parseInt(a[a.length-1])+1:0;this._parent.highlight[s]=new w({startPosition:e,missionNo:o,type:i,callback:function callback(){delete t._parent.highlight[s]}})}}}},{key:"_makeGameOver",value:function _makeGameOver(e){"gameover"!==this._parent._state&&(this._parent._state="gameover",this._gameover(e))}},{key:"_gameover",value:function _gameover(e){for(var n="pop_small",t=0;t<this._waitBall.length;t++)this._waitBall[t].sprite.destroy();!1===e?(this._ball.reverse(),z.sfxPlay("gameover"),n="stone"):z.sfxPlay("clear"),z.setIsClear(e);for(var i=0;i<this._ball.length;i++)for(var o=this._ball[i],r=function _loop12(e){var r=o.data[e];if("empty"===r||"link"!==r.state)return"continue";setTimeout(function(){if("pop"!==r.state)for(var i=new WG.AnimationSprite("effect/".concat(n,".json"),{x:0,y:0,scale:"stone"===n?1:1.5,speed:100,loop:!1,attach:r.sprite,rotation:"stone"===n?0:Math.toRadians(360*Math.random())}),e=function _loop13(t){i.addFrameCallback(t,function(){var e=3<t?0:1/t;null!=r.sprite.ball&&"stone"!==n&&(r.sprite.ball.scale=e,r.sprite.animal.scale=e),t==i.frames.length-1&&(i.stop=!0)})},t=0;t<i.frames.length;t++)e(t)},i*("stone"===n?70:50))},a=0;a<o.data.length;a++)r(a);E.a.World.clear(this._matterEngine.world),E.a.Engine.clear(this._matterEngine),z.stopWarningSound(),k.in("Result",null,500)}}]),Ball}();function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return i}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gameUI_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function GameUI(i,e){var r=this;!function gameUI_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GameUI),this._ball=i,this._highlight=e,this._earthquake=[!1,!1],this._selectOneColor(i.getBallColor()),this._timeWarningState=0,this._animating=!1,this._uiContainer=new WG.Sprite(null,{zOrder:-2}),this._wallContainer=new WG.Sprite(null,{zOrder:-1}),new WG.Sprite("ui/wall_background.png",{x:WG.Screen.width,y:WG.Screen.height/2,anchorX:0,width:(I.fitX0(WG.Screen.width)-WG.Screen.width)/2,height:I.fitY0(WG.Screen.height),attach:this._wallContainer}),new WG.Sprite("ui/wall_line.png",{x:WG.Screen.width,y:WG.Screen.height/2,anchorX:0,height:I.fitY0(WG.Screen.height),attach:this._wallContainer}),new WG.Sprite("ui/wall_background.png",{x:0,y:WG.Screen.height/2,anchorX:1,width:(I.fitX0(WG.Screen.width)-WG.Screen.width)/2,height:I.fitY0(WG.Screen.height),attach:this._wallContainer}),new WG.Sprite("ui/wall_line.png",{x:0,y:WG.Screen.height/2,anchorX:1,height:I.fitY0(WG.Screen.height),attach:this._wallContainer});new WG.Sprite("ui/game_ui_background_.png",{width:I.fitX0(WG.Screen.width),height:I.fitY0(309),x:WG.Screen.width/2,y:I.fitY(154.5),attach:this._uiContainer});var n=new WG.Sprite("ui/dark.png",{width:I.fitX0(WG.Screen.width),height:I.fitY0(WG.Screen.height),x:WG.Screen.width/2,y:WG.Screen.height/2,alpha:0,visible:!1,attach:this._uiContainer}),t=new WG.Sprite("ui/menu.png",{x:WG.Screen.width/2,y:WG.Screen.height/2+200,alpha:0,visible:!1,attach:this._uiContainer});t.on("pointerdown",function(){k.in("Ready")});var o=new WG.Sprite("ui/play_button.png",{x:WG.Screen.width/2,y:WG.Screen.height/2+50,alpha:0,visible:!1,attach:this._uiContainer});o.on("pointerdown",function(){if(!r._animating&&!z.canPlay()){var e;r._animating=!0;for(var t=0;t<l.length;t++)e=S(l[t],["invisible","down"]);S(n,["invisible"]),e.then(function(){var e=z.resume();i.addItemTimeForPauseResume(e),r._animating=!1})}});var a=new WG.Sprite(z.getSFX()?"ui/sfx_off_button.png":"ui/sfx_on_button.png",{attach:this._uiContainer,alpha:0,visible:!1});a.x=WG.Screen.width/2+50,a.y=WG.Screen.height/2-100,a.on("pointerdown",function(){z.toggleSFX();var e=z.getSFX()?"off":"on";a.texture="ui/sfx_".concat(e,"_button.png")});var s=new WG.Sprite(z.getBGM()?"ui/bgm_off_button.png":"ui/bgm_on_button.png",{attach:this._uiContainer,alpha:0,visible:!1});s.x=WG.Screen.width/2-50,s.y=WG.Screen.height/2-100,s.on("pointerdown",function(){z.toggleBGM();var e=z.getBGM()?"off":"on";s.texture="ui/bgm_".concat(e,"_button.png")});var l=[o,a,s,t],c=new WG.Sprite("ui/pause_button.png",{attach:this._uiContainer,scale:1.4});c.x=I.fitX(WG.Screen.width-30)-c.width/2,c.y=c.height/2+I.fitY(20),c.on("pointerdown",function(){if(!r._animating&&z.canPlay()){var e;r._animating=!0,z.stop();for(var t=0;t<l.length;t++)e=S(l[t],["visible","up"]);S(n,["visible"]),e.then(function(){r._animating=!1})}});var h=new WG.Sprite(null,{y:I.fitY(95),attach:this._uiContainer}),u=new WG.Sprite("ui/timebar_background.png",{attach:h,width:I.fitX0(.8*WG.Screen.width)});if(h.x=u.width/2+I.fitX(45),this.timeBarFill=new WG.Sprite("ui/timebar_fill.png",{attach:h,width:I.fitX0(.8*WG.Screen.width),anchorX:0,y:-.5}),this.timeBarFill.x=-u.width/2+(u.width-this.timeBarFill.width)/2,this.timeBarFill.maxWidth=this.timeBarFill.width,this.timeBarFill.tint=4643583,this.timeBarIcon=new WG.Sprite("ui/timebar_icon.png",{x:-u.width/2,y:-2,attach:h}),this.timeBarIcon.lastUpdate=0,this.timeBarText=new WG.Text("100",{attach:h,theme:"nanum",fill:16777215,fontSize:40,stroke:9546,strokeThickness:7}),"stage"===z.getGameMode()){var p=g.getCurrentMission();this._missionObject=[];for(var f=0;f<p.length;f++)this._missionObject[f]={},this._missionObject[f].parent=new WG.Sprite(null,{y:I.fitY(10),attach:this._uiContainer}),this._missionObject[f].centerBackground=new WG.Sprite("ui/mission_center_outline.png",{attach:this._missionObject[f].parent}),this._missionObject[f].leftBackground=new WG.Sprite("ui/mission_left_outline.png",{attach:this._missionObject[f].parent}),this._missionObject[f].rightBackground=new WG.Sprite("ui/mission_right_outline.png",{attach:this._missionObject[f].parent}),window.a=this._missionObject,"pop"===p[f].type?(this._missionObject[f].missionText=new WG.Sprite("ball/".concat(this._selectedColor,".png"),{attach:this._missionObject[f].parent,width:25,height:25}),new WG.Sprite("animal/".concat(this._selectedColor,".png"),{attach:this._missionObject[f].missionText})):this._missionObject[f].missionText=new WG.Text(p[f].type.toUpperCase(),{theme:"english",fill:16770048,anchorX:0,attach:this._missionObject[f].parent}),this._missionObject[f].currentScore=new WG.Text(0,{anchorX:0,attach:this._missionObject[f].parent,theme:"english",fill:16777215}),this._missionObject[f].conditionText=new WG.Text("/".concat(p[f].condition),{anchorX:0,attach:this._missionObject[f].parent,theme:"english",fill:16777215})}else{var d=new WG.Text("HIGH SCORE",{x:I.fitX(70),y:I.fitY(24),attach:this._uiContainer,fontSize:25,theme:"english",fill:16771584});d.x+=d.width/2;new WG.Text(pad(z.getHighScore(),7),{x:I.fitX(68),y:I.fitY(57),anchorX:0,attach:this._uiContainer,fontSize:43,theme:"english",fill:16777215})}var m=new WG.Text("SCORE",{x:I.fitX(482),y:I.fitY(24),attach:this._uiContainer,fontSize:25,theme:"english",fill:16777215});m.x+=m.width/2,this.scoreValueText=new WG.Text("0000000",{x:I.fitX(480),y:I.fitY(57),anchorX:0,attach:this._uiContainer,fontSize:43,theme:"english",fill:16777215}),this._once=!0,this.updateGameUI()}return function gameUI_createClass(e,t,i){return t&&gameUI_defineProperties(e.prototype,t),i&&gameUI_defineProperties(e,i),e}(GameUI,[{key:"_selectOneColor",value:function _selectOneColor(e){this._selectedColor=e[Math.floor(Math.random()*e.length)],g.setSelectedColor(this._selectedColor)}},{key:"_highlightUpdate",value:function _highlightUpdate(){for(var t=this,e=Object.entries(this._highlight),i=0;i<e.length;i++){var r=_slicedToArray(e[i],2);r[0];r[1].update(function(e){t.earthquake(e)})}}},{key:"updateGameUI",value:function updateGameUI(){var e=this;if(this.scoreValueText.text=pad(z.getScore(),7),"stage"===z.getGameMode()){var t=g.getCurrentMission();this._missionObject[0].parent.x=I.fitX(80),this._missionObject[1]&&(this._missionObject[0].parent.x=I.fitX(-(this._missionObject[0].conditionText.x+this._missionObject[0].conditionText.width+this._missionObject[1].conditionText.x+this._missionObject[1].conditionText.width)/2+180)),this._missionObject[0].parent.y=I.fitY(45);for(var i=g.getMissionProgress(),r=0;r<t.length;r++){var n=this._missionObject[r];switch(t[r].type){case"pop":n.currentScore.text=i.pop[this._selectedColor],n.currentScore.x=n.missionText.x+n.missionText.width;break;default:n.currentScore.text=i[t[r].type],n.currentScore.x=n.missionText.x+n.missionText.width+10}n.conditionText.x=n.currentScore.x+n.currentScore.width;var o=n.conditionText.x+n.conditionText.width+(t[r].type,0);n.ye0junWidth=o,n.centerBackground.x=o/2,n.centerBackground.width=o,n.leftBackground.x=-n.leftBackground.width/2,n.rightBackground.x=n.centerBackground.width+n.rightBackground.width/2}this._missionObject[1]&&(this._missionObject[1].parent.x=this._missionObject[0].parent.x+this._missionObject[0].ye0junWidth+50,this._missionObject[1].parent.y=I.fitY(45))}var a=z.getRemainGameTime();this.timeBarFill.width=this.timeBarFill.maxWidth*z.getRemainGameTimeFloat(),(this.timeBarText.text=a)<=10&&250<performance.now()-this.timeBarIcon.lastUpdate&&(this.timeBarIcon.lastUpdate=performance.now(),0==this._timeWarningState&&(this._timeWarningState=1,this.timeBarFill.tint=14684511,z.playWarningSound(),S(this.timeBarIcon,["down","right","scaleUp"]).then(function(){S(e.timeBarIcon,["up","left","scaleDown"])})),Math.toDegrees(this.timeBarIcon.rotation)<=15?this.timeBarIcon.rotation=Math.toRadians(350):this.timeBarIcon.rotation=Math.toRadians(10)),0===a&&this._once&&(this._ball._makeGameOver(!1),this._once=!1),this._highlightUpdate(),this._earthquakeUpdate()}},{key:"earthquake",value:function earthquake(e){this._earthquake[e]=performance.now()+400}},{key:"_earthquakeUpdate",value:function _earthquakeUpdate(){var n=this;this._earthquake.map(function(e,t){if(!1!==e)if(e>performance.now()){var i=20*Math.random()-10,r=20*Math.random()-10;n._missionObject[t].parent.x+=i,n._missionObject[t].parent.y+=r}else n._earthquake[t]=!1})}}]),GameUI}();function pad(e,t){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}function game_defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function Game(){!function game_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Game)}return function game_createClass(e,t,i){return t&&game_defineProperties(e.prototype,t),i&&game_defineProperties(e,i),e}(Game,[{key:"init",value:function init(){var o=this;this._state="play",z.inGameInit(),g.gameInit(),WG.Sound.bgmPlay("sound/inGame_bgm.mp3"),this.highlight={},this.updateTime=performance.now(),this._ballImageSize=WG.Screen.width/10,this._shotAngle=90,this._availableItems=[],this._rightDown=!1;new B;this.ball=new _(this),this.gameUI=new C(this.ball,this.highlight),this.swap=!1,k.out();var a=!1;void 0===z.getEvent()&&(WG.renderer.plugins.interaction.on("pointermove",function(e){if("Game"===WG.Scene.currentName&&z.canPlay()&&!o.swap){var t={x:(e.data.global.x-(WG.Screen._screenSize.width-WG.Screen._stageSize.w)/2)/WG.Screen._positionRatio.width,y:(e.data.global.y-(WG.Screen._screenSize.height-WG.Screen._stageSize.h)/2)/WG.Screen._positionRatio.height};if(!(t.x<0||t.x>I.fitX(800)||t.y<0||t.y>I.fitY(1280))){var i=(o._mousePosition=t).x-WG.Screen.width/2,r=I.fitY(WG.Screen.height)-o._ballImageSize-t.y,n=Math.toDegrees(Math.atan2(r,i));n<0&&(n=-90<n?10:170),o._shotAngle=180-n,o._shotAngle<10?o._shotAngle=10:170<o._shotAngle&&(o._shotAngle=170),o.ball.guidelineUpdate(o._shotAngle)}}}),WG.renderer.plugins.interaction.on("pointerdown",function(e){if("Game"===WG.Scene.currentName)if(o.swap)o.swap=!1;else if("play"===o._state&&a&&!1===o._rightDown&&z.canPlay()){var t={x:(e.data.global.x-(WG.Screen._screenSize.width-WG.Screen._stageSize.w)/2)/WG.Screen._positionRatio.width,y:(e.data.global.y-(WG.Screen._screenSize.height-WG.Screen._stageSize.h)/2)/WG.Screen._positionRatio.height};if(t.x<0||t.x>I.fitX(800)||t.y<0||t.y>I.fitY(1280))return;var i=(o._mousePosition=t).x-WG.Screen.width/2,r=I.fitY(WG.Screen.height)-o._ballImageSize-t.y,n=Math.toDegrees(Math.atan2(r,i));if(n<1)return;o._shotAngle=180-n,o._shotAngle<10?o._shotAngle=10:170<o._shotAngle&&(o._shotAngle=170),o.ball.guidelineUpdate(o._shotAngle)}}),WG.renderer.plugins.interaction.on("pointerup",function(e){if("Game"===WG.Scene.currentName)if(o.swap)o.swap=!1;else if("play"===o._state&&a&&!1===o._rightDown&&z.canPlay()){var t={x:(e.data.global.x-(WG.Screen._screenSize.width-WG.Screen._stageSize.w)/2)/WG.Screen._positionRatio.width,y:(e.data.global.y-(WG.Screen._screenSize.height-WG.Screen._stageSize.h)/2)/WG.Screen._positionRatio.height};(t.x<0||t.x>I.fitX(800)||t.y<0||t.y>I.fitY(1280))&&(t.x<0?t.x=0:t.x>I.fitX(WG.Screen.width)&&(t.x=I.fitX(WG.Screen.width)),t.y<0?t.y=0:t.y>I.fitY(WG.Screen.height)&&(t.y=I.fitY(WG.Screen.height)));var i=(o._mousePosition=t).x-WG.Screen.width/2,r=I.fitY(WG.Screen.height)-o._ballImageSize-t.y,n=Math.toDegrees(Math.atan2(r,i));n<0&&(n=-90<n?10:170),o._shotAngle=180-n,o._shotAngle<10?o._shotAngle=10:170<o._shotAngle&&(o._shotAngle=170),o.ball.guidelineUpdate(o._shotAngle),o.ball.shot(o._shotAngle),z.sfxPlay("shoot")}}),WG.renderer.plugins.interaction.on("rightdown",function(e){"Game"===WG.Scene.currentName&&"play"===o._state&&a&&z.canPlay()&&(o._rightDown=!0,o.ball.waitBallSwap())}),WG.renderer.plugins.interaction.on("rightup",function(e){"Game"===WG.Scene.currentName&&o._rightDown&&(o._rightDown=!1)}),z.setEvent()),setTimeout(function(){a=!0},500)}},{key:"update",value:function update(){var e=performance.now()-this.updateTime-z.getPauseElapsedTime();z.canPlay()&&(this.updateTime=performance.now(),this.ball.update(e),this.gameUI.updateGameUI())}},{key:"destroy",value:function destroy(){}}]),Game}();WG.Scene.add(new M);var G={};G.Stage=n,G.Result=u,G.Ready=f,G.Game=M;var T={images:[],audios:[]};!function requireAll(e){e.keys().forEach(function(e){if(/\.[^/]*$/g.test(e)){var t="./source/".concat(e.slice(2));/\/image\/uncompress/.test(t)?/\.(json|png|jpg|gif|json)$/.test(e)&&T.images.push(t):/\.(tar)$/.test(e)?T.images.push(t):/\.(?:wav|mp3)$/i.test(e)&&T.audios.push(t)}})}(r(30)),Math.toRadians=function(e){return e*Math.PI/180},Math.toDegrees=function(e){return 180*e/Math.PI},document.oncontextmenu=function(){return!1},window.addEventListener("load",function(){window.RG=new RorGame;var e=!1;window.RG.admob.setOnShow(function(){e||(WG.Sound.muteToggle("bgm",!1),WG.Sound.muteToggle("sfx",!1),e=!0),WG.pause=!0}),window.RG.admob.setOnFinish(function(){e&&(WG.Sound.muteToggle("bgm",!1),WG.Sound.muteToggle("sfx",!1),e=!1),WG.pause=!1}),z.init(),WG.init({screen:{resolution:2,gameWidth:800,gameHeight:1280,rendererColor:0,renderStyle:"fixed"},extrasModuleArr:[],resourceDepth:1,rscArr:T.images,soundArr:T.audios,fontArr:["source/font/Oligopoly Light.woff","source/font/Oligopoly Bold.woff","source/font/KoPubDotumLight.woff","source/font/NanumSquareRoundEB.woff"],rscProgressCallback:function rscProgressCallback(e){},useCamera:!1})}),window.advertisement=function(e){WG.Sound.muteToggle("bgm",e),WG.Sound.muteToggle("sfx",e)}}]);